###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.1.10194/W32 for 8051         08/Feb/2015  17:41:58 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\zstac #
#                          k\Samples\SampleApp\Source\EN_WALL_SOKET_device\EN #
#                          _WALL_SOKET_User_app.c                             #
#    Command line       =  -f "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\z #
#                          stack\Samples\SampleApp\CC2530DB\..\..\..\Tools\CC #
#                          2530DB\f8wRouter.cfg" (-DCPU32MHZ                  #
#                          -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRU #
#                          E -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8       #
#                          -DMAC_CFG_RX_MAX=5 -DRTR_NWK) -f                   #
#                          "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\zsta #
#                          ck\Samples\SampleApp\CC2530DB\..\..\..\Tools\CC253 #
#                          0DB\f8wConfig.cfg" (-DZIGBEEPRO -DSECURE=1         #
#                          -DZG_SECURE_DYNAMIC=0 -DREFLECTOR                  #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFFF                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=60            #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=30           #
#                          -DNWK_MAX_BINDING_ENTRIES=10                       #
#                          -DMAX_BINDING_CLUSTER_IDS=4 -DASSERT_RESET         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=8000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=1000)  #
#                          -DREJOIN_POLL_RATE=440 "D:\RE_1_2_0_FORMAL_APP(251 #
#                          )-14-12-8\Projects\zstack\Samples\SampleApp\Source #
#                          \EN_WALL_SOKET_device\EN_WALL_SOKET_User_app.c"    #
#                          -D NV_INIT -D NV_RESTORE -D HOLD_AUTO_START -D     #
#                          MT_TASK -D MT_APP_FUNC -D MT_SYS_FUNC -D           #
#                          MT_ZDO_FUNC -D MT_ZDO_MGMT -D ISR_KEYINTERRUPT -D  #
#                          WDT_IN_PM1 -D xOSC32K_CRYSTAL_INSTALLED=0 -D       #
#                          xLARGER_NETWORK -D POWER_PA -D EN_WALL_SOKET -lC   #
#                          "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\zsta #
#                          ck\Samples\SampleApp\CC2530DB\EN_WALL_SOKET_ROUTER #
#                          \List\" -lA "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\P #
#                          rojects\zstack\Samples\SampleApp\CC2530DB\EN_WALL_ #
#                          SOKET_ROUTER\List\" --diag_suppress Pe001,Pa010    #
#                          -o "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\z #
#                          stack\Samples\SampleApp\CC2530DB\EN_WALL_SOKET_ROU #
#                          TER\Obj\" -e --no_cse --no_unroll --no_inline      #
#                          --no_code_motion --no_tbaa --debug --core=plain    #
#                          --dptr=16,1 --data_model=large                     #
#                          --code_model=banked --calling_convention=xdata_ree #
#                          ntrant --place_constants=data_rom                  #
#                          --nr_virtual_regs 16 -I "D:\RE_1_2_0_FORMAL_APP(25 #
#                          1)-14-12-8\Projects\zstack\Samples\SampleApp\CC253 #
#                          0DB\" -I "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Proj #
#                          ects\zstack\Samples\SampleApp\CC2530DB\..\Source\" #
#                           -I "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\ #
#                          zstack\Samples\SampleApp\CC2530DB\..\Source\EN_WAL #
#                          L_SOKET_device\" -I "D:\RE_1_2_0_FORMAL_APP(251)-1 #
#                          4-12-8\Projects\zstack\Samples\SampleApp\CC2530DB\ #
#                          ..\..\..\ZMain\TI2530DB\" -I                       #
#                          "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\zsta #
#                          ck\Samples\SampleApp\CC2530DB\..\..\..\..\..\Compo #
#                          nents\hal\include\" -I "D:\RE_1_2_0_FORMAL_APP(251 #
#                          )-14-12-8\Projects\zstack\Samples\SampleApp\CC2530 #
#                          DB\..\..\..\..\..\Components\hal\target\CC2530EB\" #
#                           -I "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\ #
#                          zstack\Samples\SampleApp\CC2530DB\..\..\..\..\..\C #
#                          omponents\mac\include\" -I                         #
#                          "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\zsta #
#                          ck\Samples\SampleApp\CC2530DB\..\..\..\..\..\Compo #
#                          nents\mac\high_level\" -I                          #
#                          "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\zsta #
#                          ck\Samples\SampleApp\CC2530DB\..\..\..\..\..\Compo #
#                          nents\mac\low_level\srf04\" -I                     #
#                          "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\zsta #
#                          ck\Samples\SampleApp\CC2530DB\..\..\..\..\..\Compo #
#                          nents\mac\low_level\srf04\single_chip\" -I         #
#                          "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\zsta #
#                          ck\Samples\SampleApp\CC2530DB\..\..\..\..\..\Compo #
#                          nents\mt\" -I "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8 #
#                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\..\ #
#                          ..\..\..\Components\osal\include\" -I              #
#                          "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\zsta #
#                          ck\Samples\SampleApp\CC2530DB\..\..\..\..\..\Compo #
#                          nents\services\saddr\" -I                          #
#                          "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\zsta #
#                          ck\Samples\SampleApp\CC2530DB\..\..\..\..\..\Compo #
#                          nents\services\sdata\" -I                          #
#                          "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\zsta #
#                          ck\Samples\SampleApp\CC2530DB\..\..\..\..\..\Compo #
#                          nents\stack\af\" -I "D:\RE_1_2_0_FORMAL_APP(251)-1 #
#                          4-12-8\Projects\zstack\Samples\SampleApp\CC2530DB\ #
#                          ..\..\..\..\..\Components\stack\nwk\" -I           #
#                          "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\zsta #
#                          ck\Samples\SampleApp\CC2530DB\..\..\..\..\..\Compo #
#                          nents\stack\sapi\" -I "D:\RE_1_2_0_FORMAL_APP(251) #
#                          -14-12-8\Projects\zstack\Samples\SampleApp\CC2530D #
#                          B\..\..\..\..\..\Components\stack\sec\" -I         #
#                          "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\zsta #
#                          ck\Samples\SampleApp\CC2530DB\..\..\..\..\..\Compo #
#                          nents\stack\sys\" -I "D:\RE_1_2_0_FORMAL_APP(251)- #
#                          14-12-8\Projects\zstack\Samples\SampleApp\CC2530DB #
#                          \..\..\..\..\..\Components\stack\zdo\" -I          #
#                          "D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\zsta #
#                          ck\Samples\SampleApp\CC2530DB\..\..\..\..\..\Compo #
#                          nents\zmac\" -I "D:\RE_1_2_0_FORMAL_APP(251)-14-12 #
#                          -8\Projects\zstack\Samples\SampleApp\CC2530DB\..\. #
#                          .\..\..\..\Components\zmac\f8w\" -On               #
#                          --require_prototypes                               #
#    List file          =  D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\zstac #
#                          k\Samples\SampleApp\CC2530DB\EN_WALL_SOKET_ROUTER\ #
#                          List\EN_WALL_SOKET_User_app.lst                    #
#    Object file        =  D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\zstac #
#                          k\Samples\SampleApp\CC2530DB\EN_WALL_SOKET_ROUTER\ #
#                          Obj\EN_WALL_SOKET_User_app.r51                     #
#                                                                             #
#                                                                             #
###############################################################################

D:\RE_1_2_0_FORMAL_APP(251)-14-12-8\Projects\zstack\Samples\SampleApp\Source\EN_WALL_SOKET_device\EN_WALL_SOKET_User_app.c
      1          /**************************************************************************************************
      2          Filename:       SampleApp.c
      3          Revised:        $Date: 2007-10-27 17:16:54 -0700 (Sat, 27 Oct 2007) $
      4          Revision:       $Revision: 15793 $
      5          
      6          Description:    Sample Application (no Profile).
      7          
      8          
      9          Copyright 2007 Texas Instruments Incorporated. All rights reserved.
     10          
     11          IMPORTANT: Your use of this Software is limited to those specific rights
     12          granted under the terms of a software license agreement between the user
     13          who downloaded the software, his/her employer (which must be your employer)
     14          and Texas Instruments Incorporated (the "License").  You may not use this
     15          Software unless you agree to abide by the terms of the License. The License
     16          limits your use, and you acknowledge, that the Software may not be modified,
     17          copied or distributed unless embedded on a Texas Instruments microcontroller
     18          or used solely and exclusively in conjunction with a Texas Instruments radio
     19          frequency transceiver, which is integrated into your product.  Other than for
     20          the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     21          works of, modify, distribute, perform, display or sell this Software and/or
     22          its documentation for any purpose.
     23          
     24          YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     25          PROVIDED AS IS?WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
     26          INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
     27          NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     28          TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     29          NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     30          LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     31          INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     32          OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     33          OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     34          (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     35          
     36          Should you have any questions regarding your right to use this Software,
     37          contact Texas Instruments Incorporated at www.TI.com.
     38          **************************************************************************************************/
     39          
     40          /*********************************************************************
     41          This application isn't intended to do anything useful, it is
     42          intended to be a simple example of an application's structure.
     43          
     44          This application sends it's messages either as broadcast or
     45          broadcast filtered group messages.  The other (more normal)
     46          message addressing is unicast.  Most of the other sample
     47          applications are written to support the unicast message model.
     48          
     49          Key control:
     50          SW1:  Sends a flash command to all devices in Group 1.
     51          SW2:  Adds/Removes (toggles) this device in and out
     52          of Group 1.  This will enable and disable the
     53          reception of the flash command.
     54          *********************************************************************/
     55          /*******************************************************************************
     56          文件名称：SR_SOCKET_User_app.C
     57          文件功能：用户主文件
     58          设计人员：
     59          设计时间：20141014
     60          修改记录：无
     61          备注说明：包含用户需要填充的所有回调函数，用户只需填充回调函数即可
     62          *******************************************************************************/
     63          /*******************************************************************************
     64          文件包含
     65          *******************************************************************************/
     66          #include "AF.h"
     67          #include "ZDApp.h"
     68          #include "device.h"
     69          #include "OnBoard.h"

   \                                 In  segment SFR_AN, at 0x80
   \   union <unnamed> volatile __sfr _A_P0
   \                     _A_P0:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0x90
   \   union <unnamed> volatile __sfr _A_P1
   \                     _A_P1:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xfd
   \   unsigned char volatile __sfr P0DIR
   \                     P0DIR:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xfe
   \   unsigned char volatile __sfr P1DIR
   \                     P1DIR:
   \   000000                DS 1
     70          #include "MT_UART.h"
     71          
     72          /* HAL */
     73          #include "hal_led.h"
     74          #include "hal_key.h"
     75          #include "OSAL_Nv.h"
     76          
     77          #include "AddrMgr.h"
     78          
     79          #include "ZDObject.h"
     80          #include "ZDO_LIB.h"
     81          #include "common_device.h"
     82          #include "CS5463_spi.h" 
     83          #include "IO_config.h"
     84          /*******************************************************************************
     85          全局变量
     86          *******************************************************************************/  

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     87          uint8 UserApp_TaskID;//用户注册的任务的编号，系统自动分配
   \                     UserApp_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     88          uint8 RS_LEN=0;
   \                     RS_LEN:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     89          uint8 RS_STR[10];
   \                     RS_STR:
   \   000000                DS 10
   \   00000A                REQUIRE __INIT_XDATA_Z
     90          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     91          uint8 DEVICE_ID;
   \                     DEVICE_ID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     92          uint8 DEFINED_CONTROL_CHAR;
   \                     DEFINED_CONTROL_CHAR:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     93          uint8 JOIN_ROLE;
   \                     JOIN_ROLE:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     94          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     95          uint8 SHORT_ADRESS[4];
   \                     SHORT_ADRESS:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     96          uint8 USER_DATA_LEN=0;
   \                     USER_DATA_LEN:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     97          uint8 USER_DATA_TYPE=0;
   \                     USER_DATA_TYPE:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     98          uint8 *USER_DATA_STR;
   \                     USER_DATA_STR:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     99          uint32 P_Value;
   \                     P_Value:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z
    100          extern uint8 KEY_NUMBER_FLAG_A ;//按键标志
    101          
    102          // 节点相关的全局变量-----------------------------------------------------------
    103          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    104          cId_t  USER_SampleApp_ClusterList[SAMPLEAPP_MAX_CLUSTERS]=
   \                     USER_SampleApp_ClusterList:
   \   000000                DS 26
   \   00001A                REQUIRE `?<Initializer for USER_SampleApp_ClusterList>`
   \   00001A                REQUIRE __INIT_XDATA_I
    105          {
    106              SAMPLEAPP_ONOFF_CLUSTERID,
    107              SAMPLEAPP_FLASH_CLUSTERID,
    108              SAMPLEAPP_ADDR_CLUSTERID,
    109              SAMPLEAPP_COMMAND_CLUSTERID,
    110              SAMPLEAPP_PERIODIC_CLUSTERID,
    111              SAMPLEAPP_ANNCE_REQ_CLUSTERID,
    112              SAMPLEAPP_PERIODIC_COORDINATOR_CLUSTERID,
    113              SAMPLEAPP_ACTIVE_COMMAND_CLUSTERID
    114          };
    115          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    116          endPointDesc_t SampleApp_epDesc1;
   \                     SampleApp_epDesc1:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    117          endPointDesc_t SampleApp_epDesc2;
   \                     SampleApp_epDesc2:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z
    118          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    119          SimpleDescriptionFormat_t SampleApp_SimpleDesc1 =
   \                     SampleApp_SimpleDesc1:
   \   000000                DS 12
   \   00000C                REQUIRE `?<Initializer for SampleApp_SimpleDesc1>`
   \   00000C                REQUIRE __INIT_XDATA_I
    120          {
    121              SAMPLEAPP_ENDPOINT1,              //  int Endpoint;
    122              SAMPLEAPP_PROFID,                //  uint16 AppProfId[2];
    123              SAMPLEAPP_DEVICEID,              //  uint16 AppDeviceId[2];
    124              SAMPLEAPP_DEVICE_VERSION,        //  int   AppDevVer:4;
    125              SAMPLEAPP_FLAGS,                 //  int   AppFlags:4;
    126              SAMPLEAPP_MAX_CLUSTERS,          //  uint8  AppNumInClusters;
    127              (cId_t *)USER_SampleApp_ClusterList,  //  uint8 *pAppInClusterList;
    128              SAMPLEAPP_MAX_CLUSTERS,          //  uint8  AppNumInClusters;
    129              (cId_t *)USER_SampleApp_ClusterList   //  uint8 *pAppInClusterList;
    130          };
    131          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    132          SimpleDescriptionFormat_t SampleApp_SimpleDesc2 =
   \                     SampleApp_SimpleDesc2:
   \   000000                DS 12
   \   00000C                REQUIRE `?<Initializer for SampleApp_SimpleDesc2>`
   \   00000C                REQUIRE __INIT_XDATA_I
    133          {
    134              SAMPLEAPP_ENDPOINT2,              //  int Endpoint;
    135              SAMPLEAPP_PROFID,                //  uint16 AppProfId[2];
    136              SAMPLEAPP_DEVICEID,              //  uint16 AppDeviceId[2];
    137              SAMPLEAPP_DEVICE_VERSION,        //  int   AppDevVer:4;
    138              SAMPLEAPP_FLAGS,                 //  int   AppFlags:4;
    139              SAMPLEAPP_MAX_CLUSTERS,          //  uint8  AppNumInClusters;
    140              (cId_t *)USER_SampleApp_ClusterList,  //  uint8 *pAppInClusterList;
    141              SAMPLEAPP_MAX_CLUSTERS,          //  uint8  AppNumInClusters;
    142              (cId_t *)USER_SampleApp_ClusterList   //  uint8 *pAppInClusterList;
    143          };
    144          //绑定命令

   \                                 In  segment XDATA_I, align 1, keep-with-next
    145          cId_t USER_bindingINClusters[1]=
   \                     USER_bindingINClusters:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for USER_bindingINClusters>`
   \   000002                REQUIRE __INIT_XDATA_I
    146          {
    147              SAMPLEAPP_ONOFF_CLUSTERID
    148          };
    149          
    150          //计量的全局变量--------------------

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    151          uint32 	P_Value_Pre, P_Value_Now, P_Value_energy = 0;//功率的当前值和前一个功率值
   \                     P_Value_Pre:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     P_Value_Now:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     P_Value_energy:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_I, align 1, keep-with-next
    152          uint32 	P_Protect_Value = 10;//功率保护值
   \                     P_Protect_Value:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for P_Protect_Value>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    153          uint16  P_Value_Distance = 100;//功率上报的差值
   \                     P_Value_Distance:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for P_Value_Distance>`
   \   000002                REQUIRE __INIT_XDATA_I
    154          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    155          uint16 	P_Value_jiaozhun_Temp = 0, I_Value_jiaozhun_Temp = 0;//功率校准值
   \                     P_Value_jiaozhun_Temp:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     I_Value_jiaozhun_Temp:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_I, align 1, keep-with-next
    156          float  P_Value_Bili_Temp = 1.0, I_Value_Bili_Temp = 1.0;//功率的比例校准
   \                     P_Value_Bili_Temp:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for P_Value_Bili_Temp>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     I_Value_Bili_Temp:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for I_Value_Bili_Temp>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    157          uint16 	P_Value_Bili , I_Value_Bili ;//功率的比例校准,电流比例校准
   \                     P_Value_Bili:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     I_Value_Bili:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    158          uint32 Total_P_Value = 0,Total_P_Value_Temp = 0;//总功率值，使用WH为单位；
   \                     Total_P_Value:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     Total_P_Value_Temp:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    159          uint32 I_Value_Now;//当前电流值
   \                     I_Value_Now:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    160          uint8  CS5463_STR[10];//0-已校准的标记 ； 1、2- 功率偏移；  3、4-功率的比例；  5、6-电流的偏移； 7、8-电流的比例
   \                     CS5463_STR:
   \   000000                DS 10
   \   00000A                REQUIRE __INIT_XDATA_Z
    161          /*******************************************************************************
    162          函数声明
    163          *******************************************************************************/
    164          uint8 USER_APP_COMMAND(uint8 *user_app_data,uint8 *str); 
    165          void USER_APP_JOIN_MSG(void);
    166          void SampleApp_ProcessBINDINGMessage(afIncomingMSGPacket_t *pkt);
    167          
    168          void User_APP_Drive_init(void);
    169          void SampleApp_HandleKeys( uint8 shift, uint8 keys );//本用户应用按键函数
    170          void USER_SET_RS_MSG(void);//设置RS数据
    171          
    172          void USER_ZDO_JOINING_MSG(void); //ZDO层入网的时候处理函数 就是闪烁灯
    173          uint8 READ_NETKEY(void); //读取入网状态按键的状态传递到应用层
    174          void LED_CHANGE(uint8 Position,uint8 Mode);// 设置LED函数
    175          void SampleAPP_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg );
    176          
    177          uint8 CS5463_Send_PWER(void);
    178          void P_JiaoZhun_Process(void);
    179          void USER_AFTER_RS_MSG(void);
    180          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    181          void USER_AFTER_RS_MSG(void)
   \                     USER_AFTER_RS_MSG:
    182          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
    183          
    184          }
   \   000000   02....       LJMP    ?BRET
    185          /*******************************************************************************
    186          * 函数名称: UserApp_Init
    187          * 函数功能: 用户的初始化函数
    188          * 入口参数: task_id：用户的任务的编号，是系统分配的，用户不用操心    
    189          * 出口参数: 无
    190          * 备注说明: 无
    191          ******************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    192          void UserApp_Init( uint8 task_id )
   \                     UserApp_Init:
    193          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FE           MOV     R6,A
    194              
    195              UserApp_TaskID = task_id;
   \   000007   EE           MOV     A,R6
   \   000008   90....       MOV     DPTR,#UserApp_TaskID
   \   00000B   F0           MOVX    @DPTR,A
    196              
    197              RegisterForKeys(task_id);
   \   00000C                ; Setup parameters for call to function RegisterForKeys
   \   00000C   EE           MOV     A,R6
   \   00000D   F9           MOV     R1,A
   \   00000E   12....       LCALL   ??RegisterForKeys?relay
   \   000011   E9           MOV     A,R1
    198              
    199              SampleApp_epDesc1.endPoint = SAMPLEAPP_ENDPOINT1;//SampleApp EP描述符的EP号：20
   \   000012   90....       MOV     DPTR,#SampleApp_epDesc1
   \   000015   7415         MOV     A,#0x15
   \   000017   F0           MOVX    @DPTR,A
    200              SampleApp_epDesc1.task_id = &SampleApp_TaskID;//SampleApp EP描述符的任务ID：0
   \   000018   90....       MOV     DPTR,#SampleApp_epDesc1 + 1
   \   00001B   74..         MOV     A,#SampleApp_TaskID & 0xff
   \   00001D   F0           MOVX    @DPTR,A
   \   00001E   A3           INC     DPTR
   \   00001F   74..         MOV     A,#(SampleApp_TaskID >> 8) & 0xff
   \   000021   F0           MOVX    @DPTR,A
    201              SampleApp_epDesc1.simpleDesc = (SimpleDescriptionFormat_t *)&SampleApp_SimpleDesc1;//SampleApp EP简单描述符
   \   000022   90....       MOV     DPTR,#SampleApp_epDesc1 + 3
   \   000025   74..         MOV     A,#SampleApp_SimpleDesc1 & 0xff
   \   000027   F0           MOVX    @DPTR,A
   \   000028   A3           INC     DPTR
   \   000029   74..         MOV     A,#(SampleApp_SimpleDesc1 >> 8) & 0xff
   \   00002B   F0           MOVX    @DPTR,A
    202              SampleApp_epDesc1.latencyReq = noLatencyReqs;//延时策略
   \   00002C   90....       MOV     DPTR,#SampleApp_epDesc1 + 5
   \   00002F   7400         MOV     A,#0x0
   \   000031   F0           MOVX    @DPTR,A
    203              afRegister( &SampleApp_epDesc1 );
   \   000032                ; Setup parameters for call to function afRegister
   \   000032   7A..         MOV     R2,#SampleApp_epDesc1 & 0xff
   \   000034   7B..         MOV     R3,#(SampleApp_epDesc1 >> 8) & 0xff
   \   000036   12....       LCALL   ??afRegister?relay
   \   000039   E9           MOV     A,R1
    204              
    205              SampleApp_epDesc2.endPoint = SAMPLEAPP_ENDPOINT2;//SampleApp EP描述符的EP号：20
   \   00003A   90....       MOV     DPTR,#SampleApp_epDesc2
   \   00003D   7416         MOV     A,#0x16
   \   00003F   F0           MOVX    @DPTR,A
    206              SampleApp_epDesc2.task_id = &SampleApp_TaskID;//SampleApp EP描述符的任务ID：0
   \   000040   90....       MOV     DPTR,#SampleApp_epDesc2 + 1
   \   000043   74..         MOV     A,#SampleApp_TaskID & 0xff
   \   000045   F0           MOVX    @DPTR,A
   \   000046   A3           INC     DPTR
   \   000047   74..         MOV     A,#(SampleApp_TaskID >> 8) & 0xff
   \   000049   F0           MOVX    @DPTR,A
    207              SampleApp_epDesc2.simpleDesc  = (SimpleDescriptionFormat_t *)&SampleApp_SimpleDesc2;//SampleApp EP简单描述符
   \   00004A   90....       MOV     DPTR,#SampleApp_epDesc2 + 3
   \   00004D   74..         MOV     A,#SampleApp_SimpleDesc2 & 0xff
   \   00004F   F0           MOVX    @DPTR,A
   \   000050   A3           INC     DPTR
   \   000051   74..         MOV     A,#(SampleApp_SimpleDesc2 >> 8) & 0xff
   \   000053   F0           MOVX    @DPTR,A
    208              SampleApp_epDesc2.latencyReq = noLatencyReqs;//延时策略
   \   000054   90....       MOV     DPTR,#SampleApp_epDesc2 + 5
   \   000057   7400         MOV     A,#0x0
   \   000059   F0           MOVX    @DPTR,A
    209              afRegister( &SampleApp_epDesc2 );
   \   00005A                ; Setup parameters for call to function afRegister
   \   00005A   7A..         MOV     R2,#SampleApp_epDesc2 & 0xff
   \   00005C   7B..         MOV     R3,#(SampleApp_epDesc2 >> 8) & 0xff
   \   00005E   12....       LCALL   ??afRegister?relay
   \   000061   E9           MOV     A,R1
    210              
    211              ZDO_RegisterForZDOMsg( UserApp_TaskID, End_Device_Bind_rsp );//注册终端节点绑定消息接收事件，用于截取绑定类的消息  
   \   000062                ; Setup parameters for call to function ZDO_RegisterForZDOMsg
   \   000062   7A20         MOV     R2,#0x20
   \   000064   7B80         MOV     R3,#-0x80
   \   000066   90....       MOV     DPTR,#UserApp_TaskID
   \   000069   E0           MOVX    A,@DPTR
   \   00006A   F9           MOV     R1,A
   \   00006B   12....       LCALL   ??ZDO_RegisterForZDOMsg?relay
   \   00006E   E9           MOV     A,R1
    212              
    213              User_APP_Drive_init();
   \   00006F                ; Setup parameters for call to function User_APP_Drive_init
   \   00006F   12....       LCALL   ??User_APP_Drive_init?relay
    214              
    215          }
   \   000072   7F01         MOV     R7,#0x1
   \   000074   02....       LJMP    ?BANKED_LEAVE_XDATA
    216          /*******************************************************************************
    217          * 函数名称: UserApp_ProcessEvent
    218          * 函数功能: 事件处理函数，此函数会被系统轮询
    219          * 入口参数: task_id：用户的任务的编号，是系统分配的，用户不用操心  
    220          events：事件mark表 
    221          * 出口参数: 无
    222          * 备注说明: 此函数的函数头固定不变，用户不必操心
    223          ******************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    224          UINT16 UserApp_ProcessEvent( uint8 task_id, uint16 events )
   \                     UserApp_ProcessEvent:
    225          {
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 0
   \   000005   89..         MOV     ?V0 + 2,R1
   \   000007   EA           MOV     A,R2
   \   000008   FE           MOV     R6,A
   \   000009   EB           MOV     A,R3
   \   00000A   FF           MOV     R7,A
    226              afIncomingMSGPacket_t *MSGpkt;
    227              
    228              //系统事件，在这里主要处理按键----------------------------------------------
    229              if ( events & SYS_EVENT_MSG )
   \   00000B   EE           MOV     A,R6
   \   00000C   5400         ANL     A,#0x0
   \   00000E   F8           MOV     R0,A
   \   00000F   EF           MOV     A,R7
   \   000010   5480         ANL     A,#0x80
   \   000012   F9           MOV     R1,A
   \   000013   E8           MOV     A,R0
   \   000014   49           ORL     A,R1
   \   000015   6071         JZ      ??UserApp_ProcessEvent_0
    230              {
    231                  MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( UserApp_TaskID );
   \   000017                ; Setup parameters for call to function osal_msg_receive
   \   000017   90....       MOV     DPTR,#UserApp_TaskID
   \   00001A   E0           MOVX    A,@DPTR
   \   00001B   F9           MOV     R1,A
   \   00001C   12....       LCALL   ??osal_msg_receive?relay
   \   00001F   8A..         MOV     ?V0 + 4,R2
   \   000021   8B..         MOV     ?V0 + 5,R3
   \   000023   85....       MOV     ?V0 + 0,?V0 + 4
   \   000026   85....       MOV     ?V0 + 1,?V0 + 5
    232                  while ( MSGpkt )                                           
   \                     ??UserApp_ProcessEvent_1:
   \   000029   E5..         MOV     A,?V0 + 0
   \   00002B   45..         ORL     A,?V0 + 1
   \   00002D   604E         JZ      ??UserApp_ProcessEvent_2
    233                  {                                                                     
    234                      switch ( MSGpkt->hdr.event )
   \   00002F   85..82       MOV     DPL,?V0 + 0
   \   000032   85..83       MOV     DPH,?V0 + 1
   \   000035   E0           MOVX    A,@DPTR
   \   000036   2440         ADD     A,#0x40
   \   000038   6006         JZ      ??UserApp_ProcessEvent_3
   \   00003A   24ED         ADD     A,#-0x13
   \   00003C   601C         JZ      ??UserApp_ProcessEvent_4
   \   00003E   8021         SJMP    ??UserApp_ProcessEvent_5
    235                      {
    236                          case KEY_CHANGE:      
    237                          SampleApp_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
   \                     ??UserApp_ProcessEvent_3:
   \   000040                ; Setup parameters for call to function SampleApp_HandleKeys
   \   000040   85..82       MOV     DPL,?V0 + 0
   \   000043   85..83       MOV     DPH,?V0 + 1
   \   000046   A3           INC     DPTR
   \   000047   A3           INC     DPTR
   \   000048   A3           INC     DPTR
   \   000049   E0           MOVX    A,@DPTR
   \   00004A   FA           MOV     R2,A
   \   00004B   85..82       MOV     DPL,?V0 + 0
   \   00004E   85..83       MOV     DPH,?V0 + 1
   \   000051   A3           INC     DPTR
   \   000052   A3           INC     DPTR
   \   000053   E0           MOVX    A,@DPTR
   \   000054   F9           MOV     R1,A
   \   000055   12....       LCALL   ??SampleApp_HandleKeys?relay
    238                          break;                                             
   \   000058   8007         SJMP    ??UserApp_ProcessEvent_5
    239                          
    240                          case ZDO_CB_MSG:
    241                          SampleAPP_ProcessZDOMsgs( (zdoIncomingMsg_t *)MSGpkt );
   \                     ??UserApp_ProcessEvent_4:
   \   00005A                ; Setup parameters for call to function SampleAPP_ProcessZDOMsgs
   \   00005A   AA..         MOV     R2,?V0 + 0
   \   00005C   AB..         MOV     R3,?V0 + 1
   \   00005E   12....       LCALL   ??SampleAPP_ProcessZDOMsgs?relay
    242                          break;
    243                          
    244                          default:
    245                          break;
    246                      }
    247                      
    248                      // Release the memory
    249                      //释放消息占用的内存
    250                      osal_msg_deallocate( (uint8 *)MSGpkt );
   \                     ??UserApp_ProcessEvent_5:
   \   000061                ; Setup parameters for call to function osal_msg_deallocate
   \   000061   AA..         MOV     R2,?V0 + 0
   \   000063   AB..         MOV     R3,?V0 + 1
   \   000065   12....       LCALL   ??osal_msg_deallocate?relay
   \   000068   E9           MOV     A,R1
    251                      
    252                      // Next - if one is available
    253                      MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( UserApp_TaskID );
   \   000069                ; Setup parameters for call to function osal_msg_receive
   \   000069   90....       MOV     DPTR,#UserApp_TaskID
   \   00006C   E0           MOVX    A,@DPTR
   \   00006D   F9           MOV     R1,A
   \   00006E   12....       LCALL   ??osal_msg_receive?relay
   \   000071   8A..         MOV     ?V0 + 4,R2
   \   000073   8B..         MOV     ?V0 + 5,R3
   \   000075   85....       MOV     ?V0 + 0,?V0 + 4
   \   000078   85....       MOV     ?V0 + 1,?V0 + 5
   \   00007B   80AC         SJMP    ??UserApp_ProcessEvent_1
    254                  }//end： while ( MSGpkt )
    255                  
    256                  return (events ^ SYS_EVENT_MSG);
   \                     ??UserApp_ProcessEvent_2:
   \   00007D   EE           MOV     A,R6
   \   00007E   6400         XRL     A,#0x0
   \   000080   FA           MOV     R2,A
   \   000081   EF           MOV     A,R7
   \   000082   6480         XRL     A,#0x80
   \   000084   FB           MOV     R3,A
   \   000085   02....       LJMP    ??UserApp_ProcessEvent_6 & 0xFFFF
    257              }
    258              
    259              
    260              //用户自行添加的事件处理----------------------------------------------------
    261              if ( events & USER_SEND_MESSAGE_EVT )//每两秒读取一次CS5463操作
   \                     ??UserApp_ProcessEvent_0:
   \   000088   EE           MOV     A,R6
   \   000089   A2E0         MOV     C,0xE0 /* A   */.0
   \   00008B   4003         JC      $+5
   \   00008D   02....       LJMP    ??UserApp_ProcessEvent_7 & 0xFFFF
    262              {
    263          
    264                  
    265                  
    266                  osal_nv_item_init(CS5463_JIAOZHUN_NV_FLAG, 10, CS5463_STR);  
   \   000090                ; Setup parameters for call to function osal_nv_item_init
   \   000090   75....       MOV     ?V0 + 4,#CS5463_STR & 0xff
   \   000093   75....       MOV     ?V0 + 5,#(CS5463_STR >> 8) & 0xff
   \   000096   78..         MOV     R0,#?V0 + 4
   \   000098   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00009B   7C0A         MOV     R4,#0xa
   \   00009D   7D00         MOV     R5,#0x0
   \   00009F   7A20         MOV     R2,#0x20
   \   0000A1   7B04         MOV     R3,#0x4
   \   0000A3   12....       LCALL   ??osal_nv_item_init?relay
   \   0000A6   7402         MOV     A,#0x2
   \   0000A8   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000AB   E9           MOV     A,R1
    267                  osal_nv_read(CS5463_JIAOZHUN_NV_FLAG, 0, 10,   CS5463_STR);
   \   0000AC                ; Setup parameters for call to function osal_nv_read
   \   0000AC   75....       MOV     ?V0 + 4,#CS5463_STR & 0xff
   \   0000AF   75....       MOV     ?V0 + 5,#(CS5463_STR >> 8) & 0xff
   \   0000B2   78..         MOV     R0,#?V0 + 4
   \   0000B4   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000B7   75..0A       MOV     ?V0 + 4,#0xa
   \   0000BA   75..00       MOV     ?V0 + 5,#0x0
   \   0000BD   78..         MOV     R0,#?V0 + 4
   \   0000BF   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000C2   7C00         MOV     R4,#0x0
   \   0000C4   7D00         MOV     R5,#0x0
   \   0000C6   7A20         MOV     R2,#0x20
   \   0000C8   7B04         MOV     R3,#0x4
   \   0000CA   12....       LCALL   ??osal_nv_read?relay
   \   0000CD   7404         MOV     A,#0x4
   \   0000CF   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000D2   E9           MOV     A,R1
    268                  
    269                  if(CS5463_STR[0] == 11)//如果已经保存了校准值，则直接读取已经保存的校准值
   \   0000D3   90....       MOV     DPTR,#CS5463_STR
   \   0000D6   E0           MOVX    A,@DPTR
   \   0000D7   640B         XRL     A,#0xb
   \   0000D9   6003         JZ      $+5
   \   0000DB   02....       LJMP    ??UserApp_ProcessEvent_8 & 0xFFFF
    270                  {
    271                      
    272                      P_Value_Bili_Temp = (float)((uint16)CS5463_STR[3] << 8 | (uint16)CS5463_STR[4]) / 1000;//存储的时候*1000
   \   0000DE   90....       MOV     DPTR,#CS5463_STR + 3
   \   0000E1   E0           MOVX    A,@DPTR
   \   0000E2   F8           MOV     R0,A
   \   0000E3   7900         MOV     R1,#0x0
   \   0000E5   E4           CLR     A
   \   0000E6   C8           XCH     A,R0
   \   0000E7   F9           MOV     R1,A
   \   0000E8   90....       MOV     DPTR,#CS5463_STR + 4
   \   0000EB   E0           MOVX    A,@DPTR
   \   0000EC   FA           MOV     R2,A
   \   0000ED   7B00         MOV     R3,#0x0
   \   0000EF   E8           MOV     A,R0
   \   0000F0   4A           ORL     A,R2
   \   0000F1   F5..         MOV     ?V0 + 4,A
   \   0000F3   E9           MOV     A,R1
   \   0000F4   4B           ORL     A,R3
   \   0000F5   F5..         MOV     ?V0 + 5,A
   \   0000F7   E4           CLR     A
   \   0000F8   F5..         MOV     ?V0 + 6,A
   \   0000FA   F5..         MOV     ?V0 + 7,A
   \   0000FC   78..         MOV     R0,#?V0 + 4
   \   0000FE   12....       LCALL   ?UL_TO_FLT
   \   000101   90....       MOV     DPTR,#__Constant_447a0000
   \   000104   78..         MOV     R0,#?V0 + 8
   \   000106   12....       LCALL   ?L_MOV_X
   \   000109   78..         MOV     R0,#?V0 + 4
   \   00010B   79..         MOV     R1,#?V0 + 8
   \   00010D   12....       LCALL   ?FLT_DIV
   \   000110   AA..         MOV     R2,?V0 + 4
   \   000112   AB..         MOV     R3,?V0 + 5
   \   000114   AC..         MOV     R4,?V0 + 6
   \   000116   AD..         MOV     R5,?V0 + 7
   \   000118   90....       MOV     DPTR,#P_Value_Bili_Temp
   \   00011B   E5..         MOV     A,?V0 + 4
   \   00011D   F0           MOVX    @DPTR,A
   \   00011E   A3           INC     DPTR
   \   00011F   E5..         MOV     A,?V0 + 5
   \   000121   F0           MOVX    @DPTR,A
   \   000122   A3           INC     DPTR
   \   000123   E5..         MOV     A,?V0 + 6
   \   000125   F0           MOVX    @DPTR,A
   \   000126   A3           INC     DPTR
   \   000127   E5..         MOV     A,?V0 + 7
   \   000129   F0           MOVX    @DPTR,A
    273                      P_Value_jiaozhun_Temp = (uint16)CS5463_STR[1] << 8 | (uint16)CS5463_STR[2];
   \   00012A   90....       MOV     DPTR,#CS5463_STR + 1
   \   00012D   E0           MOVX    A,@DPTR
   \   00012E   F8           MOV     R0,A
   \   00012F   7900         MOV     R1,#0x0
   \   000131   E4           CLR     A
   \   000132   C8           XCH     A,R0
   \   000133   F9           MOV     R1,A
   \   000134   90....       MOV     DPTR,#CS5463_STR + 2
   \   000137   E0           MOVX    A,@DPTR
   \   000138   FA           MOV     R2,A
   \   000139   7B00         MOV     R3,#0x0
   \   00013B   E8           MOV     A,R0
   \   00013C   4A           ORL     A,R2
   \   00013D   F8           MOV     R0,A
   \   00013E   E9           MOV     A,R1
   \   00013F   4B           ORL     A,R3
   \   000140   F9           MOV     R1,A
   \   000141   90....       MOV     DPTR,#P_Value_jiaozhun_Temp
   \   000144   E8           MOV     A,R0
   \   000145   F0           MOVX    @DPTR,A
   \   000146   A3           INC     DPTR
   \   000147   E9           MOV     A,R1
   \   000148   F0           MOVX    @DPTR,A
    274                      I_Value_Bili_Temp = (float)((uint16)CS5463_STR[7] << 8 | (uint16)CS5463_STR[8]) / 1000;//存储的时候*1000
   \   000149   90....       MOV     DPTR,#CS5463_STR + 7
   \   00014C   E0           MOVX    A,@DPTR
   \   00014D   F8           MOV     R0,A
   \   00014E   7900         MOV     R1,#0x0
   \   000150   E4           CLR     A
   \   000151   C8           XCH     A,R0
   \   000152   F9           MOV     R1,A
   \   000153   90....       MOV     DPTR,#CS5463_STR + 8
   \   000156   E0           MOVX    A,@DPTR
   \   000157   FA           MOV     R2,A
   \   000158   7B00         MOV     R3,#0x0
   \   00015A   E8           MOV     A,R0
   \   00015B   4A           ORL     A,R2
   \   00015C   F5..         MOV     ?V0 + 4,A
   \   00015E   E9           MOV     A,R1
   \   00015F   4B           ORL     A,R3
   \   000160   F5..         MOV     ?V0 + 5,A
   \   000162   E4           CLR     A
   \   000163   F5..         MOV     ?V0 + 6,A
   \   000165   F5..         MOV     ?V0 + 7,A
   \   000167   78..         MOV     R0,#?V0 + 4
   \   000169   12....       LCALL   ?UL_TO_FLT
   \   00016C   90....       MOV     DPTR,#__Constant_447a0000
   \   00016F   78..         MOV     R0,#?V0 + 8
   \   000171   12....       LCALL   ?L_MOV_X
   \   000174   78..         MOV     R0,#?V0 + 4
   \   000176   79..         MOV     R1,#?V0 + 8
   \   000178   12....       LCALL   ?FLT_DIV
   \   00017B   AA..         MOV     R2,?V0 + 4
   \   00017D   AB..         MOV     R3,?V0 + 5
   \   00017F   AC..         MOV     R4,?V0 + 6
   \   000181   AD..         MOV     R5,?V0 + 7
   \   000183   90....       MOV     DPTR,#I_Value_Bili_Temp
   \   000186   E5..         MOV     A,?V0 + 4
   \   000188   F0           MOVX    @DPTR,A
   \   000189   A3           INC     DPTR
   \   00018A   E5..         MOV     A,?V0 + 5
   \   00018C   F0           MOVX    @DPTR,A
   \   00018D   A3           INC     DPTR
   \   00018E   E5..         MOV     A,?V0 + 6
   \   000190   F0           MOVX    @DPTR,A
   \   000191   A3           INC     DPTR
   \   000192   E5..         MOV     A,?V0 + 7
   \   000194   F0           MOVX    @DPTR,A
    275                      I_Value_jiaozhun_Temp = (uint16)CS5463_STR[5] << 8 | (uint16)CS5463_STR[6];
   \   000195   90....       MOV     DPTR,#CS5463_STR + 5
   \   000198   E0           MOVX    A,@DPTR
   \   000199   F8           MOV     R0,A
   \   00019A   7900         MOV     R1,#0x0
   \   00019C   E4           CLR     A
   \   00019D   C8           XCH     A,R0
   \   00019E   F9           MOV     R1,A
   \   00019F   90....       MOV     DPTR,#CS5463_STR + 6
   \   0001A2   E0           MOVX    A,@DPTR
   \   0001A3   FA           MOV     R2,A
   \   0001A4   7B00         MOV     R3,#0x0
   \   0001A6   E8           MOV     A,R0
   \   0001A7   4A           ORL     A,R2
   \   0001A8   F8           MOV     R0,A
   \   0001A9   E9           MOV     A,R1
   \   0001AA   4B           ORL     A,R3
   \   0001AB   F9           MOV     R1,A
   \   0001AC   90....       MOV     DPTR,#I_Value_jiaozhun_Temp
   \   0001AF   E8           MOV     A,R0
   \   0001B0   F0           MOVX    @DPTR,A
   \   0001B1   A3           INC     DPTR
   \   0001B2   E9           MOV     A,R1
   \   0001B3   F0           MOVX    @DPTR,A
    276                      
    277                  }       
    278                  
    279                  CS5463_Send_PWER();
   \                     ??UserApp_ProcessEvent_8:
   \   0001B4                ; Setup parameters for call to function CS5463_Send_PWER
   \   0001B4   12....       LCALL   ??CS5463_Send_PWER?relay
   \   0001B7   E9           MOV     A,R1
    280                  osal_start_timerEx( UserApp_TaskID, USER_SEND_MESSAGE_EVT,2000);//事件延时        
   \   0001B8                ; Setup parameters for call to function osal_start_timerEx
   \   0001B8   7CD0         MOV     R4,#-0x30
   \   0001BA   7D07         MOV     R5,#0x7
   \   0001BC   7A01         MOV     R2,#0x1
   \   0001BE   7B00         MOV     R3,#0x0
   \   0001C0   90....       MOV     DPTR,#UserApp_TaskID
   \   0001C3   E0           MOVX    A,@DPTR
   \   0001C4   F9           MOV     R1,A
   \   0001C5   12....       LCALL   ??osal_start_timerEx?relay
   \   0001C8   E9           MOV     A,R1
    281                  return (events ^ USER_SEND_MESSAGE_EVT );
   \   0001C9   EE           MOV     A,R6
   \   0001CA   6401         XRL     A,#0x1
   \   0001CC   FA           MOV     R2,A
   \   0001CD   EF           MOV     A,R7
   \   0001CE   6400         XRL     A,#0x0
   \   0001D0   FB           MOV     R3,A
   \   0001D1   804A         SJMP    ??UserApp_ProcessEvent_6
    282              } 
    283              else if(events & USER_SEND_DS_MESSAGE_EVT)//这是一个一次性的事件
   \                     ??UserApp_ProcessEvent_7:
   \   0001D3   EE           MOV     A,R6
   \   0001D4   5402         ANL     A,#0x2
   \   0001D6   601E         JZ      ??UserApp_ProcessEvent_9
    284              {
    285                  SampleApp_SendInMessage(); 
   \   0001D8                ; Setup parameters for call to function SampleApp_SendInMessage
   \   0001D8   12....       LCALL   ??SampleApp_SendInMessage?relay
    286                  osal_start_timerEx( UserApp_TaskID, USER_SEND_MESSAGE_EVT,2000);//事件延时 
   \   0001DB                ; Setup parameters for call to function osal_start_timerEx
   \   0001DB   7CD0         MOV     R4,#-0x30
   \   0001DD   7D07         MOV     R5,#0x7
   \   0001DF   7A01         MOV     R2,#0x1
   \   0001E1   7B00         MOV     R3,#0x0
   \   0001E3   90....       MOV     DPTR,#UserApp_TaskID
   \   0001E6   E0           MOVX    A,@DPTR
   \   0001E7   F9           MOV     R1,A
   \   0001E8   12....       LCALL   ??osal_start_timerEx?relay
   \   0001EB   E9           MOV     A,R1
    287                  return (events ^ USER_SEND_DS_MESSAGE_EVT );		
   \   0001EC   EE           MOV     A,R6
   \   0001ED   6402         XRL     A,#0x2
   \   0001EF   FA           MOV     R2,A
   \   0001F0   EF           MOV     A,R7
   \   0001F1   6400         XRL     A,#0x0
   \   0001F3   FB           MOV     R3,A
   \   0001F4   8027         SJMP    ??UserApp_ProcessEvent_6
    288              }
    289              else if(events & USER_SEND_MESSAGE_5min_EVT)//5分钟发送一次数据
   \                     ??UserApp_ProcessEvent_9:
   \   0001F6   EE           MOV     A,R6
   \   0001F7   5404         ANL     A,#0x4
   \   0001F9   601E         JZ      ??UserApp_ProcessEvent_10
    290              {
    291                  SampleApp_SendInMessage(); 
   \   0001FB                ; Setup parameters for call to function SampleApp_SendInMessage
   \   0001FB   12....       LCALL   ??SampleApp_SendInMessage?relay
    292                  osal_start_timerEx( UserApp_TaskID, USER_SEND_MESSAGE_5min_EVT,60000 * 5);//事件延时        
                                                                                        ^
Warning[Pe069]: integer conversion resulted in truncation
   \   0001FE                ; Setup parameters for call to function osal_start_timerEx
   \   0001FE   7CE0         MOV     R4,#-0x20
   \   000200   7D93         MOV     R5,#-0x6d
   \   000202   7A04         MOV     R2,#0x4
   \   000204   7B00         MOV     R3,#0x0
   \   000206   90....       MOV     DPTR,#UserApp_TaskID
   \   000209   E0           MOVX    A,@DPTR
   \   00020A   F9           MOV     R1,A
   \   00020B   12....       LCALL   ??osal_start_timerEx?relay
   \   00020E   E9           MOV     A,R1
    293                  return (events ^ USER_SEND_MESSAGE_5min_EVT );		
   \   00020F   EE           MOV     A,R6
   \   000210   6404         XRL     A,#0x4
   \   000212   FA           MOV     R2,A
   \   000213   EF           MOV     A,R7
   \   000214   6400         XRL     A,#0x0
   \   000216   FB           MOV     R3,A
   \   000217   8004         SJMP    ??UserApp_ProcessEvent_6
    294              }
    295              
    296              return 0;
   \                     ??UserApp_ProcessEvent_10:
   \   000219   7A00         MOV     R2,#0x0
   \   00021B   7B00         MOV     R3,#0x0
   \                     ??UserApp_ProcessEvent_6:
   \   00021D   7F0C         MOV     R7,#0xc
   \   00021F   02....       LJMP    ?BANKED_LEAVE_XDATA
    297          }
    298          
    299          
    300          /*******************************************************************************
    301          * 函数名称: SampleApp_HandleKeys
    302          * 函数功能: 按键命令传输到USER层，用户自行添加删除，处理按键命令
    303          * 入口参数: shift：状态码 
    304          keys：按键的值
    305          * 出口参数: 无
    306          * 备注说明: 此函数的函数头固定不变，用户不必操心
    307          ******************************************************************************/ 

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    308          void SampleApp_HandleKeys( uint8 shift, uint8 keys )
   \                     SampleApp_HandleKeys:
    309          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FE           MOV     R6,A
   \   000007   EA           MOV     A,R2
   \   000008   FF           MOV     R7,A
    310              //P1.3  
    311              if ( KEY_NUMBER_FLAG_A &  HAL_KEY_SW_9 )
   \   000009   90....       MOV     DPTR,#KEY_NUMBER_FLAG_A
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   A2E6         MOV     C,0xE0 /* A   */.6
   \   00000F   503E         JNC     ??SampleApp_HandleKeys_0
    312              { 
    313                  if(P1_6 == 1)  
   \   000011   A296         MOV     C,0x90.6
   \   000013   5006         JNC     ??SampleApp_HandleKeys_1
    314                  {   
    315                      P1_6 =0;//打开继电器
   \   000015   C296         CLR     0x90.6
    316                      HAL_TURN_ON_LED2();
   \   000017   C281         CLR     0x80.1
   \   000019   8008         SJMP    ??SampleApp_HandleKeys_2
    317                  }
    318                  
    319                  else if(P1_6 == 0)  
   \                     ??SampleApp_HandleKeys_1:
   \   00001B   A296         MOV     C,0x90.6
   \   00001D   4004         JC      ??SampleApp_HandleKeys_2
    320                  {
    321                      P1_6 =1;//关闭继电器
   \   00001F   D296         SETB    0x90.6
    322                      HAL_TURN_OFF_LED2();
   \   000021   D281         SETB    0x80.1
    323                  }
    324          	
    325                  if(key_double_flag == 3)
   \                     ??SampleApp_HandleKeys_2:
   \   000023   90....       MOV     DPTR,#key_double_flag
   \   000026   E0           MOVX    A,@DPTR
   \   000027   6403         XRL     A,#0x3
   \   000029   700B         JNZ     ??SampleApp_HandleKeys_3
    326                  {
    327                      SampleApp_send_in_binding_req(SAMPLEAPP_ENDPOINT1,USER_bindingINClusters,1);//绑定1号端点
   \   00002B                ; Setup parameters for call to function SampleApp_send_in_binding_req
   \   00002B   7C01         MOV     R4,#0x1
   \   00002D   7A..         MOV     R2,#USER_bindingINClusters & 0xff
   \   00002F   7B..         MOV     R3,#(USER_bindingINClusters >> 8) & 0xff
   \   000031   7915         MOV     R1,#0x15
   \   000033   12....       LCALL   ??SampleApp_send_in_binding_req?relay
    328          	}
    329                  
    330                  if( (devState==DEV_END_DEVICE) || (devState==DEV_ROUTER) )
   \                     ??SampleApp_HandleKeys_3:
   \   000036   90....       MOV     DPTR,#devState
   \   000039   E0           MOVX    A,@DPTR
   \   00003A   6406         XRL     A,#0x6
   \   00003C   600B         JZ      ??SampleApp_HandleKeys_4
   \   00003E   90....       MOV     DPTR,#devState
   \   000041   E0           MOVX    A,@DPTR
   \   000042   6407         XRL     A,#0x7
   \   000044   6003         JZ      $+5
   \   000046   02....       LJMP    ??SampleApp_HandleKeys_5 & 0xFFFF
    331                  {
    332                      SampleApp_SendInMessage();
   \                     ??SampleApp_HandleKeys_4:
   \   000049                ; Setup parameters for call to function SampleApp_SendInMessage
   \   000049   12....       LCALL   ??SampleApp_SendInMessage?relay
   \   00004C   02....       LJMP    ??SampleApp_HandleKeys_5 & 0xFFFF
    333                  }
    334                  
    335              }
    336              
    337              else if ( KEY_NUMBER_FLAG_A &  HAL_KEY_SW_7 )
   \                     ??SampleApp_HandleKeys_0:
   \   00004F   90....       MOV     DPTR,#KEY_NUMBER_FLAG_A
   \   000052   E0           MOVX    A,@DPTR
   \   000053   A2E4         MOV     C,0xE0 /* A   */.4
   \   000055   503A         JNC     ??SampleApp_HandleKeys_6
    338              {      
    339                  
    340                  
    341                  if(IO_CTLA_SBIT == 1)  
   \   000057   A295         MOV     C,0x90.5
   \   000059   5006         JNC     ??SampleApp_HandleKeys_7
    342                  {   
    343                      IO_CTLA_SBIT =0;//打开继电器
   \   00005B   C295         CLR     0x90.5
    344                      P1_7 = 0;//led
   \   00005D   C297         CLR     0x90.7
   \   00005F   8008         SJMP    ??SampleApp_HandleKeys_8
    345                  }
    346                  
    347                  else if(IO_CTLA_SBIT == 0)  
   \                     ??SampleApp_HandleKeys_7:
   \   000061   A295         MOV     C,0x90.5
   \   000063   4004         JC      ??SampleApp_HandleKeys_8
    348                  {
    349                      IO_CTLA_SBIT =1;//关闭继电器
   \   000065   D295         SETB    0x90.5
    350                      P1_7 = 1;//led
   \   000067   D297         SETB    0x90.7
    351                  }
    352                  
    353                  
    354                  if(key_double_flag == 3)
   \                     ??SampleApp_HandleKeys_8:
   \   000069   90....       MOV     DPTR,#key_double_flag
   \   00006C   E0           MOVX    A,@DPTR
   \   00006D   6403         XRL     A,#0x3
   \   00006F   700B         JNZ     ??SampleApp_HandleKeys_9
    355                  {
    356                      SampleApp_send_in_binding_req(SAMPLEAPP_ENDPOINT2,USER_bindingINClusters,1);//绑定2号端点
   \   000071                ; Setup parameters for call to function SampleApp_send_in_binding_req
   \   000071   7C01         MOV     R4,#0x1
   \   000073   7A..         MOV     R2,#USER_bindingINClusters & 0xff
   \   000075   7B..         MOV     R3,#(USER_bindingINClusters >> 8) & 0xff
   \   000077   7916         MOV     R1,#0x16
   \   000079   12....       LCALL   ??SampleApp_send_in_binding_req?relay
    357          	}
    358          	
    359                  if( (devState==DEV_END_DEVICE) || (devState==DEV_ROUTER) )
   \                     ??SampleApp_HandleKeys_9:
   \   00007C   90....       MOV     DPTR,#devState
   \   00007F   E0           MOVX    A,@DPTR
   \   000080   6406         XRL     A,#0x6
   \   000082   6008         JZ      ??SampleApp_HandleKeys_10
   \   000084   90....       MOV     DPTR,#devState
   \   000087   E0           MOVX    A,@DPTR
   \   000088   6407         XRL     A,#0x7
   \   00008A   7071         JNZ     ??SampleApp_HandleKeys_5
    360                  {
    361                      SampleApp_SendInMessage();
   \                     ??SampleApp_HandleKeys_10:
   \   00008C                ; Setup parameters for call to function SampleApp_SendInMessage
   \   00008C   12....       LCALL   ??SampleApp_SendInMessage?relay
   \   00008F   806C         SJMP    ??SampleApp_HandleKeys_5
    362                  }
    363              }   
    364              
    365              else if ( keys&  HAL_KEY_SW_8  )
   \                     ??SampleApp_HandleKeys_6:
   \   000091   EF           MOV     A,R7
   \   000092   A2E7         MOV     C,0xE0 /* A   */.7
   \   000094   5067         JNC     ??SampleApp_HandleKeys_5
    366              {   
    367                  
    368                  
    369                  if(key_double_flag==4)//快速按了4次按键
   \   000096   90....       MOV     DPTR,#key_double_flag
   \   000099   E0           MOVX    A,@DPTR
   \   00009A   6404         XRL     A,#0x4
   \   00009C   7005         JNZ     ??SampleApp_HandleKeys_11
    370                  {
    371                      APPLY_TO_JOIN_OF_KEY();//函数中带有闪灯的代码
   \   00009E                ; Setup parameters for call to function APPLY_TO_JOIN_OF_KEY
   \   00009E   12....       LCALL   ??APPLY_TO_JOIN_OF_KEY?relay
   \   0000A1   8031         SJMP    ??SampleApp_HandleKeys_12
    372                  }
    373                  
    374                  else if( (key_double_flag == 3) )
   \                     ??SampleApp_HandleKeys_11:
   \   0000A3   90....       MOV     DPTR,#key_double_flag
   \   0000A6   E0           MOVX    A,@DPTR
   \   0000A7   6403         XRL     A,#0x3
   \   0000A9   700D         JNZ     ??SampleApp_HandleKeys_13
    375                  {
    376                      SampleApp_send_in_binding_req(SAMPLEAPP_ENDPOINT,USER_bindingINClusters,1);
   \   0000AB                ; Setup parameters for call to function SampleApp_send_in_binding_req
   \   0000AB   7C01         MOV     R4,#0x1
   \   0000AD   7A..         MOV     R2,#USER_bindingINClusters & 0xff
   \   0000AF   7B..         MOV     R3,#(USER_bindingINClusters >> 8) & 0xff
   \   0000B1   7914         MOV     R1,#0x14
   \   0000B3   12....       LCALL   ??SampleApp_send_in_binding_req?relay
   \   0000B6   801C         SJMP    ??SampleApp_HandleKeys_12
    377                  }
    378                  
    379                  else if(key_double_flag==6)
   \                     ??SampleApp_HandleKeys_13:
   \   0000B8   90....       MOV     DPTR,#key_double_flag
   \   0000BB   E0           MOVX    A,@DPTR
   \   0000BC   6406         XRL     A,#0x6
   \   0000BE   7007         JNZ     ??SampleApp_HandleKeys_14
    380                  {
    381                      SampleApp_PermitJoin(240);
   \   0000C0                ; Setup parameters for call to function SampleApp_PermitJoin
   \   0000C0   79F0         MOV     R1,#-0x10
   \   0000C2   12....       LCALL   ??SampleApp_PermitJoin?relay
   \   0000C5   800D         SJMP    ??SampleApp_HandleKeys_12
    382                  }
    383                  
    384                  else if(key_double_flag==8)
   \                     ??SampleApp_HandleKeys_14:
   \   0000C7   90....       MOV     DPTR,#key_double_flag
   \   0000CA   E0           MOVX    A,@DPTR
   \   0000CB   6408         XRL     A,#0x8
   \   0000CD   7005         JNZ     ??SampleApp_HandleKeys_12
    385                  {
    386                      SampleApp_PermitJoin(0);
   \   0000CF                ; Setup parameters for call to function SampleApp_PermitJoin
   \   0000CF   7900         MOV     R1,#0x0
   \   0000D1   12....       LCALL   ??SampleApp_PermitJoin?relay
    387                  }
    388                  
    389                  
    390                  
    391                  if(key_hold_flag==1) //一个长按键，则恢复出厂设置
   \                     ??SampleApp_HandleKeys_12:
   \   0000D4   90....       MOV     DPTR,#key_hold_flag
   \   0000D7   E0           MOVX    A,@DPTR
   \   0000D8   6401         XRL     A,#0x1
   \   0000DA   7021         JNZ     ??SampleApp_HandleKeys_5
    392                  {   
    393                      HalLedBlink ( HAL_LED_1, 4, 50, 1000 );
   \   0000DC                ; Setup parameters for call to function HalLedBlink
   \   0000DC   7CE8         MOV     R4,#-0x18
   \   0000DE   7D03         MOV     R5,#0x3
   \   0000E0   7B32         MOV     R3,#0x32
   \   0000E2   7A04         MOV     R2,#0x4
   \   0000E4   7901         MOV     R1,#0x1
   \   0000E6   12....       LCALL   ??HalLedBlink?relay
    394                      RESTORE_TO_FACTORY();
   \   0000E9                ; Setup parameters for call to function RESTORE_TO_FACTORY
   \   0000E9   12....       LCALL   ??RESTORE_TO_FACTORY?relay
    395                      osal_start_timerEx( SampleApp_TaskID,SAMPLEAPP_RESTORE_EVT,5000 );
   \   0000EC                ; Setup parameters for call to function osal_start_timerEx
   \   0000EC   7C88         MOV     R4,#-0x78
   \   0000EE   7D13         MOV     R5,#0x13
   \   0000F0   7A10         MOV     R2,#0x10
   \   0000F2   7B00         MOV     R3,#0x0
   \   0000F4   90....       MOV     DPTR,#SampleApp_TaskID
   \   0000F7   E0           MOVX    A,@DPTR
   \   0000F8   F9           MOV     R1,A
   \   0000F9   12....       LCALL   ??osal_start_timerEx?relay
   \   0000FC   E9           MOV     A,R1
    396                  }        
    397              } 
    398              
    399              KEY_NUMBER_FLAG_A = 0;//清除按键标志
   \                     ??SampleApp_HandleKeys_5:
   \   0000FD   90....       MOV     DPTR,#KEY_NUMBER_FLAG_A
   \   000100   7400         MOV     A,#0x0
   \   000102   F0           MOVX    @DPTR,A
    400          }
   \   000103   7F01         MOV     R7,#0x1
   \   000105   02....       LJMP    ?BANKED_LEAVE_XDATA
   \   000108                REQUIRE _A_P1
   \   000108                REQUIRE _A_P0
    401          
    402          
    403          /*******************************************************************************
    404          * 函数名称: SampleApp_ProcessBINDINGMessage
    405          * 函数功能: 与绑定有关的数据的处理
    406          * 入口参数: pkt：指向接收到的绑定请求信息的指针
    407          * 出口参数: 无
    408          * 备注说明: 此函数的函数头固定不变，用户不必操心
    409          ******************************************************************************/ 

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    410          void SampleApp_ProcessBINDINGMessage(afIncomingMSGPacket_t *pkt)
   \                     SampleApp_ProcessBINDINGMessage:
    411          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    412              
    413              if ((pkt->clusterId == SAMPLEAPP_ONOFF_CLUSTERID )&& (pkt->endPoint == SAMPLEAPP_ENDPOINT1))
   \   000009   8E82         MOV     DPL,R6
   \   00000B   8F83         MOV     DPH,R7
   \   00000D   A3           INC     DPTR
   \   00000E   A3           INC     DPTR
   \   00000F   A3           INC     DPTR
   \   000010   A3           INC     DPTR
   \   000011   E0           MOVX    A,@DPTR
   \   000012   6401         XRL     A,#0x1
   \   000014   7004         JNZ     ??SampleApp_ProcessBINDINGMessage_0
   \   000016   A3           INC     DPTR
   \   000017   E0           MOVX    A,@DPTR
   \   000018   6400         XRL     A,#0x0
   \                     ??SampleApp_ProcessBINDINGMessage_0:
   \   00001A   7073         JNZ     ??SampleApp_ProcessBINDINGMessage_1
   \   00001C   EE           MOV     A,R6
   \   00001D   2414         ADD     A,#0x14
   \   00001F   F582         MOV     DPL,A
   \   000021   EF           MOV     A,R7
   \   000022   3400         ADDC    A,#0x0
   \   000024   F583         MOV     DPH,A
   \   000026   E0           MOVX    A,@DPTR
   \   000027   6415         XRL     A,#0x15
   \   000029   7064         JNZ     ??SampleApp_ProcessBINDINGMessage_1
    414              {
    415                  if(pkt->cmd.Data[0]==1)//开命令
   \   00002B   EE           MOV     A,R6
   \   00002C   2422         ADD     A,#0x22
   \   00002E   F582         MOV     DPL,A
   \   000030   EF           MOV     A,R7
   \   000031   3400         ADDC    A,#0x0
   \   000033   F583         MOV     DPH,A
   \   000035   E0           MOVX    A,@DPTR
   \   000036   F8           MOV     R0,A
   \   000037   A3           INC     DPTR
   \   000038   E0           MOVX    A,@DPTR
   \   000039   F583         MOV     DPH,A
   \   00003B   8882         MOV     DPL,R0
   \   00003D   E0           MOVX    A,@DPTR
   \   00003E   6401         XRL     A,#0x1
   \   000040   7007         JNZ     ??SampleApp_ProcessBINDINGMessage_2
    416                  {  
    417                      P1_6 =0;//打开继电器
   \   000042   C296         CLR     0x90.6
    418                      HAL_TURN_ON_LED2();
   \   000044   C281         CLR     0x80.1
   \   000046   02....       LJMP    ??SampleApp_ProcessBINDINGMessage_3 & 0xFFFF
    419                  }
    420                  
    421                  else if(pkt->cmd.Data[0]==0 )//关
   \                     ??SampleApp_ProcessBINDINGMessage_2:
   \   000049   EE           MOV     A,R6
   \   00004A   2422         ADD     A,#0x22
   \   00004C   F582         MOV     DPL,A
   \   00004E   EF           MOV     A,R7
   \   00004F   3400         ADDC    A,#0x0
   \   000051   F583         MOV     DPH,A
   \   000053   E0           MOVX    A,@DPTR
   \   000054   F8           MOV     R0,A
   \   000055   A3           INC     DPTR
   \   000056   E0           MOVX    A,@DPTR
   \   000057   F583         MOV     DPH,A
   \   000059   8882         MOV     DPL,R0
   \   00005B   E0           MOVX    A,@DPTR
   \   00005C   7007         JNZ     ??SampleApp_ProcessBINDINGMessage_4
    422                  {
    423                      P1_6 =1;//关闭继电器
   \   00005E   D296         SETB    0x90.6
    424                      HAL_TURN_OFF_LED2();
   \   000060   D281         SETB    0x80.1
   \   000062   02....       LJMP    ??SampleApp_ProcessBINDINGMessage_3 & 0xFFFF
    425                  }
    426                  
    427                  else if(pkt->cmd.Data[0]==2 )//2012 7 24 增加2 查询当前状态
   \                     ??SampleApp_ProcessBINDINGMessage_4:
   \   000065   EE           MOV     A,R6
   \   000066   2422         ADD     A,#0x22
   \   000068   F582         MOV     DPL,A
   \   00006A   EF           MOV     A,R7
   \   00006B   3400         ADDC    A,#0x0
   \   00006D   F583         MOV     DPH,A
   \   00006F   E0           MOVX    A,@DPTR
   \   000070   F8           MOV     R0,A
   \   000071   A3           INC     DPTR
   \   000072   E0           MOVX    A,@DPTR
   \   000073   F583         MOV     DPH,A
   \   000075   8882         MOV     DPL,R0
   \   000077   E0           MOVX    A,@DPTR
   \   000078   6402         XRL     A,#0x2
   \   00007A   6003         JZ      $+5
   \   00007C   02....       LJMP    ??SampleApp_ProcessBINDINGMessage_3 & 0xFFFF
    428                  {
    429                      
    430                      P1_6 = !P1_6;
   \   00007F   D2F0         SETB    B.0
   \   000081   A296         MOV     C,0x90.6
   \   000083   30F001       JNB     B.0,??SampleApp_ProcessBINDINGMessage_5
   \   000086   B3           CPL     C
   \                     ??SampleApp_ProcessBINDINGMessage_5:
   \   000087   9296         MOV     0x90.6,C
    431                      LED2_SBIT = P1_6;
   \   000089   A296         MOV     C,0x90.6
   \   00008B   9281         MOV     0x80.1,C
   \   00008D   807F         SJMP    ??SampleApp_ProcessBINDINGMessage_3
    432                  }
    433              }
    434              else if(((pkt->clusterId == SAMPLEAPP_ONOFF_CLUSTERID )&& (pkt->endPoint == SAMPLEAPP_ENDPOINT2)))
   \                     ??SampleApp_ProcessBINDINGMessage_1:
   \   00008F   8E82         MOV     DPL,R6
   \   000091   8F83         MOV     DPH,R7
   \   000093   A3           INC     DPTR
   \   000094   A3           INC     DPTR
   \   000095   A3           INC     DPTR
   \   000096   A3           INC     DPTR
   \   000097   E0           MOVX    A,@DPTR
   \   000098   6401         XRL     A,#0x1
   \   00009A   7004         JNZ     ??SampleApp_ProcessBINDINGMessage_6
   \   00009C   A3           INC     DPTR
   \   00009D   E0           MOVX    A,@DPTR
   \   00009E   6400         XRL     A,#0x0
   \                     ??SampleApp_ProcessBINDINGMessage_6:
   \   0000A0   706C         JNZ     ??SampleApp_ProcessBINDINGMessage_3
   \   0000A2   EE           MOV     A,R6
   \   0000A3   2414         ADD     A,#0x14
   \   0000A5   F582         MOV     DPL,A
   \   0000A7   EF           MOV     A,R7
   \   0000A8   3400         ADDC    A,#0x0
   \   0000AA   F583         MOV     DPH,A
   \   0000AC   E0           MOVX    A,@DPTR
   \   0000AD   6416         XRL     A,#0x16
   \   0000AF   705D         JNZ     ??SampleApp_ProcessBINDINGMessage_3
    435              {
    436                  if(pkt->cmd.Data[0]==1)//开命令
   \   0000B1   EE           MOV     A,R6
   \   0000B2   2422         ADD     A,#0x22
   \   0000B4   F582         MOV     DPL,A
   \   0000B6   EF           MOV     A,R7
   \   0000B7   3400         ADDC    A,#0x0
   \   0000B9   F583         MOV     DPH,A
   \   0000BB   E0           MOVX    A,@DPTR
   \   0000BC   F8           MOV     R0,A
   \   0000BD   A3           INC     DPTR
   \   0000BE   E0           MOVX    A,@DPTR
   \   0000BF   F583         MOV     DPH,A
   \   0000C1   8882         MOV     DPL,R0
   \   0000C3   E0           MOVX    A,@DPTR
   \   0000C4   6401         XRL     A,#0x1
   \   0000C6   7006         JNZ     ??SampleApp_ProcessBINDINGMessage_7
    437                  {  
    438                      IO_CTLA_SBIT =0;//打开继电器
   \   0000C8   C295         CLR     0x90.5
    439                      P1_7 = 0;//led             
   \   0000CA   C297         CLR     0x90.7
   \   0000CC   8040         SJMP    ??SampleApp_ProcessBINDINGMessage_3
    440                  }
    441                  
    442                  else if(pkt->cmd.Data[0]==0)//关
   \                     ??SampleApp_ProcessBINDINGMessage_7:
   \   0000CE   EE           MOV     A,R6
   \   0000CF   2422         ADD     A,#0x22
   \   0000D1   F582         MOV     DPL,A
   \   0000D3   EF           MOV     A,R7
   \   0000D4   3400         ADDC    A,#0x0
   \   0000D6   F583         MOV     DPH,A
   \   0000D8   E0           MOVX    A,@DPTR
   \   0000D9   F8           MOV     R0,A
   \   0000DA   A3           INC     DPTR
   \   0000DB   E0           MOVX    A,@DPTR
   \   0000DC   F583         MOV     DPH,A
   \   0000DE   8882         MOV     DPL,R0
   \   0000E0   E0           MOVX    A,@DPTR
   \   0000E1   7006         JNZ     ??SampleApp_ProcessBINDINGMessage_8
    443                  {
    444                      IO_CTLA_SBIT =1;//关闭继电器
   \   0000E3   D295         SETB    0x90.5
    445                      P1_7 = 1;//led
   \   0000E5   D297         SETB    0x90.7
   \   0000E7   8025         SJMP    ??SampleApp_ProcessBINDINGMessage_3
    446                  }
    447                  
    448                  else if(pkt->cmd.Data[0]==2 )//2012 7 24 增加2 查询当前状态
   \                     ??SampleApp_ProcessBINDINGMessage_8:
   \   0000E9   EE           MOV     A,R6
   \   0000EA   2422         ADD     A,#0x22
   \   0000EC   F582         MOV     DPL,A
   \   0000EE   EF           MOV     A,R7
   \   0000EF   3400         ADDC    A,#0x0
   \   0000F1   F583         MOV     DPH,A
   \   0000F3   E0           MOVX    A,@DPTR
   \   0000F4   F8           MOV     R0,A
   \   0000F5   A3           INC     DPTR
   \   0000F6   E0           MOVX    A,@DPTR
   \   0000F7   F583         MOV     DPH,A
   \   0000F9   8882         MOV     DPL,R0
   \   0000FB   E0           MOVX    A,@DPTR
   \   0000FC   6402         XRL     A,#0x2
   \   0000FE   700E         JNZ     ??SampleApp_ProcessBINDINGMessage_3
    449                  {
    450                      IO_CTLA_SBIT = !IO_CTLA_SBIT;
   \   000100   D2F0         SETB    B.0
   \   000102   A295         MOV     C,0x90.5
   \   000104   30F001       JNB     B.0,??SampleApp_ProcessBINDINGMessage_9
   \   000107   B3           CPL     C
   \                     ??SampleApp_ProcessBINDINGMessage_9:
   \   000108   9295         MOV     0x90.5,C
    451                      P1_7 = IO_CTLA_SBIT;
   \   00010A   A295         MOV     C,0x90.5
   \   00010C   9297         MOV     0x90.7,C
    452                  }
    453              }    			
    454              
    455              SampleApp_SendInMessage( );
   \                     ??SampleApp_ProcessBINDINGMessage_3:
   \   00010E                ; Setup parameters for call to function SampleApp_SendInMessage
   \   00010E   12....       LCALL   ??SampleApp_SendInMessage?relay
    456              
    457              
    458          }
   \   000111   7F01         MOV     R7,#0x1
   \   000113   02....       LJMP    ?BANKED_LEAVE_XDATA
   \   000116                REQUIRE _A_P1
   \   000116                REQUIRE _A_P0
    459          
    460          
    461          /*******************************************************************************
    462          * 函数名称: USER_APP_JOIN_MSG
    463          * 函数功能: 入网后的回调函数，用于处理用户的加入网络后需要处理的操作代码
    464          * 入口参数: 无
    465          * 出口参数: 无
    466          * 备注说明: 无
    467          ******************************************************************************/ 

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    468          void USER_APP_JOIN_MSG(void)
   \                     USER_APP_JOIN_MSG:
    469          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
    470              uint8 *Sample_Cmd_shorAddr;
    471              
    472              HalLedBlink ( HAL_LED_1, 1, 99, 2500 );//用BLINK模拟灯亮两秒后熄灭  
   \   000005                ; Setup parameters for call to function HalLedBlink
   \   000005   7CC4         MOV     R4,#-0x3c
   \   000007   7D09         MOV     R5,#0x9
   \   000009   7B63         MOV     R3,#0x63
   \   00000B   7A01         MOV     R2,#0x1
   \   00000D   7901         MOV     R1,#0x1
   \   00000F   12....       LCALL   ??HalLedBlink?relay
    473              
    474              Sample_Cmd_shorAddr=SampleApp_GetShortAddr();
   \   000012                ; Setup parameters for call to function SampleApp_GetShortAddr
   \   000012   12....       LCALL   ??SampleApp_GetShortAddr?relay
   \   000015   8A..         MOV     ?V0 + 0,R2
   \   000017   8B..         MOV     ?V0 + 1,R3
   \   000019   AE..         MOV     R6,?V0 + 0
   \   00001B   AF..         MOV     R7,?V0 + 1
    475              SHORT_ADRESS[0]=*Sample_Cmd_shorAddr++;
   \   00001D   8E82         MOV     DPL,R6
   \   00001F   8F83         MOV     DPH,R7
   \   000021   E0           MOVX    A,@DPTR
   \   000022   90....       MOV     DPTR,#SHORT_ADRESS
   \   000025   F0           MOVX    @DPTR,A
   \   000026   8E82         MOV     DPL,R6
   \   000028   8F83         MOV     DPH,R7
   \   00002A   A3           INC     DPTR
   \   00002B   AE82         MOV     R6,DPL
   \   00002D   AF83         MOV     R7,DPH
    476              SHORT_ADRESS[1]=*Sample_Cmd_shorAddr++;
   \   00002F   8E82         MOV     DPL,R6
   \   000031   8F83         MOV     DPH,R7
   \   000033   E0           MOVX    A,@DPTR
   \   000034   90....       MOV     DPTR,#SHORT_ADRESS + 1
   \   000037   F0           MOVX    @DPTR,A
   \   000038   8E82         MOV     DPL,R6
   \   00003A   8F83         MOV     DPH,R7
   \   00003C   A3           INC     DPTR
   \   00003D   AE82         MOV     R6,DPL
   \   00003F   AF83         MOV     R7,DPH
    477              SHORT_ADRESS[2]=*Sample_Cmd_shorAddr++;
   \   000041   8E82         MOV     DPL,R6
   \   000043   8F83         MOV     DPH,R7
   \   000045   E0           MOVX    A,@DPTR
   \   000046   90....       MOV     DPTR,#SHORT_ADRESS + 2
   \   000049   F0           MOVX    @DPTR,A
   \   00004A   8E82         MOV     DPL,R6
   \   00004C   8F83         MOV     DPH,R7
   \   00004E   A3           INC     DPTR
   \   00004F   AE82         MOV     R6,DPL
   \   000051   AF83         MOV     R7,DPH
    478              SHORT_ADRESS[3]=*Sample_Cmd_shorAddr;
   \   000053   8E82         MOV     DPL,R6
   \   000055   8F83         MOV     DPH,R7
   \   000057   E0           MOVX    A,@DPTR
   \   000058   90....       MOV     DPTR,#SHORT_ADRESS + 3
   \   00005B   F0           MOVX    @DPTR,A
    479              osal_mem_free( shortddr_mem );
   \   00005C                ; Setup parameters for call to function osal_mem_free
   \   00005C   90....       MOV     DPTR,#shortddr_mem
   \   00005F   E0           MOVX    A,@DPTR
   \   000060   FA           MOV     R2,A
   \   000061   A3           INC     DPTR
   \   000062   E0           MOVX    A,@DPTR
   \   000063   FB           MOV     R3,A
   \   000064   12....       LCALL   ??osal_mem_free?relay
    480              
    481              // 保证在发送上线消息RS的后面紧跟一条DS的初始数据，5S时间--------
    482              osal_start_timerEx( UserApp_TaskID, USER_SEND_DS_MESSAGE_EVT,5000); 
   \   000067                ; Setup parameters for call to function osal_start_timerEx
   \   000067   7C88         MOV     R4,#-0x78
   \   000069   7D13         MOV     R5,#0x13
   \   00006B   7A02         MOV     R2,#0x2
   \   00006D   7B00         MOV     R3,#0x0
   \   00006F   90....       MOV     DPTR,#UserApp_TaskID
   \   000072   E0           MOVX    A,@DPTR
   \   000073   F9           MOV     R1,A
   \   000074   12....       LCALL   ??osal_start_timerEx?relay
   \   000077   E9           MOV     A,R1
    483              
    484              //用户自己的事件,每隔五分钟发送一次数据--------------------------
    485              osal_start_timerEx( UserApp_TaskID, USER_SEND_MESSAGE_5min_EVT,60000 * 5); 
                                                                                    ^
Warning[Pe069]: integer conversion resulted in truncation
   \   000078                ; Setup parameters for call to function osal_start_timerEx
   \   000078   7CE0         MOV     R4,#-0x20
   \   00007A   7D93         MOV     R5,#-0x6d
   \   00007C   7A04         MOV     R2,#0x4
   \   00007E   7B00         MOV     R3,#0x0
   \   000080   90....       MOV     DPTR,#UserApp_TaskID
   \   000083   E0           MOVX    A,@DPTR
   \   000084   F9           MOV     R1,A
   \   000085   12....       LCALL   ??osal_start_timerEx?relay
   \   000088   E9           MOV     A,R1
    486              
    487          }
   \   000089   7F02         MOV     R7,#0x2
   \   00008B   02....       LJMP    ?BANKED_LEAVE_XDATA
    488          
    489          
    490          
    491          /*******************************************************************************
    492          * 函数名称: USER_APP_COMMAND
    493          * 函数功能: 收到命令后的处理函数
    494          * 入口参数: user_app_data 上位机发过来的有效数据 字母后面开始
    495          str：需要填入的返回数据数组
    496          * 出口参数: 无
    497          * 备注说明: 无
    498          ******************************************************************************/ 

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    499          uint8 USER_APP_COMMAND(uint8 *user_app_data,uint8 *str)
   \                     USER_APP_COMMAND:
    500          {
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 0,R2
   \   000007   8B..         MOV     ?V0 + 1,R3
   \   000009   8C..         MOV     ?V0 + 2,R4
   \   00000B   8D..         MOV     ?V0 + 3,R5
    501              uint8 active_len=0;
   \   00000D   7E00         MOV     R6,#0x0
    502              
    503              str[0] = '/';	
   \   00000F   85..82       MOV     DPL,?V0 + 2
   \   000012   85..83       MOV     DPH,?V0 + 3
   \   000015   742F         MOV     A,#0x2f
   \   000017   F0           MOVX    @DPTR,A
    504              if(user_app_data[0]=='1')
   \   000018   85..82       MOV     DPL,?V0 + 0
   \   00001B   85..83       MOV     DPH,?V0 + 1
   \   00001E   E0           MOVX    A,@DPTR
   \   00001F   6431         XRL     A,#0x31
   \   000021   6003         JZ      $+5
   \   000023   02....       LJMP    ??USER_APP_COMMAND_0 & 0xFFFF
    505              {
    506                  if(user_app_data[1]=='1' )//开命令
   \   000026   85..82       MOV     DPL,?V0 + 0
   \   000029   85..83       MOV     DPH,?V0 + 1
   \   00002C   A3           INC     DPTR
   \   00002D   E0           MOVX    A,@DPTR
   \   00002E   6431         XRL     A,#0x31
   \   000030   7020         JNZ     ??USER_APP_COMMAND_1
    507                  {  
    508                      P1_6 =0;//打开继电器
   \   000032   C296         CLR     0x90.6
    509                      HAL_TURN_ON_LED2();
   \   000034   C281         CLR     0x80.1
    510                      
    511                      str[1]=1;//第1个插座
   \   000036   85..82       MOV     DPL,?V0 + 2
   \   000039   85..83       MOV     DPH,?V0 + 3
   \   00003C   A3           INC     DPTR
   \   00003D   7401         MOV     A,#0x1
   \   00003F   F0           MOVX    @DPTR,A
    512                      str[2]=1;
   \   000040   85..82       MOV     DPL,?V0 + 2
   \   000043   85..83       MOV     DPH,?V0 + 3
   \   000046   A3           INC     DPTR
   \   000047   A3           INC     DPTR
   \   000048   7401         MOV     A,#0x1
   \   00004A   F0           MOVX    @DPTR,A
    513                      active_len=12;
   \   00004B   7E0C         MOV     R6,#0xc
    514                      return active_len;
   \   00004D   EE           MOV     A,R6
   \   00004E   F9           MOV     R1,A
   \   00004F   02....       LJMP    ??USER_APP_COMMAND_2 & 0xFFFF
    515                  }
    516                  
    517                  else if(user_app_data[1]=='0' )//关
   \                     ??USER_APP_COMMAND_1:
   \   000052   85..82       MOV     DPL,?V0 + 0
   \   000055   85..83       MOV     DPH,?V0 + 1
   \   000058   A3           INC     DPTR
   \   000059   E0           MOVX    A,@DPTR
   \   00005A   6430         XRL     A,#0x30
   \   00005C   7020         JNZ     ??USER_APP_COMMAND_3
    518                  {
    519                      P1_6 =1;//关闭继电器
   \   00005E   D296         SETB    0x90.6
    520                      HAL_TURN_OFF_LED2();
   \   000060   D281         SETB    0x80.1
    521                      
    522                      str[1]=1;//第1个插座
   \   000062   85..82       MOV     DPL,?V0 + 2
   \   000065   85..83       MOV     DPH,?V0 + 3
   \   000068   A3           INC     DPTR
   \   000069   7401         MOV     A,#0x1
   \   00006B   F0           MOVX    @DPTR,A
    523                      str[2]=0;
   \   00006C   85..82       MOV     DPL,?V0 + 2
   \   00006F   85..83       MOV     DPH,?V0 + 3
   \   000072   A3           INC     DPTR
   \   000073   A3           INC     DPTR
   \   000074   7400         MOV     A,#0x0
   \   000076   F0           MOVX    @DPTR,A
    524                      active_len=12;
   \   000077   7E0C         MOV     R6,#0xc
    525                      return active_len;
   \   000079   EE           MOV     A,R6
   \   00007A   F9           MOV     R1,A
   \   00007B   02....       LJMP    ??USER_APP_COMMAND_2 & 0xFFFF
    526                  }
    527                  
    528                  else if(user_app_data[1]=='2' )//2012 7 24 增加2 查询当前状态
   \                     ??USER_APP_COMMAND_3:
   \   00007E   85..82       MOV     DPL,?V0 + 0
   \   000081   85..83       MOV     DPH,?V0 + 1
   \   000084   A3           INC     DPTR
   \   000085   E0           MOVX    A,@DPTR
   \   000086   6432         XRL     A,#0x32
   \   000088   7015         JNZ     ??USER_APP_COMMAND_4
    529                  {
    530                      P1_6 = !P1_6;
   \   00008A   D2F0         SETB    B.0
   \   00008C   A296         MOV     C,0x90.6
   \   00008E   30F001       JNB     B.0,??USER_APP_COMMAND_5
   \   000091   B3           CPL     C
   \                     ??USER_APP_COMMAND_5:
   \   000092   9296         MOV     0x90.6,C
    531                      LED2_SBIT = P1_6;
   \   000094   A296         MOV     C,0x90.6
   \   000096   9281         MOV     0x80.1,C
    532                      active_len=12;
   \   000098   7E0C         MOV     R6,#0xc
    533                      return active_len;
   \   00009A   EE           MOV     A,R6
   \   00009B   F9           MOV     R1,A
   \   00009C   02....       LJMP    ??USER_APP_COMMAND_2 & 0xFFFF
    534                  }
    535                  else if(user_app_data[1]=='3' )//2012 7 24 增加3 切换当前状态
   \                     ??USER_APP_COMMAND_4:
   \   00009F   85..82       MOV     DPL,?V0 + 0
   \   0000A2   85..83       MOV     DPH,?V0 + 1
   \   0000A5   A3           INC     DPTR
   \   0000A6   E0           MOVX    A,@DPTR
   \   0000A7   6433         XRL     A,#0x33
   \   0000A9   6003         JZ      $+5
   \   0000AB   02....       LJMP    ??USER_APP_COMMAND_2 & 0xFFFF
    536                  {
    537                      IO_CTLA_SBIT = !IO_CTLA_SBIT;
   \   0000AE   D2F0         SETB    B.0
   \   0000B0   A295         MOV     C,0x90.5
   \   0000B2   30F001       JNB     B.0,??USER_APP_COMMAND_6
   \   0000B5   B3           CPL     C
   \                     ??USER_APP_COMMAND_6:
   \   0000B6   9295         MOV     0x90.5,C
    538                      LED2_SBIT = IO_CTLA_SBIT;
   \   0000B8   A295         MOV     C,0x90.5
   \   0000BA   9281         MOV     0x80.1,C
    539                      str[1]=1;//第1个插座
   \   0000BC   85..82       MOV     DPL,?V0 + 2
   \   0000BF   85..83       MOV     DPH,?V0 + 3
   \   0000C2   A3           INC     DPTR
   \   0000C3   7401         MOV     A,#0x1
   \   0000C5   F0           MOVX    @DPTR,A
    540                      str[2]=!IO_CTLA_SBIT;
   \   0000C6   D2F0         SETB    B.0
   \   0000C8   A295         MOV     C,0x90.5
   \   0000CA   30F001       JNB     B.0,??USER_APP_COMMAND_7
   \   0000CD   B3           CPL     C
   \                     ??USER_APP_COMMAND_7:
   \   0000CE   E4           CLR     A
   \   0000CF   33           RLC     A
   \   0000D0   85..82       MOV     DPL,?V0 + 2
   \   0000D3   85..83       MOV     DPH,?V0 + 3
   \   0000D6   A3           INC     DPTR
   \   0000D7   A3           INC     DPTR
   \   0000D8   F0           MOVX    @DPTR,A
    541                      active_len=12;
   \   0000D9   7E0C         MOV     R6,#0xc
    542                      return active_len;;
   \   0000DB   EE           MOV     A,R6
   \   0000DC   F9           MOV     R1,A
   \   0000DD   02....       LJMP    ??USER_APP_COMMAND_2 & 0xFFFF
    543                  }
    544              }
    545              else if(user_app_data[0]=='2')
   \                     ??USER_APP_COMMAND_0:
   \   0000E0   85..82       MOV     DPL,?V0 + 0
   \   0000E3   85..83       MOV     DPH,?V0 + 1
   \   0000E6   E0           MOVX    A,@DPTR
   \   0000E7   6432         XRL     A,#0x32
   \   0000E9   6003         JZ      $+5
   \   0000EB   02....       LJMP    ??USER_APP_COMMAND_8 & 0xFFFF
    546              {
    547          	
    548                  if(user_app_data[1]=='1' )//开命令
   \   0000EE   85..82       MOV     DPL,?V0 + 0
   \   0000F1   85..83       MOV     DPH,?V0 + 1
   \   0000F4   A3           INC     DPTR
   \   0000F5   E0           MOVX    A,@DPTR
   \   0000F6   6431         XRL     A,#0x31
   \   0000F8   7020         JNZ     ??USER_APP_COMMAND_9
    549                  {  
    550                      IO_CTLA_SBIT =0;//打开继电器
   \   0000FA   C295         CLR     0x90.5
    551                      P1_7 = 0;//led    
   \   0000FC   C297         CLR     0x90.7
    552                      
    553                      str[1]=2;//第2个插座
   \   0000FE   85..82       MOV     DPL,?V0 + 2
   \   000101   85..83       MOV     DPH,?V0 + 3
   \   000104   A3           INC     DPTR
   \   000105   7402         MOV     A,#0x2
   \   000107   F0           MOVX    @DPTR,A
    554                      str[2]=1;
   \   000108   85..82       MOV     DPL,?V0 + 2
   \   00010B   85..83       MOV     DPH,?V0 + 3
   \   00010E   A3           INC     DPTR
   \   00010F   A3           INC     DPTR
   \   000110   7401         MOV     A,#0x1
   \   000112   F0           MOVX    @DPTR,A
    555                      active_len=12;
   \   000113   7E0C         MOV     R6,#0xc
    556                      return active_len;
   \   000115   EE           MOV     A,R6
   \   000116   F9           MOV     R1,A
   \   000117   02....       LJMP    ??USER_APP_COMMAND_2 & 0xFFFF
    557                  }
    558                  
    559                  else if(user_app_data[1]=='0' )//关
   \                     ??USER_APP_COMMAND_9:
   \   00011A   85..82       MOV     DPL,?V0 + 0
   \   00011D   85..83       MOV     DPH,?V0 + 1
   \   000120   A3           INC     DPTR
   \   000121   E0           MOVX    A,@DPTR
   \   000122   6430         XRL     A,#0x30
   \   000124   7020         JNZ     ??USER_APP_COMMAND_10
    560                  {
    561                      IO_CTLA_SBIT =1;//关闭继电器
   \   000126   D295         SETB    0x90.5
    562                      P1_7 = 1;//led
   \   000128   D297         SETB    0x90.7
    563                      
    564                      str[1]=2;//第2个插座
   \   00012A   85..82       MOV     DPL,?V0 + 2
   \   00012D   85..83       MOV     DPH,?V0 + 3
   \   000130   A3           INC     DPTR
   \   000131   7402         MOV     A,#0x2
   \   000133   F0           MOVX    @DPTR,A
    565                      str[2]=0;
   \   000134   85..82       MOV     DPL,?V0 + 2
   \   000137   85..83       MOV     DPH,?V0 + 3
   \   00013A   A3           INC     DPTR
   \   00013B   A3           INC     DPTR
   \   00013C   7400         MOV     A,#0x0
   \   00013E   F0           MOVX    @DPTR,A
    566                      active_len=12;
   \   00013F   7E0C         MOV     R6,#0xc
    567                      return active_len;
   \   000141   EE           MOV     A,R6
   \   000142   F9           MOV     R1,A
   \   000143   02....       LJMP    ??USER_APP_COMMAND_2 & 0xFFFF
    568                  }
    569                  
    570                  else if(user_app_data[1]=='2' )//2012 7 24 增加2 查询当前状态
   \                     ??USER_APP_COMMAND_10:
   \   000146   85..82       MOV     DPL,?V0 + 0
   \   000149   85..83       MOV     DPH,?V0 + 1
   \   00014C   A3           INC     DPTR
   \   00014D   E0           MOVX    A,@DPTR
   \   00014E   6432         XRL     A,#0x32
   \   000150   7024         JNZ     ??USER_APP_COMMAND_11
    571                  {
    572                      str[1]=2;//第2个插座
   \   000152   85..82       MOV     DPL,?V0 + 2
   \   000155   85..83       MOV     DPH,?V0 + 3
   \   000158   A3           INC     DPTR
   \   000159   7402         MOV     A,#0x2
   \   00015B   F0           MOVX    @DPTR,A
    573                      str[2]=!IO_CTLB_SBIT;
   \   00015C   D2F0         SETB    B.0
   \   00015E   A296         MOV     C,0x90.6
   \   000160   30F001       JNB     B.0,??USER_APP_COMMAND_12
   \   000163   B3           CPL     C
   \                     ??USER_APP_COMMAND_12:
   \   000164   E4           CLR     A
   \   000165   33           RLC     A
   \   000166   85..82       MOV     DPL,?V0 + 2
   \   000169   85..83       MOV     DPH,?V0 + 3
   \   00016C   A3           INC     DPTR
   \   00016D   A3           INC     DPTR
   \   00016E   F0           MOVX    @DPTR,A
    574                      active_len=12;
   \   00016F   7E0C         MOV     R6,#0xc
    575                      return active_len;
   \   000171   EE           MOV     A,R6
   \   000172   F9           MOV     R1,A
   \   000173   02....       LJMP    ??USER_APP_COMMAND_2 & 0xFFFF
    576                  }
    577                  else if(user_app_data[1]=='3' )//2012 7 24 增加3 切换当前状态
   \                     ??USER_APP_COMMAND_11:
   \   000176   85..82       MOV     DPL,?V0 + 0
   \   000179   85..83       MOV     DPH,?V0 + 1
   \   00017C   A3           INC     DPTR
   \   00017D   E0           MOVX    A,@DPTR
   \   00017E   6433         XRL     A,#0x33
   \   000180   6003         JZ      $+5
   \   000182   02....       LJMP    ??USER_APP_COMMAND_2 & 0xFFFF
    578                  {
    579                      str[1]=2;//第2个插座
   \   000185   85..82       MOV     DPL,?V0 + 2
   \   000188   85..83       MOV     DPH,?V0 + 3
   \   00018B   A3           INC     DPTR
   \   00018C   7402         MOV     A,#0x2
   \   00018E   F0           MOVX    @DPTR,A
    580                      str[2]=IO_CTLB_SBIT;
   \   00018F   A296         MOV     C,0x90.6
   \   000191   E4           CLR     A
   \   000192   33           RLC     A
   \   000193   85..82       MOV     DPL,?V0 + 2
   \   000196   85..83       MOV     DPH,?V0 + 3
   \   000199   A3           INC     DPTR
   \   00019A   A3           INC     DPTR
   \   00019B   F0           MOVX    @DPTR,A
    581                      
    582                      IO_CTLA_SBIT = !IO_CTLA_SBIT;
   \   00019C   D2F0         SETB    B.0
   \   00019E   A295         MOV     C,0x90.5
   \   0001A0   30F001       JNB     B.0,??USER_APP_COMMAND_13
   \   0001A3   B3           CPL     C
   \                     ??USER_APP_COMMAND_13:
   \   0001A4   9295         MOV     0x90.5,C
    583                      P1_7 = IO_CTLA_SBIT;
   \   0001A6   A295         MOV     C,0x90.5
   \   0001A8   9297         MOV     0x90.7,C
    584                      
    585                      active_len=12;
   \   0001AA   7E0C         MOV     R6,#0xc
    586                      return active_len;;
   \   0001AC   EE           MOV     A,R6
   \   0001AD   F9           MOV     R1,A
   \   0001AE   02....       LJMP    ??USER_APP_COMMAND_2 & 0xFFFF
    587                  }
    588              }    
    589              else if(user_app_data[0]=='5')
   \                     ??USER_APP_COMMAND_8:
   \   0001B1   85..82       MOV     DPL,?V0 + 0
   \   0001B4   85..83       MOV     DPH,?V0 + 1
   \   0001B7   E0           MOVX    A,@DPTR
   \   0001B8   6435         XRL     A,#0x35
   \   0001BA   700A         JNZ     ??USER_APP_COMMAND_14
    590              {
    591                  SampleApp_SendInMessage( );
   \   0001BC                ; Setup parameters for call to function SampleApp_SendInMessage
   \   0001BC   12....       LCALL   ??SampleApp_SendInMessage?relay
    592                  active_len=11;
   \   0001BF   7E0B         MOV     R6,#0xb
    593                  return active_len;;
   \   0001C1   EE           MOV     A,R6
   \   0001C2   F9           MOV     R1,A
   \   0001C3   02....       LJMP    ??USER_APP_COMMAND_2 & 0xFFFF
    594              }
    595              else if(user_app_data[0]=='6')
   \                     ??USER_APP_COMMAND_14:
   \   0001C6   85..82       MOV     DPL,?V0 + 0
   \   0001C9   85..83       MOV     DPH,?V0 + 1
   \   0001CC   E0           MOVX    A,@DPTR
   \   0001CD   6436         XRL     A,#0x36
   \   0001CF   6003         JZ      $+5
   \   0001D1   02....       LJMP    ??USER_APP_COMMAND_15 & 0xFFFF
    596              {
    597                  P_Value_Distance = (user_app_data[1]-'0')*1000 +(user_app_data[2]-'0')*100 + (user_app_data[3]-'0')*10 + (user_app_data[4]-'0');
   \   0001D4   85..82       MOV     DPL,?V0 + 0
   \   0001D7   85..83       MOV     DPH,?V0 + 1
   \   0001DA   A3           INC     DPTR
   \   0001DB   E0           MOVX    A,@DPTR
   \   0001DC   F8           MOV     R0,A
   \   0001DD   7900         MOV     R1,#0x0
   \   0001DF   E8           MOV     A,R0
   \   0001E0   75F0E8       MOV     B,#-0x18
   \   0001E3   A4           MUL     AB
   \   0001E4   C8           XCH     A,R0
   \   0001E5   AAF0         MOV     R2,B
   \   0001E7   75F003       MOV     B,#0x3
   \   0001EA   A4           MUL     AB
   \   0001EB   2A           ADD     A,R2
   \   0001EC   FA           MOV     R2,A
   \   0001ED   75F0E8       MOV     B,#-0x18
   \   0001F0   E9           MOV     A,R1
   \   0001F1   A4           MUL     AB
   \   0001F2   2A           ADD     A,R2
   \   0001F3   F9           MOV     R1,A
   \   0001F4   85..82       MOV     DPL,?V0 + 0
   \   0001F7   85..83       MOV     DPH,?V0 + 1
   \   0001FA   A3           INC     DPTR
   \   0001FB   A3           INC     DPTR
   \   0001FC   E0           MOVX    A,@DPTR
   \   0001FD   FA           MOV     R2,A
   \   0001FE   7B00         MOV     R3,#0x0
   \   000200   EA           MOV     A,R2
   \   000201   75F064       MOV     B,#0x64
   \   000204   A4           MUL     AB
   \   000205   CA           XCH     A,R2
   \   000206   ACF0         MOV     R4,B
   \   000208   75F000       MOV     B,#0x0
   \   00020B   A4           MUL     AB
   \   00020C   2C           ADD     A,R4
   \   00020D   FC           MOV     R4,A
   \   00020E   75F064       MOV     B,#0x64
   \   000211   EB           MOV     A,R3
   \   000212   A4           MUL     AB
   \   000213   2C           ADD     A,R4
   \   000214   FB           MOV     R3,A
   \   000215   E8           MOV     A,R0
   \   000216   2A           ADD     A,R2
   \   000217   F8           MOV     R0,A
   \   000218   E9           MOV     A,R1
   \   000219   3B           ADDC    A,R3
   \   00021A   F9           MOV     R1,A
   \   00021B   85..82       MOV     DPL,?V0 + 0
   \   00021E   85..83       MOV     DPH,?V0 + 1
   \   000221   A3           INC     DPTR
   \   000222   A3           INC     DPTR
   \   000223   A3           INC     DPTR
   \   000224   E0           MOVX    A,@DPTR
   \   000225   FA           MOV     R2,A
   \   000226   7B00         MOV     R3,#0x0
   \   000228   EA           MOV     A,R2
   \   000229   75F00A       MOV     B,#0xa
   \   00022C   A4           MUL     AB
   \   00022D   CA           XCH     A,R2
   \   00022E   ACF0         MOV     R4,B
   \   000230   75F000       MOV     B,#0x0
   \   000233   A4           MUL     AB
   \   000234   2C           ADD     A,R4
   \   000235   FC           MOV     R4,A
   \   000236   75F00A       MOV     B,#0xa
   \   000239   EB           MOV     A,R3
   \   00023A   A4           MUL     AB
   \   00023B   2C           ADD     A,R4
   \   00023C   FB           MOV     R3,A
   \   00023D   E8           MOV     A,R0
   \   00023E   2A           ADD     A,R2
   \   00023F   F8           MOV     R0,A
   \   000240   E9           MOV     A,R1
   \   000241   3B           ADDC    A,R3
   \   000242   F9           MOV     R1,A
   \   000243   85..82       MOV     DPL,?V0 + 0
   \   000246   85..83       MOV     DPH,?V0 + 1
   \   000249   A3           INC     DPTR
   \   00024A   A3           INC     DPTR
   \   00024B   A3           INC     DPTR
   \   00024C   A3           INC     DPTR
   \   00024D   E0           MOVX    A,@DPTR
   \   00024E   FA           MOV     R2,A
   \   00024F   7B00         MOV     R3,#0x0
   \   000251   E8           MOV     A,R0
   \   000252   2A           ADD     A,R2
   \   000253   F8           MOV     R0,A
   \   000254   E9           MOV     A,R1
   \   000255   3B           ADDC    A,R3
   \   000256   F9           MOV     R1,A
   \   000257   E8           MOV     A,R0
   \   000258   24B0         ADD     A,#-0x50
   \   00025A   F8           MOV     R0,A
   \   00025B   E9           MOV     A,R1
   \   00025C   342F         ADDC    A,#0x2f
   \   00025E   F9           MOV     R1,A
   \   00025F   90....       MOV     DPTR,#P_Value_Distance
   \   000262   E8           MOV     A,R0
   \   000263   F0           MOVX    @DPTR,A
   \   000264   A3           INC     DPTR
   \   000265   E9           MOV     A,R1
   \   000266   F0           MOVX    @DPTR,A
    598                  str[1] = 6;
   \   000267   85..82       MOV     DPL,?V0 + 2
   \   00026A   85..83       MOV     DPH,?V0 + 3
   \   00026D   A3           INC     DPTR
   \   00026E   7406         MOV     A,#0x6
   \   000270   F0           MOVX    @DPTR,A
    599                  str[2] = P_Value_Distance/256;
   \   000271   90....       MOV     DPTR,#P_Value_Distance
   \   000274   E0           MOVX    A,@DPTR
   \   000275   F8           MOV     R0,A
   \   000276   A3           INC     DPTR
   \   000277   E0           MOVX    A,@DPTR
   \   000278   F9           MOV     R1,A
   \   000279   E4           CLR     A
   \   00027A   E9           MOV     A,R1
   \   00027B   F8           MOV     R0,A
   \   00027C   85..82       MOV     DPL,?V0 + 2
   \   00027F   85..83       MOV     DPH,?V0 + 3
   \   000282   A3           INC     DPTR
   \   000283   A3           INC     DPTR
   \   000284   F0           MOVX    @DPTR,A
    600                  str[3] = P_Value_Distance%256;			
   \   000285   90....       MOV     DPTR,#P_Value_Distance
   \   000288   E0           MOVX    A,@DPTR
   \   000289   F8           MOV     R0,A
   \   00028A   A3           INC     DPTR
   \   00028B   E0           MOVX    A,@DPTR
   \   00028C   F9           MOV     R1,A
   \   00028D   7A00         MOV     R2,#0x0
   \   00028F   7B01         MOV     R3,#0x1
   \   000291   12....       LCALL   ?US_DIV_MOD
   \   000294   EA           MOV     A,R2
   \   000295   85..82       MOV     DPL,?V0 + 2
   \   000298   85..83       MOV     DPH,?V0 + 3
   \   00029B   A3           INC     DPTR
   \   00029C   A3           INC     DPTR
   \   00029D   A3           INC     DPTR
   \   00029E   F0           MOVX    @DPTR,A
    601                  active_len=13;
   \   00029F   7E0D         MOV     R6,#0xd
    602                  return active_len;;	
   \   0002A1   EE           MOV     A,R6
   \   0002A2   F9           MOV     R1,A
   \   0002A3   02....       LJMP    ??USER_APP_COMMAND_2 & 0xFFFF
    603              }
    604              else if(user_app_data[0]=='7')	
   \                     ??USER_APP_COMMAND_15:
   \   0002A6   85..82       MOV     DPL,?V0 + 0
   \   0002A9   85..83       MOV     DPH,?V0 + 1
   \   0002AC   E0           MOVX    A,@DPTR
   \   0002AD   6437         XRL     A,#0x37
   \   0002AF   6003         JZ      $+5
   \   0002B1   02....       LJMP    ??USER_APP_COMMAND_16 & 0xFFFF
    605              {
    606                  P_Value_jiaozhun_Temp = (user_app_data[1]-'0')*1000 +(user_app_data[2]-'0')*100 + (user_app_data[3]-'0')*10 + (user_app_data[4]-'0');
   \   0002B4   85..82       MOV     DPL,?V0 + 0
   \   0002B7   85..83       MOV     DPH,?V0 + 1
   \   0002BA   A3           INC     DPTR
   \   0002BB   E0           MOVX    A,@DPTR
   \   0002BC   F8           MOV     R0,A
   \   0002BD   7900         MOV     R1,#0x0
   \   0002BF   E8           MOV     A,R0
   \   0002C0   75F0E8       MOV     B,#-0x18
   \   0002C3   A4           MUL     AB
   \   0002C4   C8           XCH     A,R0
   \   0002C5   AAF0         MOV     R2,B
   \   0002C7   75F003       MOV     B,#0x3
   \   0002CA   A4           MUL     AB
   \   0002CB   2A           ADD     A,R2
   \   0002CC   FA           MOV     R2,A
   \   0002CD   75F0E8       MOV     B,#-0x18
   \   0002D0   E9           MOV     A,R1
   \   0002D1   A4           MUL     AB
   \   0002D2   2A           ADD     A,R2
   \   0002D3   F9           MOV     R1,A
   \   0002D4   85..82       MOV     DPL,?V0 + 0
   \   0002D7   85..83       MOV     DPH,?V0 + 1
   \   0002DA   A3           INC     DPTR
   \   0002DB   A3           INC     DPTR
   \   0002DC   E0           MOVX    A,@DPTR
   \   0002DD   FA           MOV     R2,A
   \   0002DE   7B00         MOV     R3,#0x0
   \   0002E0   EA           MOV     A,R2
   \   0002E1   75F064       MOV     B,#0x64
   \   0002E4   A4           MUL     AB
   \   0002E5   CA           XCH     A,R2
   \   0002E6   ACF0         MOV     R4,B
   \   0002E8   75F000       MOV     B,#0x0
   \   0002EB   A4           MUL     AB
   \   0002EC   2C           ADD     A,R4
   \   0002ED   FC           MOV     R4,A
   \   0002EE   75F064       MOV     B,#0x64
   \   0002F1   EB           MOV     A,R3
   \   0002F2   A4           MUL     AB
   \   0002F3   2C           ADD     A,R4
   \   0002F4   FB           MOV     R3,A
   \   0002F5   E8           MOV     A,R0
   \   0002F6   2A           ADD     A,R2
   \   0002F7   F8           MOV     R0,A
   \   0002F8   E9           MOV     A,R1
   \   0002F9   3B           ADDC    A,R3
   \   0002FA   F9           MOV     R1,A
   \   0002FB   85..82       MOV     DPL,?V0 + 0
   \   0002FE   85..83       MOV     DPH,?V0 + 1
   \   000301   A3           INC     DPTR
   \   000302   A3           INC     DPTR
   \   000303   A3           INC     DPTR
   \   000304   E0           MOVX    A,@DPTR
   \   000305   FA           MOV     R2,A
   \   000306   7B00         MOV     R3,#0x0
   \   000308   EA           MOV     A,R2
   \   000309   75F00A       MOV     B,#0xa
   \   00030C   A4           MUL     AB
   \   00030D   CA           XCH     A,R2
   \   00030E   ACF0         MOV     R4,B
   \   000310   75F000       MOV     B,#0x0
   \   000313   A4           MUL     AB
   \   000314   2C           ADD     A,R4
   \   000315   FC           MOV     R4,A
   \   000316   75F00A       MOV     B,#0xa
   \   000319   EB           MOV     A,R3
   \   00031A   A4           MUL     AB
   \   00031B   2C           ADD     A,R4
   \   00031C   FB           MOV     R3,A
   \   00031D   E8           MOV     A,R0
   \   00031E   2A           ADD     A,R2
   \   00031F   F8           MOV     R0,A
   \   000320   E9           MOV     A,R1
   \   000321   3B           ADDC    A,R3
   \   000322   F9           MOV     R1,A
   \   000323   85..82       MOV     DPL,?V0 + 0
   \   000326   85..83       MOV     DPH,?V0 + 1
   \   000329   A3           INC     DPTR
   \   00032A   A3           INC     DPTR
   \   00032B   A3           INC     DPTR
   \   00032C   A3           INC     DPTR
   \   00032D   E0           MOVX    A,@DPTR
   \   00032E   FA           MOV     R2,A
   \   00032F   7B00         MOV     R3,#0x0
   \   000331   E8           MOV     A,R0
   \   000332   2A           ADD     A,R2
   \   000333   F8           MOV     R0,A
   \   000334   E9           MOV     A,R1
   \   000335   3B           ADDC    A,R3
   \   000336   F9           MOV     R1,A
   \   000337   E8           MOV     A,R0
   \   000338   24B0         ADD     A,#-0x50
   \   00033A   F8           MOV     R0,A
   \   00033B   E9           MOV     A,R1
   \   00033C   342F         ADDC    A,#0x2f
   \   00033E   F9           MOV     R1,A
   \   00033F   90....       MOV     DPTR,#P_Value_jiaozhun_Temp
   \   000342   E8           MOV     A,R0
   \   000343   F0           MOVX    @DPTR,A
   \   000344   A3           INC     DPTR
   \   000345   E9           MOV     A,R1
   \   000346   F0           MOVX    @DPTR,A
    607                  str[1] = 7;
   \   000347   85..82       MOV     DPL,?V0 + 2
   \   00034A   85..83       MOV     DPH,?V0 + 3
   \   00034D   A3           INC     DPTR
   \   00034E   7407         MOV     A,#0x7
   \   000350   F0           MOVX    @DPTR,A
    608                  str[2] = P_Value_jiaozhun_Temp/256;
   \   000351   90....       MOV     DPTR,#P_Value_jiaozhun_Temp
   \   000354   E0           MOVX    A,@DPTR
   \   000355   F8           MOV     R0,A
   \   000356   A3           INC     DPTR
   \   000357   E0           MOVX    A,@DPTR
   \   000358   F9           MOV     R1,A
   \   000359   E4           CLR     A
   \   00035A   E9           MOV     A,R1
   \   00035B   F8           MOV     R0,A
   \   00035C   85..82       MOV     DPL,?V0 + 2
   \   00035F   85..83       MOV     DPH,?V0 + 3
   \   000362   A3           INC     DPTR
   \   000363   A3           INC     DPTR
   \   000364   F0           MOVX    @DPTR,A
    609                  str[3] = P_Value_jiaozhun_Temp%256;			
   \   000365   90....       MOV     DPTR,#P_Value_jiaozhun_Temp
   \   000368   E0           MOVX    A,@DPTR
   \   000369   F8           MOV     R0,A
   \   00036A   A3           INC     DPTR
   \   00036B   E0           MOVX    A,@DPTR
   \   00036C   F9           MOV     R1,A
   \   00036D   7A00         MOV     R2,#0x0
   \   00036F   7B01         MOV     R3,#0x1
   \   000371   12....       LCALL   ?US_DIV_MOD
   \   000374   EA           MOV     A,R2
   \   000375   85..82       MOV     DPL,?V0 + 2
   \   000378   85..83       MOV     DPH,?V0 + 3
   \   00037B   A3           INC     DPTR
   \   00037C   A3           INC     DPTR
   \   00037D   A3           INC     DPTR
   \   00037E   F0           MOVX    @DPTR,A
    610                  active_len=13;
   \   00037F   7E0D         MOV     R6,#0xd
    611                  return active_len;;	
   \   000381   EE           MOV     A,R6
   \   000382   F9           MOV     R1,A
   \   000383   02....       LJMP    ??USER_APP_COMMAND_2 & 0xFFFF
    612              }
    613              else if(user_app_data[0]=='8')	
   \                     ??USER_APP_COMMAND_16:
   \   000386   85..82       MOV     DPL,?V0 + 0
   \   000389   85..83       MOV     DPH,?V0 + 1
   \   00038C   E0           MOVX    A,@DPTR
   \   00038D   6438         XRL     A,#0x38
   \   00038F   6003         JZ      $+5
   \   000391   02....       LJMP    ??USER_APP_COMMAND_17 & 0xFFFF
    614              {
    615                  P_Protect_Value = (user_app_data[1]-'0')*1000 +(user_app_data[2]-'0')*100 + (user_app_data[3]-'0')*10 + (user_app_data[4]-'0');
   \   000394   85..82       MOV     DPL,?V0 + 0
   \   000397   85..83       MOV     DPH,?V0 + 1
   \   00039A   A3           INC     DPTR
   \   00039B   E0           MOVX    A,@DPTR
   \   00039C   F8           MOV     R0,A
   \   00039D   7900         MOV     R1,#0x0
   \   00039F   E8           MOV     A,R0
   \   0003A0   75F0E8       MOV     B,#-0x18
   \   0003A3   A4           MUL     AB
   \   0003A4   C8           XCH     A,R0
   \   0003A5   AAF0         MOV     R2,B
   \   0003A7   75F003       MOV     B,#0x3
   \   0003AA   A4           MUL     AB
   \   0003AB   2A           ADD     A,R2
   \   0003AC   FA           MOV     R2,A
   \   0003AD   75F0E8       MOV     B,#-0x18
   \   0003B0   E9           MOV     A,R1
   \   0003B1   A4           MUL     AB
   \   0003B2   2A           ADD     A,R2
   \   0003B3   F9           MOV     R1,A
   \   0003B4   85..82       MOV     DPL,?V0 + 0
   \   0003B7   85..83       MOV     DPH,?V0 + 1
   \   0003BA   A3           INC     DPTR
   \   0003BB   A3           INC     DPTR
   \   0003BC   E0           MOVX    A,@DPTR
   \   0003BD   FA           MOV     R2,A
   \   0003BE   7B00         MOV     R3,#0x0
   \   0003C0   EA           MOV     A,R2
   \   0003C1   75F064       MOV     B,#0x64
   \   0003C4   A4           MUL     AB
   \   0003C5   CA           XCH     A,R2
   \   0003C6   ACF0         MOV     R4,B
   \   0003C8   75F000       MOV     B,#0x0
   \   0003CB   A4           MUL     AB
   \   0003CC   2C           ADD     A,R4
   \   0003CD   FC           MOV     R4,A
   \   0003CE   75F064       MOV     B,#0x64
   \   0003D1   EB           MOV     A,R3
   \   0003D2   A4           MUL     AB
   \   0003D3   2C           ADD     A,R4
   \   0003D4   FB           MOV     R3,A
   \   0003D5   E8           MOV     A,R0
   \   0003D6   2A           ADD     A,R2
   \   0003D7   F8           MOV     R0,A
   \   0003D8   E9           MOV     A,R1
   \   0003D9   3B           ADDC    A,R3
   \   0003DA   F9           MOV     R1,A
   \   0003DB   85..82       MOV     DPL,?V0 + 0
   \   0003DE   85..83       MOV     DPH,?V0 + 1
   \   0003E1   A3           INC     DPTR
   \   0003E2   A3           INC     DPTR
   \   0003E3   A3           INC     DPTR
   \   0003E4   E0           MOVX    A,@DPTR
   \   0003E5   FA           MOV     R2,A
   \   0003E6   7B00         MOV     R3,#0x0
   \   0003E8   EA           MOV     A,R2
   \   0003E9   75F00A       MOV     B,#0xa
   \   0003EC   A4           MUL     AB
   \   0003ED   CA           XCH     A,R2
   \   0003EE   ACF0         MOV     R4,B
   \   0003F0   75F000       MOV     B,#0x0
   \   0003F3   A4           MUL     AB
   \   0003F4   2C           ADD     A,R4
   \   0003F5   FC           MOV     R4,A
   \   0003F6   75F00A       MOV     B,#0xa
   \   0003F9   EB           MOV     A,R3
   \   0003FA   A4           MUL     AB
   \   0003FB   2C           ADD     A,R4
   \   0003FC   FB           MOV     R3,A
   \   0003FD   E8           MOV     A,R0
   \   0003FE   2A           ADD     A,R2
   \   0003FF   F8           MOV     R0,A
   \   000400   E9           MOV     A,R1
   \   000401   3B           ADDC    A,R3
   \   000402   F9           MOV     R1,A
   \   000403   85..82       MOV     DPL,?V0 + 0
   \   000406   85..83       MOV     DPH,?V0 + 1
   \   000409   A3           INC     DPTR
   \   00040A   A3           INC     DPTR
   \   00040B   A3           INC     DPTR
   \   00040C   A3           INC     DPTR
   \   00040D   E0           MOVX    A,@DPTR
   \   00040E   FA           MOV     R2,A
   \   00040F   7B00         MOV     R3,#0x0
   \   000411   E8           MOV     A,R0
   \   000412   2A           ADD     A,R2
   \   000413   F8           MOV     R0,A
   \   000414   E9           MOV     A,R1
   \   000415   3B           ADDC    A,R3
   \   000416   F9           MOV     R1,A
   \   000417   E8           MOV     A,R0
   \   000418   24B0         ADD     A,#-0x50
   \   00041A   FA           MOV     R2,A
   \   00041B   E9           MOV     A,R1
   \   00041C   342F         ADDC    A,#0x2f
   \   00041E   FB           MOV     R3,A
   \   00041F   EB           MOV     A,R3
   \   000420   33           RLC     A
   \   000421   95E0         SUBB    A,0xE0 /* A   */
   \   000423   FC           MOV     R4,A
   \   000424   FD           MOV     R5,A
   \   000425   90....       MOV     DPTR,#P_Protect_Value
   \   000428   EA           MOV     A,R2
   \   000429   F0           MOVX    @DPTR,A
   \   00042A   A3           INC     DPTR
   \   00042B   EB           MOV     A,R3
   \   00042C   F0           MOVX    @DPTR,A
   \   00042D   A3           INC     DPTR
   \   00042E   EC           MOV     A,R4
   \   00042F   F0           MOVX    @DPTR,A
   \   000430   A3           INC     DPTR
   \   000431   ED           MOV     A,R5
   \   000432   F0           MOVX    @DPTR,A
    616                  str[1] = 8;
   \   000433   85..82       MOV     DPL,?V0 + 2
   \   000436   85..83       MOV     DPH,?V0 + 3
   \   000439   A3           INC     DPTR
   \   00043A   7408         MOV     A,#0x8
   \   00043C   F0           MOVX    @DPTR,A
    617                  str[2] = P_Protect_Value/256;
   \   00043D   90....       MOV     DPTR,#P_Protect_Value
   \   000440   78..         MOV     R0,#?V0 + 4
   \   000442   12....       LCALL   ?L_MOV_X
   \   000445   E4           CLR     A
   \   000446   E5..         MOV     A,?V0 + 5
   \   000448   F5..         MOV     ?V0 + 4,A
   \   00044A   E5..         MOV     A,?V0 + 4
   \   00044C   85..82       MOV     DPL,?V0 + 2
   \   00044F   85..83       MOV     DPH,?V0 + 3
   \   000452   A3           INC     DPTR
   \   000453   A3           INC     DPTR
   \   000454   E5..         MOV     A,?V0 + 4
   \   000456   F0           MOVX    @DPTR,A
    618                  str[3] = P_Protect_Value%256;			
   \   000457   90....       MOV     DPTR,#P_Protect_Value
   \   00045A   78..         MOV     R0,#?V0 + 8
   \   00045C   12....       LCALL   ?L_MOV_X
   \   00045F   90....       MOV     DPTR,#__Constant_100
   \   000462   78..         MOV     R0,#?V0 + 4
   \   000464   12....       LCALL   ?L_MOV_X
   \   000467   78..         MOV     R0,#?V0 + 8
   \   000469   79..         MOV     R1,#?V0 + 4
   \   00046B   12....       LCALL   ?UL_DIV_MOD
   \   00046E   E5..         MOV     A,?V0 + 4
   \   000470   85..82       MOV     DPL,?V0 + 2
   \   000473   85..83       MOV     DPH,?V0 + 3
   \   000476   A3           INC     DPTR
   \   000477   A3           INC     DPTR
   \   000478   A3           INC     DPTR
   \   000479   E5..         MOV     A,?V0 + 4
   \   00047B   F0           MOVX    @DPTR,A
    619                  active_len=13;
   \   00047C   7E0D         MOV     R6,#0xd
    620                  return active_len;;	
   \   00047E   EE           MOV     A,R6
   \   00047F   F9           MOV     R1,A
   \   000480   02....       LJMP    ??USER_APP_COMMAND_2 & 0xFFFF
    621              }
    622              else if(user_app_data[0]=='9')
   \                     ??USER_APP_COMMAND_17:
   \   000483   85..82       MOV     DPL,?V0 + 0
   \   000486   85..83       MOV     DPH,?V0 + 1
   \   000489   E0           MOVX    A,@DPTR
   \   00048A   6439         XRL     A,#0x39
   \   00048C   6003         JZ      $+5
   \   00048E   02....       LJMP    ??USER_APP_COMMAND_2 & 0xFFFF
    623              {
    624                  
    625                  P_Value = GetPactive(1.0, 10000, 0);//获取有功功率
   \   000491                ; Setup parameters for call to function GetPactive
   \   000491   90....       MOV     DPTR,#__Constant_0
   \   000494   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000497   90....       MOV     DPTR,#__Constant_2710
   \   00049A   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00049D   90....       MOV     DPTR,#__Constant_3f800000
   \   0004A0   12....       LCALL   ?XLOAD_R2345
   \   0004A3   12....       LCALL   ??GetPactive?relay
   \   0004A6   7408         MOV     A,#0x8
   \   0004A8   12....       LCALL   ?DEALLOC_XSTACK8
   \   0004AB   90....       MOV     DPTR,#P_Value
   \   0004AE   12....       LCALL   ?XSTORE_R2345
    626                  P_Value_Now = P_Value*1.2;//*12000/10000得到最终的有效的功率值	
                                     ^
Warning[Pa093]: implicit conversion from floating point to integer
   \   0004B1   90....       MOV     DPTR,#P_Value
   \   0004B4   78..         MOV     R0,#?V0 + 4
   \   0004B6   12....       LCALL   ?L_MOV_X
   \   0004B9   78..         MOV     R0,#?V0 + 4
   \   0004BB   12....       LCALL   ?UL_TO_FLT
   \   0004BE   90....       MOV     DPTR,#__Constant_3f99999a
   \   0004C1   78..         MOV     R0,#?V0 + 8
   \   0004C3   12....       LCALL   ?L_MOV_X
   \   0004C6   78..         MOV     R0,#?V0 + 4
   \   0004C8   79..         MOV     R1,#?V0 + 8
   \   0004CA   12....       LCALL   ?FLT_MUL
   \   0004CD   78..         MOV     R0,#?V0 + 4
   \   0004CF   12....       LCALL   ?FLT_TO_UL
   \   0004D2   AA..         MOV     R2,?V0 + 4
   \   0004D4   AB..         MOV     R3,?V0 + 5
   \   0004D6   AC..         MOV     R4,?V0 + 6
   \   0004D8   AD..         MOV     R5,?V0 + 7
   \   0004DA   90....       MOV     DPTR,#P_Value_Now
   \   0004DD   E5..         MOV     A,?V0 + 4
   \   0004DF   F0           MOVX    @DPTR,A
   \   0004E0   A3           INC     DPTR
   \   0004E1   E5..         MOV     A,?V0 + 5
   \   0004E3   F0           MOVX    @DPTR,A
   \   0004E4   A3           INC     DPTR
   \   0004E5   E5..         MOV     A,?V0 + 6
   \   0004E7   F0           MOVX    @DPTR,A
   \   0004E8   A3           INC     DPTR
   \   0004E9   E5..         MOV     A,?V0 + 7
   \   0004EB   F0           MOVX    @DPTR,A
    627                  I_Value_Now = GetCurrentIrms(1,10000,0);//读取电流值
   \   0004EC                ; Setup parameters for call to function GetCurrentIrms
   \   0004EC   90....       MOV     DPTR,#__Constant_0
   \   0004EF   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0004F2   90....       MOV     DPTR,#__Constant_2710
   \   0004F5   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0004F8   90....       MOV     DPTR,#__Constant_3f800000
   \   0004FB   12....       LCALL   ?XLOAD_R2345
   \   0004FE   12....       LCALL   ??GetCurrentIrms?relay
   \   000501   7408         MOV     A,#0x8
   \   000503   12....       LCALL   ?DEALLOC_XSTACK8
   \   000506   90....       MOV     DPTR,#I_Value_Now
   \   000509   12....       LCALL   ?XSTORE_R2345
    628                  
    629                  if(user_app_data[1] == '1')//差值校准,0.1A电流，220V电压
   \   00050C   85..82       MOV     DPL,?V0 + 0
   \   00050F   85..83       MOV     DPH,?V0 + 1
   \   000512   A3           INC     DPTR
   \   000513   E0           MOVX    A,@DPTR
   \   000514   6431         XRL     A,#0x31
   \   000516   6003         JZ      $+5
   \   000518   02....       LJMP    ??USER_APP_COMMAND_18 & 0xFFFF
    630                  {
    631                      if(I_Value_Now > 1000)
   \   00051B   90....       MOV     DPTR,#I_Value_Now
   \   00051E   C082         PUSH    DPL
   \   000520   C083         PUSH    DPH
   \   000522   90....       MOV     DPTR,#__Constant_3e9
   \   000525   78..         MOV     R0,#?V0 + 4
   \   000527   12....       LCALL   ?L_MOV_X
   \   00052A   D083         POP     DPH
   \   00052C   D082         POP     DPL
   \   00052E   78..         MOV     R0,#?V0 + 4
   \   000530   12....       LCALL   ?UL_GT_X
   \   000533   401A         JC      ??USER_APP_COMMAND_19
    632                      {
    633                          I_Value_jiaozhun_Temp = I_Value_Now - 1000;//电流校准的差值
   \   000535   90....       MOV     DPTR,#I_Value_Now
   \   000538   78..         MOV     R0,#?V0 + 4
   \   00053A   12....       LCALL   ?L_MOV_X
   \   00053D   E5..         MOV     A,?V0 + 4
   \   00053F   2418         ADD     A,#0x18
   \   000541   F8           MOV     R0,A
   \   000542   E5..         MOV     A,?V0 + 5
   \   000544   34FC         ADDC    A,#-0x4
   \   000546   F9           MOV     R1,A
   \   000547   90....       MOV     DPTR,#I_Value_jiaozhun_Temp
   \   00054A   E8           MOV     A,R0
   \   00054B   F0           MOVX    @DPTR,A
   \   00054C   A3           INC     DPTR
   \   00054D   E9           MOV     A,R1
   \   00054E   F0           MOVX    @DPTR,A
    634                      }
    635                      
    636                      P_Value_Now *= P_Value_Bili_Temp;
   \                     ??USER_APP_COMMAND_19:
   \   00054F   90....       MOV     DPTR,#P_Value_Now
   \   000552   78..         MOV     R0,#?V0 + 4
   \   000554   12....       LCALL   ?L_MOV_X
   \   000557   78..         MOV     R0,#?V0 + 4
   \   000559   12....       LCALL   ?UL_TO_FLT
   \   00055C   90....       MOV     DPTR,#P_Value_Bili_Temp
   \   00055F   78..         MOV     R0,#?V0 + 8
   \   000561   12....       LCALL   ?L_MOV_X
   \   000564   78..         MOV     R0,#?V0 + 4
   \   000566   79..         MOV     R1,#?V0 + 8
   \   000568   12....       LCALL   ?FLT_MUL
   \   00056B   78..         MOV     R0,#?V0 + 4
   \   00056D   12....       LCALL   ?FLT_TO_UL
   \   000570   AA..         MOV     R2,?V0 + 4
   \   000572   AB..         MOV     R3,?V0 + 5
   \   000574   AC..         MOV     R4,?V0 + 6
   \   000576   AD..         MOV     R5,?V0 + 7
   \   000578   90....       MOV     DPTR,#P_Value_Now
   \   00057B   E5..         MOV     A,?V0 + 4
   \   00057D   F0           MOVX    @DPTR,A
   \   00057E   A3           INC     DPTR
   \   00057F   E5..         MOV     A,?V0 + 5
   \   000581   F0           MOVX    @DPTR,A
   \   000582   A3           INC     DPTR
   \   000583   E5..         MOV     A,?V0 + 6
   \   000585   F0           MOVX    @DPTR,A
   \   000586   A3           INC     DPTR
   \   000587   E5..         MOV     A,?V0 + 7
   \   000589   F0           MOVX    @DPTR,A
    637                      
    638                      if(P_Value_Now > 22)
   \   00058A   90....       MOV     DPTR,#P_Value_Now
   \   00058D   C082         PUSH    DPL
   \   00058F   C083         PUSH    DPH
   \   000591   90....       MOV     DPTR,#__Constant_17
   \   000594   78..         MOV     R0,#?V0 + 4
   \   000596   12....       LCALL   ?L_MOV_X
   \   000599   D083         POP     DPH
   \   00059B   D082         POP     DPL
   \   00059D   78..         MOV     R0,#?V0 + 4
   \   00059F   12....       LCALL   ?UL_GT_X
   \   0005A2   401A         JC      ??USER_APP_COMMAND_20
    639                      {
    640                          P_Value_jiaozhun_Temp = P_Value_Now - 22;//22W的校准
   \   0005A4   90....       MOV     DPTR,#P_Value_Now
   \   0005A7   78..         MOV     R0,#?V0 + 4
   \   0005A9   12....       LCALL   ?L_MOV_X
   \   0005AC   E5..         MOV     A,?V0 + 4
   \   0005AE   24EA         ADD     A,#-0x16
   \   0005B0   F8           MOV     R0,A
   \   0005B1   E5..         MOV     A,?V0 + 5
   \   0005B3   34FF         ADDC    A,#-0x1
   \   0005B5   F9           MOV     R1,A
   \   0005B6   90....       MOV     DPTR,#P_Value_jiaozhun_Temp
   \   0005B9   E8           MOV     A,R0
   \   0005BA   F0           MOVX    @DPTR,A
   \   0005BB   A3           INC     DPTR
   \   0005BC   E9           MOV     A,R1
   \   0005BD   F0           MOVX    @DPTR,A
    641                      }
    642                      
    643                      str[2]=1;
   \                     ??USER_APP_COMMAND_20:
   \   0005BE   85..82       MOV     DPL,?V0 + 2
   \   0005C1   85..83       MOV     DPH,?V0 + 3
   \   0005C4   A3           INC     DPTR
   \   0005C5   A3           INC     DPTR
   \   0005C6   7401         MOV     A,#0x1
   \   0005C8   F0           MOVX    @DPTR,A
   \   0005C9   02....       LJMP    ??USER_APP_COMMAND_21 & 0xFFFF
    644                  }
    645                  else if(user_app_data[1] == '2')//比例校准，8A电流，220V电压
   \                     ??USER_APP_COMMAND_18:
   \   0005CC   85..82       MOV     DPL,?V0 + 0
   \   0005CF   85..83       MOV     DPH,?V0 + 1
   \   0005D2   A3           INC     DPTR
   \   0005D3   E0           MOVX    A,@DPTR
   \   0005D4   6432         XRL     A,#0x32
   \   0005D6   6003         JZ      $+5
   \   0005D8   02....       LJMP    ??USER_APP_COMMAND_22 & 0xFFFF
    646                  {
    647                      if(I_Value_Now > 80000)//8A电流
   \   0005DB   90....       MOV     DPTR,#I_Value_Now
   \   0005DE   C082         PUSH    DPL
   \   0005E0   C083         PUSH    DPH
   \   0005E2   90....       MOV     DPTR,#__Constant_13881
   \   0005E5   78..         MOV     R0,#?V0 + 4
   \   0005E7   12....       LCALL   ?L_MOV_X
   \   0005EA   D083         POP     DPH
   \   0005EC   D082         POP     DPL
   \   0005EE   78..         MOV     R0,#?V0 + 4
   \   0005F0   12....       LCALL   ?UL_GT_X
   \   0005F3   403C         JC      ??USER_APP_COMMAND_23
    648                      {
    649                          I_Value_Bili_Temp = 80000 / I_Value_Now;//电流校准的比例值
   \   0005F5   75..80       MOV     ?V0 + 4,#-0x80
   \   0005F8   75..38       MOV     ?V0 + 5,#0x38
   \   0005FB   75..01       MOV     ?V0 + 6,#0x1
   \   0005FE   75..00       MOV     ?V0 + 7,#0x0
   \   000601   90....       MOV     DPTR,#I_Value_Now
   \   000604   78..         MOV     R0,#?V0 + 8
   \   000606   12....       LCALL   ?L_MOV_X
   \   000609   78..         MOV     R0,#?V0 + 4
   \   00060B   79..         MOV     R1,#?V0 + 8
   \   00060D   12....       LCALL   ?UL_DIV_MOD
   \   000610   78..         MOV     R0,#?V0 + 4
   \   000612   12....       LCALL   ?UL_TO_FLT
   \   000615   AA..         MOV     R2,?V0 + 4
   \   000617   AB..         MOV     R3,?V0 + 5
   \   000619   AC..         MOV     R4,?V0 + 6
   \   00061B   AD..         MOV     R5,?V0 + 7
   \   00061D   90....       MOV     DPTR,#I_Value_Bili_Temp
   \   000620   E5..         MOV     A,?V0 + 4
   \   000622   F0           MOVX    @DPTR,A
   \   000623   A3           INC     DPTR
   \   000624   E5..         MOV     A,?V0 + 5
   \   000626   F0           MOVX    @DPTR,A
   \   000627   A3           INC     DPTR
   \   000628   E5..         MOV     A,?V0 + 6
   \   00062A   F0           MOVX    @DPTR,A
   \   00062B   A3           INC     DPTR
   \   00062C   E5..         MOV     A,?V0 + 7
   \   00062E   F0           MOVX    @DPTR,A
   \   00062F   8036         SJMP    ??USER_APP_COMMAND_24
    650                      }
    651                      else
    652                      {
    653                          I_Value_Bili_Temp =  I_Value_Now / 80000;//电流校准的比例值
   \                     ??USER_APP_COMMAND_23:
   \   000631   90....       MOV     DPTR,#I_Value_Now
   \   000634   78..         MOV     R0,#?V0 + 4
   \   000636   12....       LCALL   ?L_MOV_X
   \   000639   90....       MOV     DPTR,#__Constant_13880
   \   00063C   78..         MOV     R0,#?V0 + 8
   \   00063E   12....       LCALL   ?L_MOV_X
   \   000641   78..         MOV     R0,#?V0 + 4
   \   000643   79..         MOV     R1,#?V0 + 8
   \   000645   12....       LCALL   ?UL_DIV_MOD
   \   000648   78..         MOV     R0,#?V0 + 4
   \   00064A   12....       LCALL   ?UL_TO_FLT
   \   00064D   AA..         MOV     R2,?V0 + 4
   \   00064F   AB..         MOV     R3,?V0 + 5
   \   000651   AC..         MOV     R4,?V0 + 6
   \   000653   AD..         MOV     R5,?V0 + 7
   \   000655   90....       MOV     DPTR,#I_Value_Bili_Temp
   \   000658   E5..         MOV     A,?V0 + 4
   \   00065A   F0           MOVX    @DPTR,A
   \   00065B   A3           INC     DPTR
   \   00065C   E5..         MOV     A,?V0 + 5
   \   00065E   F0           MOVX    @DPTR,A
   \   00065F   A3           INC     DPTR
   \   000660   E5..         MOV     A,?V0 + 6
   \   000662   F0           MOVX    @DPTR,A
   \   000663   A3           INC     DPTR
   \   000664   E5..         MOV     A,?V0 + 7
   \   000666   F0           MOVX    @DPTR,A
    654                      }
    655                      
    656                      P_Value_Now -= P_Value_jiaozhun_Temp;
   \                     ??USER_APP_COMMAND_24:
   \   000667   90....       MOV     DPTR,#P_Value_jiaozhun_Temp
   \   00066A   E0           MOVX    A,@DPTR
   \   00066B   F5..         MOV     ?V0 + 4,A
   \   00066D   A3           INC     DPTR
   \   00066E   E0           MOVX    A,@DPTR
   \   00066F   F5..         MOV     ?V0 + 5,A
   \   000671   E4           CLR     A
   \   000672   F5..         MOV     ?V0 + 6,A
   \   000674   F5..         MOV     ?V0 + 7,A
   \   000676   90....       MOV     DPTR,#P_Value_Now
   \   000679   78..         MOV     R0,#?V0 + 4
   \   00067B   12....       LCALL   ?L_SUB_FROM_X
    657                      
    658                      if(P_Value_Now > 1760)
   \   00067E   90....       MOV     DPTR,#P_Value_Now
   \   000681   C082         PUSH    DPL
   \   000683   C083         PUSH    DPH
   \   000685   90....       MOV     DPTR,#__Constant_6e1
   \   000688   78..         MOV     R0,#?V0 + 4
   \   00068A   12....       LCALL   ?L_MOV_X
   \   00068D   D083         POP     DPH
   \   00068F   D082         POP     DPL
   \   000691   78..         MOV     R0,#?V0 + 4
   \   000693   12....       LCALL   ?UL_GT_X
   \   000696   403C         JC      ??USER_APP_COMMAND_25
    659                      {
    660                          P_Value_Bili_Temp = 1760.0 / (float)P_Value_Now;
   \   000698   75..00       MOV     ?V0 + 4,#0x0
   \   00069B   75..00       MOV     ?V0 + 5,#0x0
   \   00069E   75..DC       MOV     ?V0 + 6,#-0x24
   \   0006A1   75..44       MOV     ?V0 + 7,#0x44
   \   0006A4   90....       MOV     DPTR,#P_Value_Now
   \   0006A7   78..         MOV     R0,#?V0 + 8
   \   0006A9   12....       LCALL   ?L_MOV_X
   \   0006AC   78..         MOV     R0,#?V0 + 8
   \   0006AE   12....       LCALL   ?UL_TO_FLT
   \   0006B1   78..         MOV     R0,#?V0 + 4
   \   0006B3   79..         MOV     R1,#?V0 + 8
   \   0006B5   12....       LCALL   ?FLT_DIV
   \   0006B8   AA..         MOV     R2,?V0 + 4
   \   0006BA   AB..         MOV     R3,?V0 + 5
   \   0006BC   AC..         MOV     R4,?V0 + 6
   \   0006BE   AD..         MOV     R5,?V0 + 7
   \   0006C0   90....       MOV     DPTR,#P_Value_Bili_Temp
   \   0006C3   E5..         MOV     A,?V0 + 4
   \   0006C5   F0           MOVX    @DPTR,A
   \   0006C6   A3           INC     DPTR
   \   0006C7   E5..         MOV     A,?V0 + 5
   \   0006C9   F0           MOVX    @DPTR,A
   \   0006CA   A3           INC     DPTR
   \   0006CB   E5..         MOV     A,?V0 + 6
   \   0006CD   F0           MOVX    @DPTR,A
   \   0006CE   A3           INC     DPTR
   \   0006CF   E5..         MOV     A,?V0 + 7
   \   0006D1   F0           MOVX    @DPTR,A
   \   0006D2   8036         SJMP    ??USER_APP_COMMAND_26
    661                      }
    662                      else 
    663                      {
    664                          P_Value_Bili_Temp = (float)P_Value_Now / 1760.0 ;
   \                     ??USER_APP_COMMAND_25:
   \   0006D4   90....       MOV     DPTR,#P_Value_Now
   \   0006D7   78..         MOV     R0,#?V0 + 4
   \   0006D9   12....       LCALL   ?L_MOV_X
   \   0006DC   78..         MOV     R0,#?V0 + 4
   \   0006DE   12....       LCALL   ?UL_TO_FLT
   \   0006E1   90....       MOV     DPTR,#__Constant_44dc0000
   \   0006E4   78..         MOV     R0,#?V0 + 8
   \   0006E6   12....       LCALL   ?L_MOV_X
   \   0006E9   78..         MOV     R0,#?V0 + 4
   \   0006EB   79..         MOV     R1,#?V0 + 8
   \   0006ED   12....       LCALL   ?FLT_DIV
   \   0006F0   AA..         MOV     R2,?V0 + 4
   \   0006F2   AB..         MOV     R3,?V0 + 5
   \   0006F4   AC..         MOV     R4,?V0 + 6
   \   0006F6   AD..         MOV     R5,?V0 + 7
   \   0006F8   90....       MOV     DPTR,#P_Value_Bili_Temp
   \   0006FB   E5..         MOV     A,?V0 + 4
   \   0006FD   F0           MOVX    @DPTR,A
   \   0006FE   A3           INC     DPTR
   \   0006FF   E5..         MOV     A,?V0 + 5
   \   000701   F0           MOVX    @DPTR,A
   \   000702   A3           INC     DPTR
   \   000703   E5..         MOV     A,?V0 + 6
   \   000705   F0           MOVX    @DPTR,A
   \   000706   A3           INC     DPTR
   \   000707   E5..         MOV     A,?V0 + 7
   \   000709   F0           MOVX    @DPTR,A
    665                      }
    666                      
    667                      str[2]=2;
   \                     ??USER_APP_COMMAND_26:
   \   00070A   85..82       MOV     DPL,?V0 + 2
   \   00070D   85..83       MOV     DPH,?V0 + 3
   \   000710   A3           INC     DPTR
   \   000711   A3           INC     DPTR
   \   000712   7402         MOV     A,#0x2
   \   000714   F0           MOVX    @DPTR,A
   \   000715   02....       LJMP    ??USER_APP_COMMAND_21 & 0xFFFF
    668                  }
    669                  else if(user_app_data[1] == '3')//确认校准值
   \                     ??USER_APP_COMMAND_22:
   \   000718   85..82       MOV     DPL,?V0 + 0
   \   00071B   85..83       MOV     DPH,?V0 + 1
   \   00071E   A3           INC     DPTR
   \   00071F   E0           MOVX    A,@DPTR
   \   000720   6433         XRL     A,#0x33
   \   000722   6003         JZ      $+5
   \   000724   02....       LJMP    ??USER_APP_COMMAND_27 & 0xFFFF
    670                  {
    671                      
    672                      CS5463_STR[0] = 11;//已经校准的标志
   \   000727   90....       MOV     DPTR,#CS5463_STR
   \   00072A   740B         MOV     A,#0xb
   \   00072C   F0           MOVX    @DPTR,A
    673                      P_Value_Bili = (uint16)(P_Value_Bili_Temp * 1000);//保存校准值
   \   00072D   90....       MOV     DPTR,#P_Value_Bili_Temp
   \   000730   78..         MOV     R0,#?V0 + 8
   \   000732   12....       LCALL   ?L_MOV_X
   \   000735   90....       MOV     DPTR,#__Constant_447a0000
   \   000738   78..         MOV     R0,#?V0 + 4
   \   00073A   12....       LCALL   ?L_MOV_X
   \   00073D   78..         MOV     R0,#?V0 + 8
   \   00073F   79..         MOV     R1,#?V0 + 4
   \   000741   12....       LCALL   ?FLT_MUL
   \   000744   78..         MOV     R0,#?V0 + 8
   \   000746   12....       LCALL   ?FLT_TO_L
   \   000749   90....       MOV     DPTR,#P_Value_Bili
   \   00074C   E5..         MOV     A,?V0 + 8
   \   00074E   F0           MOVX    @DPTR,A
   \   00074F   A3           INC     DPTR
   \   000750   E5..         MOV     A,?V0 + 9
   \   000752   F0           MOVX    @DPTR,A
    674                      CS5463_STR[3] = P_Value_Bili >> 8;
   \   000753   90....       MOV     DPTR,#P_Value_Bili
   \   000756   E0           MOVX    A,@DPTR
   \   000757   F8           MOV     R0,A
   \   000758   A3           INC     DPTR
   \   000759   E0           MOVX    A,@DPTR
   \   00075A   F9           MOV     R1,A
   \   00075B   E4           CLR     A
   \   00075C   E9           MOV     A,R1
   \   00075D   F8           MOV     R0,A
   \   00075E   90....       MOV     DPTR,#CS5463_STR + 3
   \   000761   F0           MOVX    @DPTR,A
    675                      CS5463_STR[4] = P_Value_Bili ;
   \   000762   90....       MOV     DPTR,#P_Value_Bili
   \   000765   E0           MOVX    A,@DPTR
   \   000766   F8           MOV     R0,A
   \   000767   A3           INC     DPTR
   \   000768   E0           MOVX    A,@DPTR
   \   000769   F9           MOV     R1,A
   \   00076A   E8           MOV     A,R0
   \   00076B   90....       MOV     DPTR,#CS5463_STR + 4
   \   00076E   F0           MOVX    @DPTR,A
    676                      
    677                      CS5463_STR[1] = P_Value_jiaozhun_Temp>>8;
   \   00076F   90....       MOV     DPTR,#P_Value_jiaozhun_Temp
   \   000772   E0           MOVX    A,@DPTR
   \   000773   F8           MOV     R0,A
   \   000774   A3           INC     DPTR
   \   000775   E0           MOVX    A,@DPTR
   \   000776   F9           MOV     R1,A
   \   000777   E4           CLR     A
   \   000778   E9           MOV     A,R1
   \   000779   F8           MOV     R0,A
   \   00077A   90....       MOV     DPTR,#CS5463_STR + 1
   \   00077D   F0           MOVX    @DPTR,A
    678                      CS5463_STR[2] = P_Value_jiaozhun_Temp;
   \   00077E   90....       MOV     DPTR,#P_Value_jiaozhun_Temp
   \   000781   E0           MOVX    A,@DPTR
   \   000782   F8           MOV     R0,A
   \   000783   A3           INC     DPTR
   \   000784   E0           MOVX    A,@DPTR
   \   000785   F9           MOV     R1,A
   \   000786   E8           MOV     A,R0
   \   000787   90....       MOV     DPTR,#CS5463_STR + 2
   \   00078A   F0           MOVX    @DPTR,A
    679                      
    680                      CS5463_STR[5] = I_Value_jiaozhun_Temp>>8;
   \   00078B   90....       MOV     DPTR,#I_Value_jiaozhun_Temp
   \   00078E   E0           MOVX    A,@DPTR
   \   00078F   F8           MOV     R0,A
   \   000790   A3           INC     DPTR
   \   000791   E0           MOVX    A,@DPTR
   \   000792   F9           MOV     R1,A
   \   000793   E4           CLR     A
   \   000794   E9           MOV     A,R1
   \   000795   F8           MOV     R0,A
   \   000796   90....       MOV     DPTR,#CS5463_STR + 5
   \   000799   F0           MOVX    @DPTR,A
    681                      CS5463_STR[6] = I_Value_jiaozhun_Temp;	
   \   00079A   90....       MOV     DPTR,#I_Value_jiaozhun_Temp
   \   00079D   E0           MOVX    A,@DPTR
   \   00079E   F8           MOV     R0,A
   \   00079F   A3           INC     DPTR
   \   0007A0   E0           MOVX    A,@DPTR
   \   0007A1   F9           MOV     R1,A
   \   0007A2   E8           MOV     A,R0
   \   0007A3   90....       MOV     DPTR,#CS5463_STR + 6
   \   0007A6   F0           MOVX    @DPTR,A
    682                      
    683                      I_Value_Bili = (uint16)(I_Value_Bili_Temp * 1000);
   \   0007A7   90....       MOV     DPTR,#I_Value_Bili_Temp
   \   0007AA   78..         MOV     R0,#?V0 + 8
   \   0007AC   12....       LCALL   ?L_MOV_X
   \   0007AF   90....       MOV     DPTR,#__Constant_447a0000
   \   0007B2   78..         MOV     R0,#?V0 + 4
   \   0007B4   12....       LCALL   ?L_MOV_X
   \   0007B7   78..         MOV     R0,#?V0 + 8
   \   0007B9   79..         MOV     R1,#?V0 + 4
   \   0007BB   12....       LCALL   ?FLT_MUL
   \   0007BE   78..         MOV     R0,#?V0 + 8
   \   0007C0   12....       LCALL   ?FLT_TO_L
   \   0007C3   90....       MOV     DPTR,#I_Value_Bili
   \   0007C6   E5..         MOV     A,?V0 + 8
   \   0007C8   F0           MOVX    @DPTR,A
   \   0007C9   A3           INC     DPTR
   \   0007CA   E5..         MOV     A,?V0 + 9
   \   0007CC   F0           MOVX    @DPTR,A
    684                      CS5463_STR[7] = I_Value_Bili >> 8;
   \   0007CD   90....       MOV     DPTR,#I_Value_Bili
   \   0007D0   E0           MOVX    A,@DPTR
   \   0007D1   F8           MOV     R0,A
   \   0007D2   A3           INC     DPTR
   \   0007D3   E0           MOVX    A,@DPTR
   \   0007D4   F9           MOV     R1,A
   \   0007D5   E4           CLR     A
   \   0007D6   E9           MOV     A,R1
   \   0007D7   F8           MOV     R0,A
   \   0007D8   90....       MOV     DPTR,#CS5463_STR + 7
   \   0007DB   F0           MOVX    @DPTR,A
    685                      CS5463_STR[8] = I_Value_Bili ;	
   \   0007DC   90....       MOV     DPTR,#I_Value_Bili
   \   0007DF   E0           MOVX    A,@DPTR
   \   0007E0   F8           MOV     R0,A
   \   0007E1   A3           INC     DPTR
   \   0007E2   E0           MOVX    A,@DPTR
   \   0007E3   F9           MOV     R1,A
   \   0007E4   E8           MOV     A,R0
   \   0007E5   90....       MOV     DPTR,#CS5463_STR + 8
   \   0007E8   F0           MOVX    @DPTR,A
    686                      
    687                      osal_nv_item_init(CS5463_JIAOZHUN_NV_FLAG, 10, CS5463_STR);  //b保存到FLASH
   \   0007E9                ; Setup parameters for call to function osal_nv_item_init
   \   0007E9   75....       MOV     ?V0 + 4,#CS5463_STR & 0xff
   \   0007EC   75....       MOV     ?V0 + 5,#(CS5463_STR >> 8) & 0xff
   \   0007EF   78..         MOV     R0,#?V0 + 4
   \   0007F1   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0007F4   7C0A         MOV     R4,#0xa
   \   0007F6   7D00         MOV     R5,#0x0
   \   0007F8   7A20         MOV     R2,#0x20
   \   0007FA   7B04         MOV     R3,#0x4
   \   0007FC   12....       LCALL   ??osal_nv_item_init?relay
   \   0007FF   7402         MOV     A,#0x2
   \   000801   12....       LCALL   ?DEALLOC_XSTACK8
   \   000804   E9           MOV     A,R1
    688                      osal_nv_write(CS5463_JIAOZHUN_NV_FLAG, 0, 10, CS5463_STR);					
   \   000805                ; Setup parameters for call to function osal_nv_write
   \   000805   75....       MOV     ?V0 + 4,#CS5463_STR & 0xff
   \   000808   75....       MOV     ?V0 + 5,#(CS5463_STR >> 8) & 0xff
   \   00080B   78..         MOV     R0,#?V0 + 4
   \   00080D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000810   75..0A       MOV     ?V0 + 4,#0xa
   \   000813   75..00       MOV     ?V0 + 5,#0x0
   \   000816   78..         MOV     R0,#?V0 + 4
   \   000818   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00081B   7C00         MOV     R4,#0x0
   \   00081D   7D00         MOV     R5,#0x0
   \   00081F   7A20         MOV     R2,#0x20
   \   000821   7B04         MOV     R3,#0x4
   \   000823   12....       LCALL   ??osal_nv_write?relay
   \   000826   7404         MOV     A,#0x4
   \   000828   12....       LCALL   ?DEALLOC_XSTACK8
   \   00082B   E9           MOV     A,R1
    689                      
    690                      str[2]=3;
   \   00082C   85..82       MOV     DPL,?V0 + 2
   \   00082F   85..83       MOV     DPH,?V0 + 3
   \   000832   A3           INC     DPTR
   \   000833   A3           INC     DPTR
   \   000834   7403         MOV     A,#0x3
   \   000836   F0           MOVX    @DPTR,A
   \   000837   02....       LJMP    ??USER_APP_COMMAND_21 & 0xFFFF
    691                      
    692                      
    693                  }
    694                  else if(user_app_data[1] == '0')
   \                     ??USER_APP_COMMAND_27:
   \   00083A   85..82       MOV     DPL,?V0 + 0
   \   00083D   85..83       MOV     DPH,?V0 + 1
   \   000840   A3           INC     DPTR
   \   000841   E0           MOVX    A,@DPTR
   \   000842   6430         XRL     A,#0x30
   \   000844   6003         JZ      $+5
   \   000846   02....       LJMP    ??USER_APP_COMMAND_21 & 0xFFFF
    695                  {
    696                      P_Value_Bili_Temp = 1.0;
   \   000849   90....       MOV     DPTR,#__Constant_3f800000
   \   00084C   12....       LCALL   ?XLOAD_R2345
   \   00084F   90....       MOV     DPTR,#P_Value_Bili_Temp
   \   000852   12....       LCALL   ?XSTORE_R2345
    697                      P_Value_jiaozhun_Temp = 0;
   \   000855   90....       MOV     DPTR,#P_Value_jiaozhun_Temp
   \   000858   7400         MOV     A,#0x0
   \   00085A   F0           MOVX    @DPTR,A
   \   00085B   A3           INC     DPTR
   \   00085C   7400         MOV     A,#0x0
   \   00085E   F0           MOVX    @DPTR,A
    698                      I_Value_jiaozhun_Temp = 0;
   \   00085F   90....       MOV     DPTR,#I_Value_jiaozhun_Temp
   \   000862   7400         MOV     A,#0x0
   \   000864   F0           MOVX    @DPTR,A
   \   000865   A3           INC     DPTR
   \   000866   7400         MOV     A,#0x0
   \   000868   F0           MOVX    @DPTR,A
    699                      I_Value_Bili_Temp = 1.0;
   \   000869   90....       MOV     DPTR,#__Constant_3f800000
   \   00086C   12....       LCALL   ?XLOAD_R2345
   \   00086F   90....       MOV     DPTR,#I_Value_Bili_Temp
   \   000872   12....       LCALL   ?XSTORE_R2345
    700                      
    701                      CS5463_STR[0] = 0;
   \   000875   90....       MOV     DPTR,#CS5463_STR
   \   000878   7400         MOV     A,#0x0
   \   00087A   F0           MOVX    @DPTR,A
    702                      CS5463_STR[1] = 0;	
   \   00087B   90....       MOV     DPTR,#CS5463_STR + 1
   \   00087E   7400         MOV     A,#0x0
   \   000880   F0           MOVX    @DPTR,A
    703                      CS5463_STR[2] = 0;
   \   000881   90....       MOV     DPTR,#CS5463_STR + 2
   \   000884   7400         MOV     A,#0x0
   \   000886   F0           MOVX    @DPTR,A
    704                      CS5463_STR[3] = 0;	
   \   000887   90....       MOV     DPTR,#CS5463_STR + 3
   \   00088A   7400         MOV     A,#0x0
   \   00088C   F0           MOVX    @DPTR,A
    705                      CS5463_STR[4] = 0;
   \   00088D   90....       MOV     DPTR,#CS5463_STR + 4
   \   000890   7400         MOV     A,#0x0
   \   000892   F0           MOVX    @DPTR,A
    706                      CS5463_STR[5] = 0;	
   \   000893   90....       MOV     DPTR,#CS5463_STR + 5
   \   000896   7400         MOV     A,#0x0
   \   000898   F0           MOVX    @DPTR,A
    707                      CS5463_STR[6] = 0;
   \   000899   90....       MOV     DPTR,#CS5463_STR + 6
   \   00089C   7400         MOV     A,#0x0
   \   00089E   F0           MOVX    @DPTR,A
    708                      CS5463_STR[7] = 0;
   \   00089F   90....       MOV     DPTR,#CS5463_STR + 7
   \   0008A2   7400         MOV     A,#0x0
   \   0008A4   F0           MOVX    @DPTR,A
    709                      CS5463_STR[8] = 0;
   \   0008A5   90....       MOV     DPTR,#CS5463_STR + 8
   \   0008A8   7400         MOV     A,#0x0
   \   0008AA   F0           MOVX    @DPTR,A
    710                      CS5463_STR[9] = 0;			
   \   0008AB   90....       MOV     DPTR,#CS5463_STR + 9
   \   0008AE   7400         MOV     A,#0x0
   \   0008B0   F0           MOVX    @DPTR,A
    711                      osal_nv_item_init(CS5463_JIAOZHUN_NV_FLAG, 10, CS5463_STR);  
   \   0008B1                ; Setup parameters for call to function osal_nv_item_init
   \   0008B1   75....       MOV     ?V0 + 4,#CS5463_STR & 0xff
   \   0008B4   75....       MOV     ?V0 + 5,#(CS5463_STR >> 8) & 0xff
   \   0008B7   78..         MOV     R0,#?V0 + 4
   \   0008B9   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0008BC   7C0A         MOV     R4,#0xa
   \   0008BE   7D00         MOV     R5,#0x0
   \   0008C0   7A20         MOV     R2,#0x20
   \   0008C2   7B04         MOV     R3,#0x4
   \   0008C4   12....       LCALL   ??osal_nv_item_init?relay
   \   0008C7   7402         MOV     A,#0x2
   \   0008C9   12....       LCALL   ?DEALLOC_XSTACK8
   \   0008CC   E9           MOV     A,R1
    712                      osal_nv_write(CS5463_JIAOZHUN_NV_FLAG, 0, 10, CS5463_STR);				
   \   0008CD                ; Setup parameters for call to function osal_nv_write
   \   0008CD   75....       MOV     ?V0 + 4,#CS5463_STR & 0xff
   \   0008D0   75....       MOV     ?V0 + 5,#(CS5463_STR >> 8) & 0xff
   \   0008D3   78..         MOV     R0,#?V0 + 4
   \   0008D5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0008D8   75..0A       MOV     ?V0 + 4,#0xa
   \   0008DB   75..00       MOV     ?V0 + 5,#0x0
   \   0008DE   78..         MOV     R0,#?V0 + 4
   \   0008E0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0008E3   7C00         MOV     R4,#0x0
   \   0008E5   7D00         MOV     R5,#0x0
   \   0008E7   7A20         MOV     R2,#0x20
   \   0008E9   7B04         MOV     R3,#0x4
   \   0008EB   12....       LCALL   ??osal_nv_write?relay
   \   0008EE   7404         MOV     A,#0x4
   \   0008F0   12....       LCALL   ?DEALLOC_XSTACK8
   \   0008F3   E9           MOV     A,R1
    713                      
    714                      str[2]=4;		
   \   0008F4   85..82       MOV     DPL,?V0 + 2
   \   0008F7   85..83       MOV     DPH,?V0 + 3
   \   0008FA   A3           INC     DPTR
   \   0008FB   A3           INC     DPTR
   \   0008FC   7404         MOV     A,#0x4
   \   0008FE   F0           MOVX    @DPTR,A
    715                  }
    716                  
    717          	str[1]=9;
   \                     ??USER_APP_COMMAND_21:
   \   0008FF   85..82       MOV     DPL,?V0 + 2
   \   000902   85..83       MOV     DPH,?V0 + 3
   \   000905   A3           INC     DPTR
   \   000906   7409         MOV     A,#0x9
   \   000908   F0           MOVX    @DPTR,A
    718                  active_len=12;
   \   000909   7E0C         MOV     R6,#0xc
    719                  return active_len;;
   \   00090B   EE           MOV     A,R6
   \   00090C   F9           MOV     R1,A
    720              }     
    721          }
                 ^
Warning[Pe940]: missing return statement at end of non-void function
          "USER_APP_COMMAND"
   \                     ??USER_APP_COMMAND_2:
   \   00090D   7F0C         MOV     R7,#0xc
   \   00090F   02....       LJMP    ?BANKED_LEAVE_XDATA
   \   000912                REQUIRE _A_P1
   \   000912                REQUIRE _A_P0
    722          
    723          /*******************************************************************************
    724          * 函数名称: USER_SET_RS_MSG
    725          * 函数功能: 用户自行设置RS数据
    726          * 入口参数: 无
    727          * 出口参数: 无
    728          * 备注说明: 入网后向协调器发送的自身信息数据，入网后5S会自动发送
    729          ******************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    730          void USER_SET_RS_MSG(void)//
   \                     USER_SET_RS_MSG:
    731          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    732              
    733              DEVICE_ID=77;
   \   000004   90....       MOV     DPTR,#DEVICE_ID
   \   000007   744D         MOV     A,#0x4d
   \   000009   F0           MOVX    @DPTR,A
    734              DEFINED_CONTROL_CHAR='E';
   \   00000A   90....       MOV     DPTR,#DEFINED_CONTROL_CHAR
   \   00000D   7445         MOV     A,#0x45
   \   00000F   F0           MOVX    @DPTR,A
    735              JOIN_ROLE=Send_Router;
   \   000010   90....       MOV     DPTR,#JOIN_ROLE
   \   000013   7400         MOV     A,#0x0
   \   000015   F0           MOVX    @DPTR,A
    736              RS_LEN = 1;
   \   000016   90....       MOV     DPTR,#RS_LEN
   \   000019   7401         MOV     A,#0x1
   \   00001B   F0           MOVX    @DPTR,A
    737              RS_STR[0]=IO_CTLA_SBIT;
   \   00001C   A295         MOV     C,0x90.5
   \   00001E   E4           CLR     A
   \   00001F   33           RLC     A
   \   000020   90....       MOV     DPTR,#RS_STR
   \   000023   F0           MOVX    @DPTR,A
    738          }
   \   000024   D083         POP     DPH
   \   000026   D082         POP     DPL
   \   000028   02....       LJMP    ?BRET
   \   00002B                REQUIRE _A_P1
    739          
    740          /*******************************************************************************
    741          * 函数名称: SampleApp_SendInMessage
    742          * 函数功能: 用户自行规划主动上报数据的格式。
    743          * 入口参数: 无
    744          * 出口参数: 无
    745          * 备注说明: 无
    746          ******************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    747          void SampleApp_SendInMessage()
   \                     SampleApp_SendInMessage:
    748          {
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 0
    749              uint8 *send_str;
    750              uint8 send_count=0;
   \   000005   75..00       MOV     ?V0 + 4,#0x0
    751              send_count = 10+8;
   \   000008   75..12       MOV     ?V0 + 4,#0x12
    752              send_str = osal_mem_alloc(send_count);//申请数据缓存区
   \   00000B                ; Setup parameters for call to function osal_mem_alloc
   \   00000B   85....       MOV     ?V0 + 0,?V0 + 4
   \   00000E   75..00       MOV     ?V0 + 1,#0x0
   \   000011   AA..         MOV     R2,?V0 + 0
   \   000013   AB..         MOV     R3,?V0 + 1
   \   000015   12....       LCALL   ??osal_mem_alloc?relay
   \   000018   8A..         MOV     ?V0 + 0,R2
   \   00001A   8B..         MOV     ?V0 + 1,R3
   \   00001C   AE..         MOV     R6,?V0 + 0
   \   00001E   AF..         MOV     R7,?V0 + 1
    753              
    754              USER_SEND_ADD_STR(send_str);  //\添加固定帧头
   \   000020                ; Setup parameters for call to function USER_SEND_ADD_STR
   \   000020   EE           MOV     A,R6
   \   000021   FA           MOV     R2,A
   \   000022   EF           MOV     A,R7
   \   000023   FB           MOV     R3,A
   \   000024   12....       LCALL   ??USER_SEND_ADD_STR?relay
    755              
    756              send_str[9]='/';
   \   000027   8E82         MOV     DPL,R6
   \   000029   8F83         MOV     DPH,R7
   \   00002B   A3           INC     DPTR
   \   00002C   A3           INC     DPTR
   \   00002D   A3           INC     DPTR
   \   00002E   A3           INC     DPTR
   \   00002F   A3           INC     DPTR
   \   000030   A3           INC     DPTR
   \   000031   A3           INC     DPTR
   \   000032   A3           INC     DPTR
   \   000033   A3           INC     DPTR
   \   000034   742F         MOV     A,#0x2f
   \   000036   F0           MOVX    @DPTR,A
    757              send_str[10]=9;
   \   000037   8E82         MOV     DPL,R6
   \   000039   8F83         MOV     DPH,R7
   \   00003B   A3           INC     DPTR
   \   00003C   A3           INC     DPTR
   \   00003D   A3           INC     DPTR
   \   00003E   A3           INC     DPTR
   \   00003F   A3           INC     DPTR
   \   000040   A3           INC     DPTR
   \   000041   A3           INC     DPTR
   \   000042   A3           INC     DPTR
   \   000043   A3           INC     DPTR
   \   000044   A3           INC     DPTR
   \   000045   7409         MOV     A,#0x9
   \   000047   F0           MOVX    @DPTR,A
    758              send_str[11]=IO_CTLA_SBIT;//插座1的通断状态
   \   000048   A295         MOV     C,0x90.5
   \   00004A   E4           CLR     A
   \   00004B   33           RLC     A
   \   00004C   C0E0         PUSH    A
   \   00004E   EE           MOV     A,R6
   \   00004F   240B         ADD     A,#0xb
   \   000051   F582         MOV     DPL,A
   \   000053   EF           MOV     A,R7
   \   000054   3400         ADDC    A,#0x0
   \   000056   F583         MOV     DPH,A
   \   000058   D0E0         POP     A
   \   00005A   F0           MOVX    @DPTR,A
    759              send_str[12]=IO_CTLB_SBIT;//插座2的通断状态
   \   00005B   A296         MOV     C,0x90.6
   \   00005D   E4           CLR     A
   \   00005E   33           RLC     A
   \   00005F   C0E0         PUSH    A
   \   000061   EE           MOV     A,R6
   \   000062   240C         ADD     A,#0xc
   \   000064   F582         MOV     DPL,A
   \   000066   EF           MOV     A,R7
   \   000067   3400         ADDC    A,#0x0
   \   000069   F583         MOV     DPH,A
   \   00006B   D0E0         POP     A
   \   00006D   F0           MOVX    @DPTR,A
    760              send_str[13]=P_Value_Now/256;//当前的功率值
   \   00006E   90....       MOV     DPTR,#P_Value_Now
   \   000071   78..         MOV     R0,#?V0 + 0
   \   000073   12....       LCALL   ?L_MOV_X
   \   000076   E4           CLR     A
   \   000077   E5..         MOV     A,?V0 + 1
   \   000079   F5..         MOV     ?V0 + 0,A
   \   00007B   E5..         MOV     A,?V0 + 0
   \   00007D   EE           MOV     A,R6
   \   00007E   240D         ADD     A,#0xd
   \   000080   F582         MOV     DPL,A
   \   000082   EF           MOV     A,R7
   \   000083   3400         ADDC    A,#0x0
   \   000085   F583         MOV     DPH,A
   \   000087   E5..         MOV     A,?V0 + 0
   \   000089   F0           MOVX    @DPTR,A
    761              send_str[14]=P_Value_Now%256;  
   \   00008A   90....       MOV     DPTR,#P_Value_Now
   \   00008D   78..         MOV     R0,#?V0 + 8
   \   00008F   12....       LCALL   ?L_MOV_X
   \   000092   90....       MOV     DPTR,#__Constant_100
   \   000095   78..         MOV     R0,#?V0 + 0
   \   000097   12....       LCALL   ?L_MOV_X
   \   00009A   78..         MOV     R0,#?V0 + 8
   \   00009C   79..         MOV     R1,#?V0 + 0
   \   00009E   12....       LCALL   ?UL_DIV_MOD
   \   0000A1   E5..         MOV     A,?V0 + 0
   \   0000A3   EE           MOV     A,R6
   \   0000A4   240E         ADD     A,#0xe
   \   0000A6   F582         MOV     DPL,A
   \   0000A8   EF           MOV     A,R7
   \   0000A9   3400         ADDC    A,#0x0
   \   0000AB   F583         MOV     DPH,A
   \   0000AD   E5..         MOV     A,?V0 + 0
   \   0000AF   F0           MOVX    @DPTR,A
    762              send_str[15]=(uint8)P_Value_energy>>16;
                                                         ^
Warning[Pe063]: shift count is too large
   \   0000B0   EE           MOV     A,R6
   \   0000B1   240F         ADD     A,#0xf
   \   0000B3   F582         MOV     DPL,A
   \   0000B5   EF           MOV     A,R7
   \   0000B6   3400         ADDC    A,#0x0
   \   0000B8   F583         MOV     DPH,A
   \   0000BA   7400         MOV     A,#0x0
   \   0000BC   F0           MOVX    @DPTR,A
    763              send_str[16]=(uint8)P_Value_energy>>8;
   \   0000BD   EE           MOV     A,R6
   \   0000BE   2410         ADD     A,#0x10
   \   0000C0   F582         MOV     DPL,A
   \   0000C2   EF           MOV     A,R7
   \   0000C3   3400         ADDC    A,#0x0
   \   0000C5   F583         MOV     DPH,A
   \   0000C7   7400         MOV     A,#0x0
   \   0000C9   F0           MOVX    @DPTR,A
    764              send_str[17]=(uint8)P_Value_energy;
   \   0000CA   90....       MOV     DPTR,#P_Value_energy
   \   0000CD   78..         MOV     R0,#?V0 + 0
   \   0000CF   12....       LCALL   ?L_MOV_X
   \   0000D2   E5..         MOV     A,?V0 + 0
   \   0000D4   EE           MOV     A,R6
   \   0000D5   2411         ADD     A,#0x11
   \   0000D7   F582         MOV     DPL,A
   \   0000D9   EF           MOV     A,R7
   \   0000DA   3400         ADDC    A,#0x0
   \   0000DC   F583         MOV     DPH,A
   \   0000DE   E5..         MOV     A,?V0 + 0
   \   0000E0   F0           MOVX    @DPTR,A
    765              
    766              
    767              USER_APP_SEND_IN(send_count,send_str);//发送出数据
   \   0000E1                ; Setup parameters for call to function USER_APP_SEND_IN
   \   0000E1   EE           MOV     A,R6
   \   0000E2   FA           MOV     R2,A
   \   0000E3   EF           MOV     A,R7
   \   0000E4   FB           MOV     R3,A
   \   0000E5   A9..         MOV     R1,?V0 + 4
   \   0000E7   12....       LCALL   ??USER_APP_SEND_IN?relay
    768              
    769              osal_mem_free( send_str );//释放数据缓存区
   \   0000EA                ; Setup parameters for call to function osal_mem_free
   \   0000EA   EE           MOV     A,R6
   \   0000EB   FA           MOV     R2,A
   \   0000EC   EF           MOV     A,R7
   \   0000ED   FB           MOV     R3,A
   \   0000EE   12....       LCALL   ??osal_mem_free?relay
    770          }
   \   0000F1   7F0C         MOV     R7,#0xc
   \   0000F3   02....       LJMP    ?BANKED_LEAVE_XDATA
   \   0000F6                REQUIRE _A_P1
    771          
    772          /*******************************************************************************
    773          * 函数名称: User_APP_Drive_init
    774          * 函数功能: USER自行添加应用初始化的代码，如初始化外设等
    775          * 入口参数: 无
    776          * 出口参数: 无
    777          * 备注说明: 无
    778          ******************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    779          void User_APP_Drive_init(void)
   \                     User_APP_Drive_init:
    780          {   
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    781              HAL_IO_CONFIG_INIT();
   \   000004   43FD10       ORL     0xfd,#0x10
   \   000007   D284         SETB    0x80.4
   \   000009   43FD02       ORL     0xfd,#0x2
   \   00000C   D281         SETB    0x80.1
   \   00000E   43FE80       ORL     0xfe,#0x80
   \   000011   D297         SETB    0x90.7
   \   000013   43FE20       ORL     0xfe,#0x20
   \   000016   C295         CLR     0x90.5
    782              InitCS5463();//初始化CS5463
   \   000018                ; Setup parameters for call to function InitCS5463
   \   000018   12....       LCALL   ??InitCS5463?relay
    783              ConfigCS5463();//配置CS5463
   \   00001B                ; Setup parameters for call to function ConfigCS5463
   \   00001B   12....       LCALL   ??ConfigCS5463?relay
    784              P_JiaoZhun_Process();
   \   00001E                ; Setup parameters for call to function P_JiaoZhun_Process
   \   00001E   12....       LCALL   ??P_JiaoZhun_Process?relay
    785              P1DIR |= 0Xc0;//P1.7 ---led3
   \   000021   43FEC0       ORL     0xfe,#0xc0
    786              
    787              //确保继电器和LED均处于关闭状态；
    788              P1_6 = 1;
   \   000024   D296         SETB    0x90.6
    789              P1_7 = 1;
   \   000026   D297         SETB    0x90.7
    790              P1_5 = 1;
   \   000028   D295         SETB    0x90.5
    791              P0_1 = 1;
   \   00002A   D281         SETB    0x80.1
    792          }
   \   00002C   D083         POP     DPH
   \   00002E   D082         POP     DPL
   \   000030   02....       LJMP    ?BRET
   \   000033                REQUIRE P0DIR
   \   000033                REQUIRE _A_P0
   \   000033                REQUIRE P1DIR
   \   000033                REQUIRE _A_P1
    793          
    794          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    795          uint8 READ_NETKEY() //读取入网状态按键的状态传递到应用层
   \                     READ_NETKEY:
    796          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
    797              return HAL_PUSH_BUTTON3();
   \   000000   A292         MOV     C,0x90.2
   \   000002   E4           CLR     A
   \   000003   33           RLC     A
   \   000004   F9           MOV     R1,A
   \   000005   02....       LJMP    ?BRET
   \   000008                REQUIRE _A_P1
    798          }
    799          
    800          
    801          
    802          /*
    803          mode 0 关
    804          1 开
    805          2 切换
    806          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    807          void LED_CHANGE(uint8 Position,uint8 Mode)// 设置LED函数
   \                     LED_CHANGE:
    808          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
    809              switch (Position )
   \   000000   E9           MOV     A,R1
   \   000001   14           DEC     A
   \   000002   6009         JZ      ??LED_CHANGE_0
   \   000004   14           DEC     A
   \   000005   602F         JZ      ??LED_CHANGE_1
   \   000007   24FE         ADD     A,#-0x2
   \   000009   6054         JZ      ??LED_CHANGE_2
   \   00000B   8079         SJMP    ??LED_CHANGE_3
    810              {
    811                  case HAL_LED_1:      
    812                  {
    813                      if(Mode==0 || Mode==1)
   \                     ??LED_CHANGE_0:
   \   00000D   EA           MOV     A,R2
   \   00000E   6005         JZ      ??LED_CHANGE_4
   \   000010   7401         MOV     A,#0x1
   \   000012   6A           XRL     A,R2
   \   000013   7010         JNZ     ??LED_CHANGE_5
    814                      {
    815                          LED1_SBIT = LED1_POLARITY(Mode);
   \                     ??LED_CHANGE_4:
   \   000015   EA           MOV     A,R2
   \   000016   7004         JNZ     ??LED_CHANGE_6
   \   000018   7801         MOV     R0,#0x1
   \   00001A   8002         SJMP    ??LED_CHANGE_7
   \                     ??LED_CHANGE_6:
   \   00001C   7800         MOV     R0,#0x0
   \                     ??LED_CHANGE_7:
   \   00001E   E8           MOV     A,R0
   \   00001F   A2E0         MOV     C,0xE0 /* A   */.0
   \   000021   9284         MOV     0x80.4,C
   \   000023   8061         SJMP    ??LED_CHANGE_3
    816                      }
    817                      else if(Mode==2)
   \                     ??LED_CHANGE_5:
   \   000025   7402         MOV     A,#0x2
   \   000027   6A           XRL     A,R2
   \   000028   705C         JNZ     ??LED_CHANGE_3
    818                      {
    819                          if (LED1_SBIT) 
   \   00002A   A284         MOV     C,0x80.4
   \   00002C   5004         JNC     ??LED_CHANGE_8
    820                          { 
    821                              LED1_SBIT = 0; 
   \   00002E   C284         CLR     0x80.4
   \   000030   8054         SJMP    ??LED_CHANGE_3
    822                          } 
    823                          else 
    824                          { 
    825                              LED1_SBIT = 1;
   \                     ??LED_CHANGE_8:
   \   000032   D284         SETB    0x80.4
    826                          } 
    827                      }
    828                  }   
    829                  break;     
   \   000034   8050         SJMP    ??LED_CHANGE_3
    830                  
    831                  case HAL_LED_2:      
    832                  {
    833                      if(Mode==0||Mode==1)
   \                     ??LED_CHANGE_1:
   \   000036   EA           MOV     A,R2
   \   000037   6005         JZ      ??LED_CHANGE_9
   \   000039   7401         MOV     A,#0x1
   \   00003B   6A           XRL     A,R2
   \   00003C   7010         JNZ     ??LED_CHANGE_10
    834                      {
    835                          LED2_SBIT = LED2_POLARITY(Mode);
   \                     ??LED_CHANGE_9:
   \   00003E   EA           MOV     A,R2
   \   00003F   7004         JNZ     ??LED_CHANGE_11
   \   000041   7801         MOV     R0,#0x1
   \   000043   8002         SJMP    ??LED_CHANGE_12
   \                     ??LED_CHANGE_11:
   \   000045   7800         MOV     R0,#0x0
   \                     ??LED_CHANGE_12:
   \   000047   E8           MOV     A,R0
   \   000048   A2E0         MOV     C,0xE0 /* A   */.0
   \   00004A   9281         MOV     0x80.1,C
   \   00004C   8038         SJMP    ??LED_CHANGE_3
    836                      }
    837                      else if(Mode==2)
   \                     ??LED_CHANGE_10:
   \   00004E   7402         MOV     A,#0x2
   \   000050   6A           XRL     A,R2
   \   000051   7033         JNZ     ??LED_CHANGE_3
    838                      {
    839                          if (LED1_SBIT) 
   \   000053   A284         MOV     C,0x80.4
   \   000055   5004         JNC     ??LED_CHANGE_13
    840                          { 
    841                              LED2_SBIT = 0; 
   \   000057   C281         CLR     0x80.1
   \   000059   802B         SJMP    ??LED_CHANGE_3
    842                          } 
    843                          else 
    844                          { 
    845                              LED2_SBIT = 1;
   \                     ??LED_CHANGE_13:
   \   00005B   D281         SETB    0x80.1
    846                          } 
    847                      }
    848                  }   
    849                  break;     
   \   00005D   8027         SJMP    ??LED_CHANGE_3
    850                  
    851                  case HAL_LED_3:      
    852                  {
    853                      if(Mode==0 || Mode==1)
   \                     ??LED_CHANGE_2:
   \   00005F   EA           MOV     A,R2
   \   000060   6005         JZ      ??LED_CHANGE_14
   \   000062   7401         MOV     A,#0x1
   \   000064   6A           XRL     A,R2
   \   000065   7010         JNZ     ??LED_CHANGE_15
    854                      {
    855                          LED3_SBIT = LED3_POLARITY(Mode);
   \                     ??LED_CHANGE_14:
   \   000067   EA           MOV     A,R2
   \   000068   7004         JNZ     ??LED_CHANGE_16
   \   00006A   7801         MOV     R0,#0x1
   \   00006C   8002         SJMP    ??LED_CHANGE_17
   \                     ??LED_CHANGE_16:
   \   00006E   7800         MOV     R0,#0x0
   \                     ??LED_CHANGE_17:
   \   000070   E8           MOV     A,R0
   \   000071   A2E0         MOV     C,0xE0 /* A   */.0
   \   000073   9297         MOV     0x90.7,C
   \   000075   800F         SJMP    ??LED_CHANGE_3
    856                      }
    857                      else if(Mode==2)
   \                     ??LED_CHANGE_15:
   \   000077   7402         MOV     A,#0x2
   \   000079   6A           XRL     A,R2
   \   00007A   700A         JNZ     ??LED_CHANGE_3
    858                      {
    859                          if (LED3_SBIT) 
   \   00007C   A297         MOV     C,0x90.7
   \   00007E   5004         JNC     ??LED_CHANGE_18
    860                          { 
    861                              LED3_SBIT = 0; 
   \   000080   C297         CLR     0x90.7
   \   000082   8002         SJMP    ??LED_CHANGE_3
    862                          } 
    863                          else 
    864                          { 
    865                              LED3_SBIT = 1;
   \                     ??LED_CHANGE_18:
   \   000084   D297         SETB    0x90.7
    866                          } 
    867                      }
    868                  }   
    869                  break;     
    870                  
    871                  default:
    872                  break;
    873              }
    874              
    875          }
   \                     ??LED_CHANGE_3:
   \   000086   02....       LJMP    ?BRET
   \   000089                REQUIRE _A_P0
   \   000089                REQUIRE _A_P1
    876          
    877          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    878          void USER_ZDO_JOINING_MSG(void)
   \                     USER_ZDO_JOINING_MSG:
    879          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    880              HalLedBlink ( HAL_LED_1, 1, 30, 500 );
   \   000004                ; Setup parameters for call to function HalLedBlink
   \   000004   7CF4         MOV     R4,#-0xc
   \   000006   7D01         MOV     R5,#0x1
   \   000008   7B1E         MOV     R3,#0x1e
   \   00000A   7A01         MOV     R2,#0x1
   \   00000C   7901         MOV     R1,#0x1
   \   00000E   12....       LCALL   ??HalLedBlink?relay
    881          }
   \   000011   D083         POP     DPH
   \   000013   D082         POP     DPL
   \   000015   02....       LJMP    ?BRET
    882          
    883          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    884          void SampleAPP_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg )
   \                     SampleAPP_ProcessZDOMsgs:
    885          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    886              
    887              switch ( inMsg->clusterID )
   \   000009   EE           MOV     A,R6
   \   00000A   240C         ADD     A,#0xc
   \   00000C   F582         MOV     DPL,A
   \   00000E   EF           MOV     A,R7
   \   00000F   3400         ADDC    A,#0x0
   \   000011   F583         MOV     DPH,A
   \   000013   E0           MOVX    A,@DPTR
   \   000014   6420         XRL     A,#0x20
   \   000016   7004         JNZ     ??SampleAPP_ProcessZDOMsgs_0
   \   000018   A3           INC     DPTR
   \   000019   E0           MOVX    A,@DPTR
   \   00001A   6480         XRL     A,#0x80
   \                     ??SampleAPP_ProcessZDOMsgs_0:
   \   00001C   7031         JNZ     ??SampleAPP_ProcessZDOMsgs_1
    888              {
    889                  case End_Device_Bind_rsp:
    890                  if ( ZDO_ParseBindRsp( inMsg ) == ZSuccess )
   \   00001E   EE           MOV     A,R6
   \   00001F   2413         ADD     A,#0x13
   \   000021   F582         MOV     DPL,A
   \   000023   EF           MOV     A,R7
   \   000024   3400         ADDC    A,#0x0
   \   000026   F583         MOV     DPH,A
   \   000028   E0           MOVX    A,@DPTR
   \   000029   F8           MOV     R0,A
   \   00002A   A3           INC     DPTR
   \   00002B   E0           MOVX    A,@DPTR
   \   00002C   F583         MOV     DPH,A
   \   00002E   8882         MOV     DPL,R0
   \   000030   E0           MOVX    A,@DPTR
   \   000031   700F         JNZ     ??SampleAPP_ProcessZDOMsgs_2
    891                  {
    892                      // Light LED
    893                      HalLedBlink ( HAL_LED_1, 3, 50, 1000 );
   \   000033                ; Setup parameters for call to function HalLedBlink
   \   000033   7CE8         MOV     R4,#-0x18
   \   000035   7D03         MOV     R5,#0x3
   \   000037   7B32         MOV     R3,#0x32
   \   000039   7A03         MOV     R2,#0x3
   \   00003B   7901         MOV     R1,#0x1
   \   00003D   12....       LCALL   ??HalLedBlink?relay
   \   000040   800D         SJMP    ??SampleAPP_ProcessZDOMsgs_1
    894                  }
    895          #if defined(BLINK_LEDS)
    896                  else
    897                  {
    898                      HalLedBlink ( HAL_LED_1, 6, 50, 500 );
   \                     ??SampleAPP_ProcessZDOMsgs_2:
   \   000042                ; Setup parameters for call to function HalLedBlink
   \   000042   7CF4         MOV     R4,#-0xc
   \   000044   7D01         MOV     R5,#0x1
   \   000046   7B32         MOV     R3,#0x32
   \   000048   7A06         MOV     R2,#0x6
   \   00004A   7901         MOV     R1,#0x1
   \   00004C   12....       LCALL   ??HalLedBlink?relay
    899                  }
    900          #endif
    901                  break;
    902              }
    903              
    904          }
   \                     ??SampleAPP_ProcessZDOMsgs_1:
   \   00004F   7F01         MOV     R7,#0x1
   \   000051   02....       LJMP    ?BANKED_LEAVE_XDATA
    905          
    906          
    907          
    908          
    909          
    910          
    911          /*****************************************************************************/
    912          /*************************************用户函数********************************/
    913          /*******************************************************************************
    914          * 函数名称: CS5463_Send_PWER
    915          * 函数功能: 每两秒钟读一次功率数据，并判断是否需要上传
    916          * 入口参数: 无
    917          * 出口参数: 无
    918          * 备注说明: 无
    919          ******************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    920          uint8 CS5463_Send_PWER(void)
   \                     CS5463_Send_PWER:
    921          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
    922              I_Value_Now = GetCurrentIrms(1,10000,0);//读取电流值
   \   000005                ; Setup parameters for call to function GetCurrentIrms
   \   000005   90....       MOV     DPTR,#__Constant_0
   \   000008   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00000B   90....       MOV     DPTR,#__Constant_2710
   \   00000E   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000011   90....       MOV     DPTR,#__Constant_3f800000
   \   000014   12....       LCALL   ?XLOAD_R2345
   \   000017   12....       LCALL   ??GetCurrentIrms?relay
   \   00001A   7408         MOV     A,#0x8
   \   00001C   12....       LCALL   ?DEALLOC_XSTACK8
   \   00001F   90....       MOV     DPTR,#I_Value_Now
   \   000022   12....       LCALL   ?XSTORE_R2345
    923              if(I_Value_Now > 100)//0.01A
   \   000025   90....       MOV     DPTR,#I_Value_Now
   \   000028   C082         PUSH    DPL
   \   00002A   C083         PUSH    DPH
   \   00002C   90....       MOV     DPTR,#__Constant_65
   \   00002F   78..         MOV     R0,#?V0 + 0
   \   000031   12....       LCALL   ?L_MOV_X
   \   000034   D083         POP     DPH
   \   000036   D082         POP     DPL
   \   000038   78..         MOV     R0,#?V0 + 0
   \   00003A   12....       LCALL   ?UL_GT_X
   \   00003D   5003         JNC     $+5
   \   00003F   02....       LJMP    ??CS5463_Send_PWER_0 & 0xFFFF
    924              {
    925                  P_Value = GetPactive(1.0, 10000, 0);//获取有功功率
   \   000042                ; Setup parameters for call to function GetPactive
   \   000042   90....       MOV     DPTR,#__Constant_0
   \   000045   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000048   90....       MOV     DPTR,#__Constant_2710
   \   00004B   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00004E   90....       MOV     DPTR,#__Constant_3f800000
   \   000051   12....       LCALL   ?XLOAD_R2345
   \   000054   12....       LCALL   ??GetPactive?relay
   \   000057   7408         MOV     A,#0x8
   \   000059   12....       LCALL   ?DEALLOC_XSTACK8
   \   00005C   90....       MOV     DPTR,#P_Value
   \   00005F   12....       LCALL   ?XSTORE_R2345
    926                  P_Value_Now = (uint32)(P_Value*1.2);//*12000/10000得到最终的有效的功率值
   \   000062   90....       MOV     DPTR,#P_Value
   \   000065   78..         MOV     R0,#?V0 + 0
   \   000067   12....       LCALL   ?L_MOV_X
   \   00006A   78..         MOV     R0,#?V0 + 0
   \   00006C   12....       LCALL   ?UL_TO_FLT
   \   00006F   90....       MOV     DPTR,#__Constant_3f99999a
   \   000072   78..         MOV     R0,#?V0 + 4
   \   000074   12....       LCALL   ?L_MOV_X
   \   000077   78..         MOV     R0,#?V0 + 0
   \   000079   79..         MOV     R1,#?V0 + 4
   \   00007B   12....       LCALL   ?FLT_MUL
   \   00007E   78..         MOV     R0,#?V0 + 0
   \   000080   12....       LCALL   ?FLT_TO_UL
   \   000083   90....       MOV     DPTR,#P_Value_Now
   \   000086   78..         MOV     R0,#?V0 + 0
   \   000088   12....       LCALL   ?L_MOV_TO_X
    927                  P_Value_Now = (float)P_Value_Now * P_Value_Bili_Temp;	
                                     ^
Warning[Pa093]: implicit conversion from floating point to integer
   \   00008B   90....       MOV     DPTR,#P_Value_Now
   \   00008E   78..         MOV     R0,#?V0 + 0
   \   000090   12....       LCALL   ?L_MOV_X
   \   000093   78..         MOV     R0,#?V0 + 0
   \   000095   12....       LCALL   ?UL_TO_FLT
   \   000098   90....       MOV     DPTR,#P_Value_Bili_Temp
   \   00009B   78..         MOV     R0,#?V0 + 4
   \   00009D   12....       LCALL   ?L_MOV_X
   \   0000A0   78..         MOV     R0,#?V0 + 0
   \   0000A2   79..         MOV     R1,#?V0 + 4
   \   0000A4   12....       LCALL   ?FLT_MUL
   \   0000A7   78..         MOV     R0,#?V0 + 0
   \   0000A9   12....       LCALL   ?FLT_TO_UL
   \   0000AC   90....       MOV     DPTR,#P_Value_Now
   \   0000AF   78..         MOV     R0,#?V0 + 0
   \   0000B1   12....       LCALL   ?L_MOV_TO_X
    928                  
    929                  if(P_Value_Now > P_Value_jiaozhun_Temp)
   \   0000B4   90....       MOV     DPTR,#P_Value_jiaozhun_Temp
   \   0000B7   E0           MOVX    A,@DPTR
   \   0000B8   F5..         MOV     ?V0 + 0,A
   \   0000BA   A3           INC     DPTR
   \   0000BB   E0           MOVX    A,@DPTR
   \   0000BC   F5..         MOV     ?V0 + 1,A
   \   0000BE   E4           CLR     A
   \   0000BF   F5..         MOV     ?V0 + 2,A
   \   0000C1   F5..         MOV     ?V0 + 3,A
   \   0000C3   90....       MOV     DPTR,#P_Value_Now
   \   0000C6   78..         MOV     R0,#?V0 + 0
   \   0000C8   12....       LCALL   ?UL_GE_X
   \   0000CB   4055         JC      ??CS5463_Send_PWER_1
    930                  {
    931                      P_Value_Now -= P_Value_jiaozhun_Temp ;//去除校准值
   \   0000CD   90....       MOV     DPTR,#P_Value_jiaozhun_Temp
   \   0000D0   E0           MOVX    A,@DPTR
   \   0000D1   F5..         MOV     ?V0 + 0,A
   \   0000D3   A3           INC     DPTR
   \   0000D4   E0           MOVX    A,@DPTR
   \   0000D5   F5..         MOV     ?V0 + 1,A
   \   0000D7   E4           CLR     A
   \   0000D8   F5..         MOV     ?V0 + 2,A
   \   0000DA   F5..         MOV     ?V0 + 3,A
   \   0000DC   90....       MOV     DPTR,#P_Value_Now
   \   0000DF   78..         MOV     R0,#?V0 + 0
   \   0000E1   12....       LCALL   ?L_SUB_FROM_X
    932                      if((P_Value_Now >0)  &&  (P_Value_Now < 16))
   \   0000E4   90....       MOV     DPTR,#P_Value_Now
   \   0000E7   78..         MOV     R0,#?V0 + 0
   \   0000E9   12....       LCALL   ?L_MOV_X
   \   0000EC   E5..         MOV     A,?V0 + 0
   \   0000EE   45..         ORL     A,?V0 + 1
   \   0000F0   45..         ORL     A,?V0 + 2
   \   0000F2   45..         ORL     A,?V0 + 3
   \   0000F4   6046         JZ      ??CS5463_Send_PWER_2
   \   0000F6   90....       MOV     DPTR,#P_Value_Now
   \   0000F9   C082         PUSH    DPL
   \   0000FB   C083         PUSH    DPH
   \   0000FD   90....       MOV     DPTR,#__Constant_10
   \   000100   78..         MOV     R0,#?V0 + 0
   \   000102   12....       LCALL   ?L_MOV_X
   \   000105   D083         POP     DPH
   \   000107   D082         POP     DPL
   \   000109   78..         MOV     R0,#?V0 + 0
   \   00010B   12....       LCALL   ?UL_GT_X
   \   00010E   502C         JNC     ??CS5463_Send_PWER_2
    933                      {
    934                          P_Value_Now -= 1;
   \   000110   90....       MOV     DPTR,#__Constant_ffffffff
   \   000113   78..         MOV     R0,#?V0 + 0
   \   000115   12....       LCALL   ?L_MOV_X
   \   000118   90....       MOV     DPTR,#P_Value_Now
   \   00011B   78..         MOV     R0,#?V0 + 0
   \   00011D   12....       LCALL   ?L_ADD_TO_X
   \   000120   801A         SJMP    ??CS5463_Send_PWER_2
    935                      }
    936                  }
    937                  else
    938                  {
    939                      P_Value_Now = 0;//小于校准值，则判断其应为0W
   \                     ??CS5463_Send_PWER_1:
   \   000122   90....       MOV     DPTR,#__Constant_0
   \   000125   12....       LCALL   ?XLOAD_R2345
   \   000128   90....       MOV     DPTR,#P_Value_Now
   \   00012B   12....       LCALL   ?XSTORE_R2345
   \   00012E   800C         SJMP    ??CS5463_Send_PWER_2
    940                  }
    941                  
    942              }
    943              else
    944              {
    945                  P_Value_Now = 0;
   \                     ??CS5463_Send_PWER_0:
   \   000130   90....       MOV     DPTR,#__Constant_0
   \   000133   12....       LCALL   ?XLOAD_R2345
   \   000136   90....       MOV     DPTR,#P_Value_Now
   \   000139   12....       LCALL   ?XSTORE_R2345
    946              }  
    947              
    948              
    949              if(P_Value_Now<10)
   \                     ??CS5463_Send_PWER_2:
   \   00013C   90....       MOV     DPTR,#P_Value_Now
   \   00013F   C082         PUSH    DPL
   \   000141   C083         PUSH    DPH
   \   000143   90....       MOV     DPTR,#__Constant_a
   \   000146   78..         MOV     R0,#?V0 + 0
   \   000148   12....       LCALL   ?L_MOV_X
   \   00014B   D083         POP     DPH
   \   00014D   D082         POP     DPL
   \   00014F   78..         MOV     R0,#?V0 + 0
   \   000151   12....       LCALL   ?UL_GT_X
   \   000154   500C         JNC     ??CS5463_Send_PWER_3
    950              {
    951                  P_Value_Distance = 1;
   \   000156   90....       MOV     DPTR,#P_Value_Distance
   \   000159   7401         MOV     A,#0x1
   \   00015B   F0           MOVX    @DPTR,A
   \   00015C   A3           INC     DPTR
   \   00015D   7400         MOV     A,#0x0
   \   00015F   F0           MOVX    @DPTR,A
   \   000160   8056         SJMP    ??CS5463_Send_PWER_4
    952              }
    953              else if(P_Value_Now<100)
   \                     ??CS5463_Send_PWER_3:
   \   000162   90....       MOV     DPTR,#P_Value_Now
   \   000165   C082         PUSH    DPL
   \   000167   C083         PUSH    DPH
   \   000169   90....       MOV     DPTR,#__Constant_64
   \   00016C   78..         MOV     R0,#?V0 + 0
   \   00016E   12....       LCALL   ?L_MOV_X
   \   000171   D083         POP     DPH
   \   000173   D082         POP     DPL
   \   000175   78..         MOV     R0,#?V0 + 0
   \   000177   12....       LCALL   ?UL_GT_X
   \   00017A   500C         JNC     ??CS5463_Send_PWER_5
    954              {
    955                  P_Value_Distance = 10;
   \   00017C   90....       MOV     DPTR,#P_Value_Distance
   \   00017F   740A         MOV     A,#0xa
   \   000181   F0           MOVX    @DPTR,A
   \   000182   A3           INC     DPTR
   \   000183   7400         MOV     A,#0x0
   \   000185   F0           MOVX    @DPTR,A
   \   000186   8030         SJMP    ??CS5463_Send_PWER_4
    956              }
    957              else if(P_Value_Now < 500)
   \                     ??CS5463_Send_PWER_5:
   \   000188   90....       MOV     DPTR,#P_Value_Now
   \   00018B   C082         PUSH    DPL
   \   00018D   C083         PUSH    DPH
   \   00018F   90....       MOV     DPTR,#__Constant_1f4
   \   000192   78..         MOV     R0,#?V0 + 0
   \   000194   12....       LCALL   ?L_MOV_X
   \   000197   D083         POP     DPH
   \   000199   D082         POP     DPL
   \   00019B   78..         MOV     R0,#?V0 + 0
   \   00019D   12....       LCALL   ?UL_GT_X
   \   0001A0   500C         JNC     ??CS5463_Send_PWER_6
    958              {
    959                  P_Value_Distance = 50;
   \   0001A2   90....       MOV     DPTR,#P_Value_Distance
   \   0001A5   7432         MOV     A,#0x32
   \   0001A7   F0           MOVX    @DPTR,A
   \   0001A8   A3           INC     DPTR
   \   0001A9   7400         MOV     A,#0x0
   \   0001AB   F0           MOVX    @DPTR,A
   \   0001AC   800A         SJMP    ??CS5463_Send_PWER_4
    960              }
    961              else
    962              {
    963                  P_Value_Distance = 100;
   \                     ??CS5463_Send_PWER_6:
   \   0001AE   90....       MOV     DPTR,#P_Value_Distance
   \   0001B1   7464         MOV     A,#0x64
   \   0001B3   F0           MOVX    @DPTR,A
   \   0001B4   A3           INC     DPTR
   \   0001B5   7400         MOV     A,#0x0
   \   0001B7   F0           MOVX    @DPTR,A
    964              }
    965              
    966              Total_P_Value_Temp += P_Value_Now * 2;//2s的功率w.s  以W.S为单位
   \                     ??CS5463_Send_PWER_4:
   \   0001B8   90....       MOV     DPTR,#P_Value_Now
   \   0001BB   78..         MOV     R0,#?V0 + 0
   \   0001BD   12....       LCALL   ?L_MOV_X
   \   0001C0   90....       MOV     DPTR,#__Constant_2
   \   0001C3   78..         MOV     R0,#?V0 + 4
   \   0001C5   12....       LCALL   ?L_MOV_X
   \   0001C8   78..         MOV     R0,#?V0 + 0
   \   0001CA   79..         MOV     R1,#?V0 + 4
   \   0001CC   12....       LCALL   ?L_MUL
   \   0001CF   90....       MOV     DPTR,#Total_P_Value_Temp
   \   0001D2   78..         MOV     R0,#?V0 + 0
   \   0001D4   12....       LCALL   ?L_ADD_TO_X
    967              if(Total_P_Value_Temp >= 3600)//电量累计
   \   0001D7   90....       MOV     DPTR,#Total_P_Value_Temp
   \   0001DA   C082         PUSH    DPL
   \   0001DC   C083         PUSH    DPH
   \   0001DE   90....       MOV     DPTR,#__Constant_e10
   \   0001E1   78..         MOV     R0,#?V0 + 0
   \   0001E3   12....       LCALL   ?L_MOV_X
   \   0001E6   D083         POP     DPH
   \   0001E8   D082         POP     DPL
   \   0001EA   78..         MOV     R0,#?V0 + 0
   \   0001EC   12....       LCALL   ?UL_GT_X
   \   0001EF   4046         JC      ??CS5463_Send_PWER_7
    968              {
    969                  Total_P_Value_Temp -= 3600;//3600W.S = 1 W.H
   \   0001F1   90....       MOV     DPTR,#__Constant_fffff1f0
   \   0001F4   78..         MOV     R0,#?V0 + 0
   \   0001F6   12....       LCALL   ?L_MOV_X
   \   0001F9   90....       MOV     DPTR,#Total_P_Value_Temp
   \   0001FC   78..         MOV     R0,#?V0 + 0
   \   0001FE   12....       LCALL   ?L_ADD_TO_X
    970                  P_Value_energy++;
   \   000201   90....       MOV     DPTR,#__Constant_1
   \   000204   78..         MOV     R0,#?V0 + 0
   \   000206   12....       LCALL   ?L_MOV_X
   \   000209   90....       MOV     DPTR,#P_Value_energy
   \   00020C   78..         MOV     R0,#?V0 + 0
   \   00020E   12....       LCALL   ?L_ADD_TO_X
    971                  if(P_Value_energy >= 16000000)P_Value_energy = 16000000;
   \   000211   90....       MOV     DPTR,#P_Value_energy
   \   000214   C082         PUSH    DPL
   \   000216   C083         PUSH    DPH
   \   000218   90....       MOV     DPTR,#__Constant_f42400
   \   00021B   78..         MOV     R0,#?V0 + 0
   \   00021D   12....       LCALL   ?L_MOV_X
   \   000220   D083         POP     DPH
   \   000222   D082         POP     DPL
   \   000224   78..         MOV     R0,#?V0 + 0
   \   000226   12....       LCALL   ?UL_GT_X
   \   000229   400C         JC      ??CS5463_Send_PWER_7
   \   00022B   90....       MOV     DPTR,#__Constant_f42400
   \   00022E   12....       LCALL   ?XLOAD_R2345
   \   000231   90....       MOV     DPTR,#P_Value_energy
   \   000234   12....       LCALL   ?XSTORE_R2345
    972              }
    973              
    974              
    975              if(P_Value_Now > P_Protect_Value)//超过500W就关闭继电器
   \                     ??CS5463_Send_PWER_7:
   \   000237   90....       MOV     DPTR,#P_Protect_Value
   \   00023A   C082         PUSH    DPL
   \   00023C   C083         PUSH    DPH
   \   00023E   90....       MOV     DPTR,#P_Value_Now
   \   000241   78..         MOV     R0,#?V0 + 0
   \   000243   12....       LCALL   ?L_MOV_X
   \   000246   D083         POP     DPH
   \   000248   D082         POP     DPL
   \   00024A   78..         MOV     R0,#?V0 + 0
   \   00024C   12....       LCALL   ?UL_GT_X
   \   00024F   5007         JNC     ??CS5463_Send_PWER_8
    976              {       	
    977                  SampleApp_SendInMessage();//上报当前功率值  
   \   000251                ; Setup parameters for call to function SampleApp_SendInMessage
   \   000251   12....       LCALL   ??SampleApp_SendInMessage?relay
    978                  return 1;
   \   000254   7901         MOV     R1,#0x1
   \   000256   803E         SJMP    ??CS5463_Send_PWER_9
    979              }
    980              else if(P_Value_Now > P_Value_Pre + P_Value_Distance)//超过【上次汇报】过的数据一定的数值就上报
   \                     ??CS5463_Send_PWER_8:
   \   000258   90....       MOV     DPTR,#P_Value_Pre
   \   00025B   C082         PUSH    DPL
   \   00025D   C083         PUSH    DPH
   \   00025F   90....       MOV     DPTR,#P_Value_Distance
   \   000262   E0           MOVX    A,@DPTR
   \   000263   F5..         MOV     ?V0 + 0,A
   \   000265   A3           INC     DPTR
   \   000266   E0           MOVX    A,@DPTR
   \   000267   F5..         MOV     ?V0 + 1,A
   \   000269   E4           CLR     A
   \   00026A   F5..         MOV     ?V0 + 2,A
   \   00026C   F5..         MOV     ?V0 + 3,A
   \   00026E   D083         POP     DPH
   \   000270   D082         POP     DPL
   \   000272   78..         MOV     R0,#?V0 + 0
   \   000274   12....       LCALL   ?L_ADD_X
   \   000277   90....       MOV     DPTR,#P_Value_Now
   \   00027A   78..         MOV     R0,#?V0 + 0
   \   00027C   12....       LCALL   ?UL_GE_X
   \   00027F   4013         JC      ??CS5463_Send_PWER_10
    981              {        
    982                  P_Value_Pre = P_Value_Now;//保存这一次发送的数值
   \   000281   90....       MOV     DPTR,#P_Value_Now
   \   000284   12....       LCALL   ?XLOAD_R2345
   \   000287   90....       MOV     DPTR,#P_Value_Pre
   \   00028A   12....       LCALL   ?XSTORE_R2345
    983                  SampleApp_SendInMessage();
   \   00028D                ; Setup parameters for call to function SampleApp_SendInMessage
   \   00028D   12....       LCALL   ??SampleApp_SendInMessage?relay
    984                  return 1;
   \   000290   7901         MOV     R1,#0x1
   \   000292   8002         SJMP    ??CS5463_Send_PWER_9
    985              }
    986              
    987              return 0;
   \                     ??CS5463_Send_PWER_10:
   \   000294   7900         MOV     R1,#0x0
   \                     ??CS5463_Send_PWER_9:
   \   000296   7F08         MOV     R7,#0x8
   \   000298   02....       LJMP    ?BANKED_LEAVE_XDATA
    988          }
    989          
    990          /*******************************************************************************
    991          * 函数名称: P_JiaoZhun_Process
    992          * 函数功能: 功率校准值初始化
    993          * 入口参数: 无
    994          * 出口参数: 无
    995          * 备注说明: 无
    996          ******************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    997          void P_JiaoZhun_Process(void)
   \                     P_JiaoZhun_Process:
    998          {	
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
    999              osal_nv_item_init(CS5463_JIAOZHUN_NV_FLAG, 10, CS5463_STR);  
   \   000005                ; Setup parameters for call to function osal_nv_item_init
   \   000005   75....       MOV     ?V0 + 0,#CS5463_STR & 0xff
   \   000008   75....       MOV     ?V0 + 1,#(CS5463_STR >> 8) & 0xff
   \   00000B   78..         MOV     R0,#?V0 + 0
   \   00000D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000010   7C0A         MOV     R4,#0xa
   \   000012   7D00         MOV     R5,#0x0
   \   000014   7A20         MOV     R2,#0x20
   \   000016   7B04         MOV     R3,#0x4
   \   000018   12....       LCALL   ??osal_nv_item_init?relay
   \   00001B   7402         MOV     A,#0x2
   \   00001D   12....       LCALL   ?DEALLOC_XSTACK8
   \   000020   E9           MOV     A,R1
   1000              osal_nv_read(CS5463_JIAOZHUN_NV_FLAG, 0, 10,   CS5463_STR);
   \   000021                ; Setup parameters for call to function osal_nv_read
   \   000021   75....       MOV     ?V0 + 0,#CS5463_STR & 0xff
   \   000024   75....       MOV     ?V0 + 1,#(CS5463_STR >> 8) & 0xff
   \   000027   78..         MOV     R0,#?V0 + 0
   \   000029   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00002C   75..0A       MOV     ?V0 + 0,#0xa
   \   00002F   75..00       MOV     ?V0 + 1,#0x0
   \   000032   78..         MOV     R0,#?V0 + 0
   \   000034   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000037   7C00         MOV     R4,#0x0
   \   000039   7D00         MOV     R5,#0x0
   \   00003B   7A20         MOV     R2,#0x20
   \   00003D   7B04         MOV     R3,#0x4
   \   00003F   12....       LCALL   ??osal_nv_read?relay
   \   000042   7404         MOV     A,#0x4
   \   000044   12....       LCALL   ?DEALLOC_XSTACK8
   \   000047   E9           MOV     A,R1
   1001              
   1002              if(CS5463_STR[0] == 11)//如果已经保存了校准值，则直接读取已经保存的校准值
   \   000048   90....       MOV     DPTR,#CS5463_STR
   \   00004B   E0           MOVX    A,@DPTR
   \   00004C   640B         XRL     A,#0xb
   \   00004E   6003         JZ      $+5
   \   000050   02....       LJMP    ??P_JiaoZhun_Process_0 & 0xFFFF
   1003              {
   1004                  
   1005                  P_Value_Bili_Temp = (float)((uint16)CS5463_STR[3] << 8 | (uint16)CS5463_STR[4]) / 1000;//存储的时候*1000
   \   000053   90....       MOV     DPTR,#CS5463_STR + 3
   \   000056   E0           MOVX    A,@DPTR
   \   000057   F8           MOV     R0,A
   \   000058   7900         MOV     R1,#0x0
   \   00005A   E4           CLR     A
   \   00005B   C8           XCH     A,R0
   \   00005C   F9           MOV     R1,A
   \   00005D   90....       MOV     DPTR,#CS5463_STR + 4
   \   000060   E0           MOVX    A,@DPTR
   \   000061   FA           MOV     R2,A
   \   000062   7B00         MOV     R3,#0x0
   \   000064   E8           MOV     A,R0
   \   000065   4A           ORL     A,R2
   \   000066   F5..         MOV     ?V0 + 0,A
   \   000068   E9           MOV     A,R1
   \   000069   4B           ORL     A,R3
   \   00006A   F5..         MOV     ?V0 + 1,A
   \   00006C   E4           CLR     A
   \   00006D   F5..         MOV     ?V0 + 2,A
   \   00006F   F5..         MOV     ?V0 + 3,A
   \   000071   78..         MOV     R0,#?V0 + 0
   \   000073   12....       LCALL   ?UL_TO_FLT
   \   000076   90....       MOV     DPTR,#__Constant_447a0000
   \   000079   78..         MOV     R0,#?V0 + 4
   \   00007B   12....       LCALL   ?L_MOV_X
   \   00007E   78..         MOV     R0,#?V0 + 0
   \   000080   79..         MOV     R1,#?V0 + 4
   \   000082   12....       LCALL   ?FLT_DIV
   \   000085   90....       MOV     DPTR,#P_Value_Bili_Temp
   \   000088   78..         MOV     R0,#?V0 + 0
   \   00008A   12....       LCALL   ?L_MOV_TO_X
   1006                  P_Value_jiaozhun_Temp = (uint16)CS5463_STR[1] << 8 | (uint16)CS5463_STR[2];
   \   00008D   90....       MOV     DPTR,#CS5463_STR + 1
   \   000090   E0           MOVX    A,@DPTR
   \   000091   F8           MOV     R0,A
   \   000092   7900         MOV     R1,#0x0
   \   000094   E4           CLR     A
   \   000095   C8           XCH     A,R0
   \   000096   F9           MOV     R1,A
   \   000097   90....       MOV     DPTR,#CS5463_STR + 2
   \   00009A   E0           MOVX    A,@DPTR
   \   00009B   FA           MOV     R2,A
   \   00009C   7B00         MOV     R3,#0x0
   \   00009E   E8           MOV     A,R0
   \   00009F   4A           ORL     A,R2
   \   0000A0   F8           MOV     R0,A
   \   0000A1   E9           MOV     A,R1
   \   0000A2   4B           ORL     A,R3
   \   0000A3   F9           MOV     R1,A
   \   0000A4   90....       MOV     DPTR,#P_Value_jiaozhun_Temp
   \   0000A7   E8           MOV     A,R0
   \   0000A8   F0           MOVX    @DPTR,A
   \   0000A9   A3           INC     DPTR
   \   0000AA   E9           MOV     A,R1
   \   0000AB   F0           MOVX    @DPTR,A
   1007                  I_Value_Bili_Temp = (float)((uint16)CS5463_STR[7] << 8 | (uint16)CS5463_STR[8]) / 1000;//存储的时候*1000
   \   0000AC   90....       MOV     DPTR,#CS5463_STR + 7
   \   0000AF   E0           MOVX    A,@DPTR
   \   0000B0   F8           MOV     R0,A
   \   0000B1   7900         MOV     R1,#0x0
   \   0000B3   E4           CLR     A
   \   0000B4   C8           XCH     A,R0
   \   0000B5   F9           MOV     R1,A
   \   0000B6   90....       MOV     DPTR,#CS5463_STR + 8
   \   0000B9   E0           MOVX    A,@DPTR
   \   0000BA   FA           MOV     R2,A
   \   0000BB   7B00         MOV     R3,#0x0
   \   0000BD   E8           MOV     A,R0
   \   0000BE   4A           ORL     A,R2
   \   0000BF   F5..         MOV     ?V0 + 0,A
   \   0000C1   E9           MOV     A,R1
   \   0000C2   4B           ORL     A,R3
   \   0000C3   F5..         MOV     ?V0 + 1,A
   \   0000C5   E4           CLR     A
   \   0000C6   F5..         MOV     ?V0 + 2,A
   \   0000C8   F5..         MOV     ?V0 + 3,A
   \   0000CA   78..         MOV     R0,#?V0 + 0
   \   0000CC   12....       LCALL   ?UL_TO_FLT
   \   0000CF   90....       MOV     DPTR,#__Constant_447a0000
   \   0000D2   78..         MOV     R0,#?V0 + 4
   \   0000D4   12....       LCALL   ?L_MOV_X
   \   0000D7   78..         MOV     R0,#?V0 + 0
   \   0000D9   79..         MOV     R1,#?V0 + 4
   \   0000DB   12....       LCALL   ?FLT_DIV
   \   0000DE   90....       MOV     DPTR,#I_Value_Bili_Temp
   \   0000E1   78..         MOV     R0,#?V0 + 0
   \   0000E3   12....       LCALL   ?L_MOV_TO_X
   1008                  I_Value_jiaozhun_Temp = (uint16)CS5463_STR[5] << 8 | (uint16)CS5463_STR[6];
   \   0000E6   90....       MOV     DPTR,#CS5463_STR + 5
   \   0000E9   E0           MOVX    A,@DPTR
   \   0000EA   F8           MOV     R0,A
   \   0000EB   7900         MOV     R1,#0x0
   \   0000ED   E4           CLR     A
   \   0000EE   C8           XCH     A,R0
   \   0000EF   F9           MOV     R1,A
   \   0000F0   90....       MOV     DPTR,#CS5463_STR + 6
   \   0000F3   E0           MOVX    A,@DPTR
   \   0000F4   FA           MOV     R2,A
   \   0000F5   7B00         MOV     R3,#0x0
   \   0000F7   E8           MOV     A,R0
   \   0000F8   4A           ORL     A,R2
   \   0000F9   F8           MOV     R0,A
   \   0000FA   E9           MOV     A,R1
   \   0000FB   4B           ORL     A,R3
   \   0000FC   F9           MOV     R1,A
   \   0000FD   90....       MOV     DPTR,#I_Value_jiaozhun_Temp
   \   000100   E8           MOV     A,R0
   \   000101   F0           MOVX    @DPTR,A
   \   000102   A3           INC     DPTR
   \   000103   E9           MOV     A,R1
   \   000104   F0           MOVX    @DPTR,A
   \   000105   802C         SJMP    ??P_JiaoZhun_Process_1
   1009                  
   1010              }
   1011              else//如果没有保存校准值，则直接使用默认校准值
   1012              {
   1013                  P_Value_Bili_Temp = 1.0;
   \                     ??P_JiaoZhun_Process_0:
   \   000107   90....       MOV     DPTR,#__Constant_3f800000
   \   00010A   12....       LCALL   ?XLOAD_R2345
   \   00010D   90....       MOV     DPTR,#P_Value_Bili_Temp
   \   000110   12....       LCALL   ?XSTORE_R2345
   1014                  P_Value_jiaozhun_Temp = 0;	
   \   000113   90....       MOV     DPTR,#P_Value_jiaozhun_Temp
   \   000116   7400         MOV     A,#0x0
   \   000118   F0           MOVX    @DPTR,A
   \   000119   A3           INC     DPTR
   \   00011A   7400         MOV     A,#0x0
   \   00011C   F0           MOVX    @DPTR,A
   1015                  I_Value_Bili_Temp = 0;
   \   00011D   90....       MOV     DPTR,#__Constant_0
   \   000120   12....       LCALL   ?XLOAD_R2345
   \   000123   90....       MOV     DPTR,#I_Value_Bili_Temp
   \   000126   12....       LCALL   ?XSTORE_R2345
   1016                  I_Value_jiaozhun_Temp = 0;
   \   000129   90....       MOV     DPTR,#I_Value_jiaozhun_Temp
   \   00012C   7400         MOV     A,#0x0
   \   00012E   F0           MOVX    @DPTR,A
   \   00012F   A3           INC     DPTR
   \   000130   7400         MOV     A,#0x0
   \   000132   F0           MOVX    @DPTR,A
   1017              }
   1018          }
   \                     ??P_JiaoZhun_Process_1:
   \   000133   7F08         MOV     R7,#0x8
   \   000135   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for USER_SampleApp_ClusterList>`:
   \   000000   0100         DW 1
   \   000002   0200         DW 2
   \   000004   0300         DW 3
   \   000006   0400         DW 4
   \   000008   0500         DW 5
   \   00000A   0600         DW 6
   \   00000C   0700         DW 7
   \   00000E   0800         DW 8
   \   000010   0000         DW 0
   \   000012   0000         DW 0
   \   000014   0000         DW 0
   \   000016   0000         DW 0
   \   000018   0000         DW 0

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for SampleApp_SimpleDesc1>`:
   \   000000   15           DB 21
   \   000001   080F         DW 3848
   \   000003   0100         DW 1
   \   000005   00           DB 0
   \   000006   0D           DB 13
   \   000007   ....         DW USER_SampleApp_ClusterList
   \   000009   0D           DB 13
   \   00000A   ....         DW USER_SampleApp_ClusterList

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for SampleApp_SimpleDesc2>`:
   \   000000   16           DB 22
   \   000001   080F         DW 3848
   \   000003   0100         DW 1
   \   000005   00           DB 0
   \   000006   0D           DB 13
   \   000007   ....         DW USER_SampleApp_ClusterList
   \   000009   0D           DB 13
   \   00000A   ....         DW USER_SampleApp_ClusterList

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for USER_bindingINClusters>`:
   \   000000   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for P_Protect_Value>`:
   \   000000   0A000000     DD 10

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for P_Value_Distance>`:
   \   000000   6400         DW 100

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for P_Value_Bili_Temp>`:
   \   000000   0000803F     DD 3F800000H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for I_Value_Bili_Temp>`:
   \   000000   0000803F     DD 3F800000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_447a0000:
   \   000000   00007A44     DD 447A0000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_100:
   \   000000   00010000     DD 256

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_0:
   \   000000   00000000     DD 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_2710:
   \   000000   10270000     DD 10000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3f800000:
   \   000000   0000803F     DD 3F800000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3f99999a:
   \   000000   9A99993F     DD 3F99999AH

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3e9:
   \   000000   E9030000     DD 1001

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_17:
   \   000000   17000000     DD 23

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_13881:
   \   000000   81380100     DD 80001

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_13880:
   \   000000   80380100     DD 80000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_6e1:
   \   000000   E1060000     DD 1761

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_44dc0000:
   \   000000   0000DC44     DD 44DC0000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_65:
   \   000000   65000000     DD 101

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_10:
   \   000000   10000000     DD 16

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_ffffffff:
   \   000000   FFFFFFFF     DD 4294967295

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_a:
   \   000000   0A000000     DD 10

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_64:
   \   000000   64000000     DD 100

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_1f4:
   \   000000   F4010000     DD 500

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_2:
   \   000000   02000000     DD 2

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_e10:
   \   000000   100E0000     DD 3600

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_fffff1f0:
   \   000000   F0F1FFFF     DD 4294963696

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_1:
   \   000000   01000000     DD 1

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_f42400:
   \   000000   0024F400     DD 16000000

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??USER_AFTER_RS_MSG?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    USER_AFTER_RS_MSG

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??UserApp_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    UserApp_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??UserApp_ProcessEvent?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    UserApp_ProcessEvent

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_HandleKeys?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_HandleKeys

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_ProcessBINDINGMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_ProcessBINDINGMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??USER_APP_JOIN_MSG?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    USER_APP_JOIN_MSG

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??USER_APP_COMMAND?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    USER_APP_COMMAND

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??USER_SET_RS_MSG?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    USER_SET_RS_MSG

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_SendInMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_SendInMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??User_APP_Drive_init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    User_APP_Drive_init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??READ_NETKEY?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    READ_NETKEY

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??LED_CHANGE?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    LED_CHANGE

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??USER_ZDO_JOINING_MSG?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    USER_ZDO_JOINING_MSG

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleAPP_ProcessZDOMsgs?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleAPP_ProcessZDOMsgs

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??CS5463_Send_PWER?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CS5463_Send_PWER

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??P_JiaoZhun_Process?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    P_JiaoZhun_Process
   1019          
   1020          
   1021          
   1022          /**********************************END OF FILE********************************/
   1023          /*****************************************************************************/
   1024          
   1025          
   1026          
   1027          
   1028          
   1029          
   1030          
   1031          
   1032          
   1033          
   1034          

   Maximum stack usage in bytes:

     Function                       ISTACK PSTACK XSTACK
     --------                       ------ ------ ------
     CS5463_Send_PWER                   2      0     44
       -> GetCurrentIrms                0      0     48
       -> GetPactive                    0      0     48
       -> SampleApp_SendInMessage       0      0     32
       -> SampleApp_SendInMessage       0      0     32
     LED_CHANGE                         0      0      0
     P_JiaoZhun_Process                 0      0     20
       -> osal_nv_item_init             0      0     36
       -> osal_nv_read                  0      0     40
     READ_NETKEY                        0      0      0
     SampleAPP_ProcessZDOMsgs           0      0     29
       -> HalLedBlink                   0      0     18
       -> HalLedBlink                   0      0     18
     SampleApp_HandleKeys               0      0     29
       -> SampleApp_send_in_binding_req
                                        0      0     18
       -> SampleApp_SendInMessage       0      0     18
       -> SampleApp_send_in_binding_req
                                        0      0     18
       -> SampleApp_SendInMessage       0      0     18
       -> APPLY_TO_JOIN_OF_KEY          0      0     18
       -> SampleApp_send_in_binding_req
                                        0      0     18
       -> SampleApp_PermitJoin          0      0     18
       -> SampleApp_PermitJoin          0      0     18
       -> HalLedBlink                   0      0     18
       -> RESTORE_TO_FACTORY            0      0     18
       -> osal_start_timerEx            0      0     18
     SampleApp_ProcessBINDINGMessage
                                        0      0      9
       -> SampleApp_SendInMessage       0      0     18
     SampleApp_SendInMessage            1      0     40
       -> osal_mem_alloc                0      0     40
       -> USER_SEND_ADD_STR             0      0     40
       -> USER_APP_SEND_IN              0      0     40
       -> osal_mem_free                 0      0     40
     USER_AFTER_RS_MSG                  0      0      0
     USER_APP_COMMAND                   2      0     28
       -> SampleApp_SendInMessage       0      0     40
       -> GetPactive                    0      0     56
       -> GetCurrentIrms                0      0     56
       -> osal_nv_item_init             0      0     44
       -> osal_nv_write                 0      0     48
       -> osal_nv_item_init             0      0     44
       -> osal_nv_write                 0      0     48
     USER_APP_JOIN_MSG                  0      0     10
       -> HalLedBlink                   0      0     20
       -> SampleApp_GetShortAddr        0      0     20
       -> osal_mem_free                 0      0     20
       -> osal_start_timerEx            0      0     20
       -> osal_start_timerEx            0      0     20
     USER_SET_RS_MSG                    2      0      0
     USER_ZDO_JOINING_MSG               2      0      0
       -> HalLedBlink                   4      0      0
     UserApp_Init                       0      0      9
       -> RegisterForKeys               0      0     18
       -> afRegister                    0      0     18
       -> afRegister                    0      0     18
       -> ZDO_RegisterForZDOMsg         0      0     18
       -> User_APP_Drive_init           0      0     18
     UserApp_ProcessEvent               0      0     24
       -> osal_msg_receive              0      0     40
       -> SampleApp_HandleKeys          0      0     40
       -> SampleAPP_ProcessZDOMsgs      0      0     40
       -> osal_msg_deallocate           0      0     40
       -> osal_msg_receive              0      0     40
       -> osal_nv_item_init             0      0     44
       -> osal_nv_read                  0      0     48
       -> CS5463_Send_PWER              0      0     40
       -> osal_start_timerEx            0      0     40
       -> SampleApp_SendInMessage       0      0     40
       -> osal_start_timerEx            0      0     40
       -> SampleApp_SendInMessage       0      0     40
       -> osal_start_timerEx            0      0     40
     User_APP_Drive_init                2      0      9
       -> InitCS5463                    4      0      0
       -> ConfigCS5463                  4      0      0
       -> P_JiaoZhun_Process            4      0      0


   Segment part sizes:

     Function/Label                                Bytes
     --------------                                -----
     _A_P0                                            1
     _A_P1                                            1
     P0DIR                                            1
     P1DIR                                            1
     UserApp_TaskID                                   1
     RS_LEN                                           1
     RS_STR                                          10
     DEVICE_ID                                        1
     DEFINED_CONTROL_CHAR                             1
     JOIN_ROLE                                        1
     SHORT_ADRESS                                     4
     USER_DATA_LEN                                    1
     USER_DATA_TYPE                                   1
     USER_DATA_STR                                    2
     P_Value                                          4
     USER_SampleApp_ClusterList                      26
     SampleApp_epDesc1                                6
     SampleApp_epDesc2                                6
     SampleApp_SimpleDesc1                           12
     SampleApp_SimpleDesc2                           12
     USER_bindingINClusters                           2
     P_Value_Pre                                      4
     P_Value_Now                                      4
     P_Value_energy                                   4
     P_Protect_Value                                  4
     P_Value_Distance                                 2
     P_Value_jiaozhun_Temp                            2
     I_Value_jiaozhun_Temp                            2
     P_Value_Bili_Temp                                4
     I_Value_Bili_Temp                                4
     P_Value_Bili                                     2
     I_Value_Bili                                     2
     Total_P_Value                                    4
     Total_P_Value_Temp                               4
     I_Value_Now                                      4
     CS5463_STR                                      10
     USER_AFTER_RS_MSG                                3
     UserApp_Init                                   119
     UserApp_ProcessEvent                           546
     SampleApp_HandleKeys                           264
     SampleApp_ProcessBINDINGMessage
                                                    278
     USER_APP_JOIN_MSG                              142
     USER_APP_COMMAND                              2322
     USER_SET_RS_MSG                                 43
     SampleApp_SendInMessage                        246
     User_APP_Drive_init                             51
     READ_NETKEY                                      8
     LED_CHANGE                                     137
     USER_ZDO_JOINING_MSG                            24
     SampleAPP_ProcessZDOMsgs                        84
     CS5463_Send_PWER                               667
     P_JiaoZhun_Process                             312
     ?<Initializer for USER_SampleApp_ClusterList>   26
     ?<Initializer for SampleApp_SimpleDesc1>        12
     ?<Initializer for SampleApp_SimpleDesc2>        12
     ?<Initializer for USER_bindingINClusters>        2
     ?<Initializer for P_Protect_Value>               4
     ?<Initializer for P_Value_Distance>              2
     ?<Initializer for P_Value_Bili_Temp>             4
     ?<Initializer for I_Value_Bili_Temp>             4
     __Constant_447a0000                              4
     __Constant_100                                   4
     __Constant_0                                     4
     __Constant_2710                                  4
     __Constant_3f800000                              4
     __Constant_3f99999a                              4
     __Constant_3e9                                   4
     __Constant_17                                    4
     __Constant_13881                                 4
     __Constant_13880                                 4
     __Constant_6e1                                   4
     __Constant_44dc0000                              4
     __Constant_65                                    4
     __Constant_10                                    4
     __Constant_ffffffff                              4
     __Constant_a                                     4
     __Constant_64                                    4
     __Constant_1f4                                   4
     __Constant_2                                     4
     __Constant_e10                                   4
     __Constant_fffff1f0                              4
     __Constant_1                                     4
     __Constant_f42400                                4
     ??USER_AFTER_RS_MSG?relay                        6
     ??UserApp_Init?relay                             6
     ??UserApp_ProcessEvent?relay                     6
     ??SampleApp_HandleKeys?relay                     6
     ??SampleApp_ProcessBINDINGMessage?relay          6
     ??USER_APP_JOIN_MSG?relay                        6
     ??USER_APP_COMMAND?relay                         6
     ??USER_SET_RS_MSG?relay                          6
     ??SampleApp_SendInMessage?relay                  6
     ??User_APP_Drive_init?relay                      6
     ??READ_NETKEY?relay                              6
     ??LED_CHANGE?relay                               6
     ??USER_ZDO_JOINING_MSG?relay                     6
     ??SampleAPP_ProcessZDOMsgs?relay                 6
     ??CS5463_Send_PWER?relay                         6
     ??P_JiaoZhun_Process?relay                       6

 
 5 246 bytes in segment BANKED_CODE
    96 bytes in segment BANK_RELAYS
     4 bytes in segment SFR_AN
    66 bytes in segment XDATA_I
    66 bytes in segment XDATA_ID
    92 bytes in segment XDATA_ROM_C
    81 bytes in segment XDATA_Z
 
 5 408 bytes of CODE  memory
     0 bytes of CONST memory (+ 92 bytes shared)
     0 bytes of DATA  memory (+  4 bytes shared)
   147 bytes of XDATA memory

Errors: none
Warnings: 6
